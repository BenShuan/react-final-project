var hI=Object.defineProperty;var fI=(n,t,e)=>t in n?hI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var zt=(n,t,e)=>fI(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=e(s);fetch(s.href,o)}})();function dI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var vp={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function gI(){if(mE)return Jc;mE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var u in s)u!=="key"&&(o[u]=s[u])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:o}}return Jc.Fragment=t,Jc.jsx=e,Jc.jsxs=e,Jc}var pE;function mI(){return pE||(pE=1,vp.exports=gI()),vp.exports}var F=mI(),bp={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yE;function pI(){if(yE)return $t;yE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,D={};function C(z,lt,pt){this.props=z,this.context=lt,this.refs=D,this.updater=pt||T}C.prototype.isReactComponent={},C.prototype.setState=function(z,lt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,lt,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function P(){}P.prototype=C.prototype;function U(z,lt,pt){this.props=z,this.context=lt,this.refs=D,this.updater=pt||T}var G=U.prototype=new P;G.constructor=U,S(G,C.prototype),G.isPureReactComponent=!0;var tt=Array.isArray,O={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function k(z,lt,pt,dt,ft,It){return pt=It.ref,{$$typeof:n,type:z,key:lt,ref:pt!==void 0?pt:null,props:It}}function x(z,lt){return k(z.type,lt,void 0,void 0,void 0,z.props)}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function M(z){var lt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(pt){return lt[pt]})}var V=/\/+/g;function j(z,lt){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):lt.toString(36)}function N(){}function Bt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(N,N):(z.status="pending",z.then(function(lt){z.status==="pending"&&(z.status="fulfilled",z.value=lt)},function(lt){z.status==="pending"&&(z.status="rejected",z.reason=lt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function _t(z,lt,pt,dt,ft){var It=typeof z;(It==="undefined"||It==="boolean")&&(z=null);var Nt=!1;if(z===null)Nt=!0;else switch(It){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(z.$$typeof){case n:case t:Nt=!0;break;case p:return Nt=z._init,_t(Nt(z._payload),lt,pt,dt,ft)}}if(Nt)return ft=ft(z),Nt=dt===""?"."+j(z,0):dt,tt(ft)?(pt="",Nt!=null&&(pt=Nt.replace(V,"$&/")+"/"),_t(ft,lt,pt,"",function(Yt){return Yt})):ft!=null&&(A(ft)&&(ft=x(ft,pt+(ft.key==null||z&&z.key===ft.key?"":(""+ft.key).replace(V,"$&/")+"/")+Nt)),lt.push(ft)),1;Nt=0;var Ae=dt===""?".":dt+":";if(tt(z))for(var se=0;se<z.length;se++)dt=z[se],It=Ae+j(dt,se),Nt+=_t(dt,lt,pt,It,ft);else if(se=b(z),typeof se=="function")for(z=se.call(z),se=0;!(dt=z.next()).done;)dt=dt.value,It=Ae+j(dt,se++),Nt+=_t(dt,lt,pt,It,ft);else if(It==="object"){if(typeof z.then=="function")return _t(Bt(z),lt,pt,dt,ft);throw lt=String(z),Error("Objects are not valid as a React child (found: "+(lt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":lt)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function nt(z,lt,pt){if(z==null)return z;var dt=[],ft=0;return _t(z,dt,"","",function(It){return lt.call(pt,It,ft++)}),dt}function mt(z){if(z._status===-1){var lt=z._result;lt=lt(),lt.then(function(pt){(z._status===0||z._status===-1)&&(z._status=1,z._result=pt)},function(pt){(z._status===0||z._status===-1)&&(z._status=2,z._result=pt)}),z._status===-1&&(z._status=0,z._result=lt)}if(z._status===1)return z._result.default;throw z._result}var ht=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var lt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(lt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function bt(){}return $t.Children={map:nt,forEach:function(z,lt,pt){nt(z,function(){lt.apply(this,arguments)},pt)},count:function(z){var lt=0;return nt(z,function(){lt++}),lt},toArray:function(z){return nt(z,function(lt){return lt})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},$t.Component=C,$t.Fragment=e,$t.Profiler=s,$t.PureComponent=U,$t.StrictMode=i,$t.Suspense=f,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,$t.act=function(){throw Error("act(...) is not supported in production builds of React.")},$t.cache=function(z){return function(){return z.apply(null,arguments)}},$t.cloneElement=function(z,lt,pt){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var dt=S({},z.props),ft=z.key,It=void 0;if(lt!=null)for(Nt in lt.ref!==void 0&&(It=void 0),lt.key!==void 0&&(ft=""+lt.key),lt)!K.call(lt,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&lt.ref===void 0||(dt[Nt]=lt[Nt]);var Nt=arguments.length-2;if(Nt===1)dt.children=pt;else if(1<Nt){for(var Ae=Array(Nt),se=0;se<Nt;se++)Ae[se]=arguments[se+2];dt.children=Ae}return k(z.type,ft,void 0,void 0,It,dt)},$t.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},$t.createElement=function(z,lt,pt){var dt,ft={},It=null;if(lt!=null)for(dt in lt.key!==void 0&&(It=""+lt.key),lt)K.call(lt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(ft[dt]=lt[dt]);var Nt=arguments.length-2;if(Nt===1)ft.children=pt;else if(1<Nt){for(var Ae=Array(Nt),se=0;se<Nt;se++)Ae[se]=arguments[se+2];ft.children=Ae}if(z&&z.defaultProps)for(dt in Nt=z.defaultProps,Nt)ft[dt]===void 0&&(ft[dt]=Nt[dt]);return k(z,It,void 0,void 0,null,ft)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(z){return{$$typeof:u,render:z}},$t.isValidElement=A,$t.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:mt}},$t.memo=function(z,lt){return{$$typeof:d,type:z,compare:lt===void 0?null:lt}},$t.startTransition=function(z){var lt=O.T,pt={};O.T=pt;try{var dt=z(),ft=O.S;ft!==null&&ft(pt,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(bt,ht)}catch(It){ht(It)}finally{O.T=lt}},$t.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},$t.use=function(z){return O.H.use(z)},$t.useActionState=function(z,lt,pt){return O.H.useActionState(z,lt,pt)},$t.useCallback=function(z,lt){return O.H.useCallback(z,lt)},$t.useContext=function(z){return O.H.useContext(z)},$t.useDebugValue=function(){},$t.useDeferredValue=function(z,lt){return O.H.useDeferredValue(z,lt)},$t.useEffect=function(z,lt){return O.H.useEffect(z,lt)},$t.useId=function(){return O.H.useId()},$t.useImperativeHandle=function(z,lt,pt){return O.H.useImperativeHandle(z,lt,pt)},$t.useInsertionEffect=function(z,lt){return O.H.useInsertionEffect(z,lt)},$t.useLayoutEffect=function(z,lt){return O.H.useLayoutEffect(z,lt)},$t.useMemo=function(z,lt){return O.H.useMemo(z,lt)},$t.useOptimistic=function(z,lt){return O.H.useOptimistic(z,lt)},$t.useReducer=function(z,lt,pt){return O.H.useReducer(z,lt,pt)},$t.useRef=function(z){return O.H.useRef(z)},$t.useState=function(z){return O.H.useState(z)},$t.useSyncExternalStore=function(z,lt,pt){return O.H.useSyncExternalStore(z,lt,pt)},$t.useTransition=function(){return O.H.useTransition()},$t.version="19.0.0",$t}var _E;function By(){return _E||(_E=1,bp.exports=pI()),bp.exports}var $=By();const NS=dI($);var Ep={exports:{}},tu={},wp={exports:{}},Tp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function yI(){return vE||(vE=1,function(n){function t(nt,mt){var ht=nt.length;nt.push(mt);t:for(;0<ht;){var bt=ht-1>>>1,z=nt[bt];if(0<s(z,mt))nt[bt]=mt,nt[ht]=z,ht=bt;else break t}}function e(nt){return nt.length===0?null:nt[0]}function i(nt){if(nt.length===0)return null;var mt=nt[0],ht=nt.pop();if(ht!==mt){nt[0]=ht;t:for(var bt=0,z=nt.length,lt=z>>>1;bt<lt;){var pt=2*(bt+1)-1,dt=nt[pt],ft=pt+1,It=nt[ft];if(0>s(dt,ht))ft<z&&0>s(It,dt)?(nt[bt]=It,nt[ft]=ht,bt=ft):(nt[bt]=dt,nt[pt]=ht,bt=pt);else if(ft<z&&0>s(It,ht))nt[bt]=It,nt[ft]=ht,bt=ft;else break t}}return mt}function s(nt,mt){var ht=nt.sortIndex-mt.sortIndex;return ht!==0?ht:nt.id-mt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var f=[],d=[],p=1,_=null,b=3,T=!1,S=!1,D=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function G(nt){for(var mt=e(d);mt!==null;){if(mt.callback===null)i(d);else if(mt.startTime<=nt)i(d),mt.sortIndex=mt.expirationTime,t(f,mt);else break;mt=e(d)}}function tt(nt){if(D=!1,G(nt),!S)if(e(f)!==null)S=!0,Bt();else{var mt=e(d);mt!==null&&_t(tt,mt.startTime-nt)}}var O=!1,K=-1,k=5,x=-1;function A(){return!(n.unstable_now()-x<k)}function M(){if(O){var nt=n.unstable_now();x=nt;var mt=!0;try{t:{S=!1,D&&(D=!1,P(K),K=-1),T=!0;var ht=b;try{e:{for(G(nt),_=e(f);_!==null&&!(_.expirationTime>nt&&A());){var bt=_.callback;if(typeof bt=="function"){_.callback=null,b=_.priorityLevel;var z=bt(_.expirationTime<=nt);if(nt=n.unstable_now(),typeof z=="function"){_.callback=z,G(nt),mt=!0;break e}_===e(f)&&i(f),G(nt)}else i(f);_=e(f)}if(_!==null)mt=!0;else{var lt=e(d);lt!==null&&_t(tt,lt.startTime-nt),mt=!1}}break t}finally{_=null,b=ht,T=!1}mt=void 0}}finally{mt?V():O=!1}}}var V;if(typeof U=="function")V=function(){U(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,N=j.port2;j.port1.onmessage=M,V=function(){N.postMessage(null)}}else V=function(){C(M,0)};function Bt(){O||(O=!0,V())}function _t(nt,mt){K=C(function(){nt(n.unstable_now())},mt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(nt){nt.callback=null},n.unstable_continueExecution=function(){S||T||(S=!0,Bt())},n.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<nt?Math.floor(1e3/nt):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(nt){switch(b){case 1:case 2:case 3:var mt=3;break;default:mt=b}var ht=b;b=mt;try{return nt()}finally{b=ht}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(nt,mt){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var ht=b;b=nt;try{return mt()}finally{b=ht}},n.unstable_scheduleCallback=function(nt,mt,ht){var bt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?bt+ht:bt):ht=bt,nt){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ht+z,nt={id:p++,callback:mt,priorityLevel:nt,startTime:ht,expirationTime:z,sortIndex:-1},ht>bt?(nt.sortIndex=ht,t(d,nt),e(f)===null&&nt===e(d)&&(D?(P(K),K=-1):D=!0,_t(tt,ht-bt))):(nt.sortIndex=z,t(f,nt),S||T||(S=!0,Bt())),nt},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(nt){var mt=b;return function(){var ht=b;b=mt;try{return nt.apply(this,arguments)}finally{b=ht}}}}(Tp)),Tp}var bE;function _I(){return bE||(bE=1,wp.exports=yI()),wp.exports}var Sp={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function vI(){if(EE)return Ln;EE=1;var n=By();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:f,containerInfo:d,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ln.createPortal=function(f,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,p)},Ln.flushSync=function(f){var d=l.T,p=i.p;try{if(l.T=null,i.p=2,f)return f()}finally{l.T=d,i.p=p,i.d.f()}},Ln.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},Ln.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ln.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var p=d.as,_=u(p,d.crossOrigin),b=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):p==="script"&&i.d.X(f,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ln.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=u(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},Ln.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,_=u(p,d.crossOrigin);i.d.L(f,p,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ln.preloadModule=function(f,d){if(typeof f=="string")if(d){var p=u(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},Ln.requestFormReset=function(f){i.d.r(f)},Ln.unstable_batchedUpdates=function(f,d){return f(d)},Ln.useFormState=function(f,d,p){return l.H.useFormState(f,d,p)},Ln.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ln.version="19.0.0",Ln}var wE;function LS(){if(wE)return Sp.exports;wE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Sp.exports=vI(),Sp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TE;function bI(){if(TE)return tu;TE=1;var n=_I(),t=By(),e=LS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var o=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),T=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),tt=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var k=Symbol.for("react.client.reference");function x(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===k?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case f:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case D:return"Suspense";case C:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case T:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case S:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return a=r.displayName||null,a!==null?a:x(r.type)||"Memo";case U:a=r._payload,r=r._init;try{return x(r(a))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=Object.assign,V,j;function N(r){if(V===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);V=a&&a[1]||"",j=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+r+j}var Bt=!1;function _t(r,a){if(!r||Bt)return"";Bt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(it){var Z=it}Reflect.construct(r,[],ut)}else{try{ut.call()}catch(it){Z=it}r.call(ut.prototype)}}else{try{throw Error()}catch(it){Z=it}(ut=r())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(it){if(it&&Z&&typeof it.stack=="string")return[it.stack,Z.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var L=w.split(`
`),q=R.split(`
`);for(m=h=0;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;for(;m<q.length&&!q[m].includes("DetermineComponentFrameRoot");)m++;if(h===L.length||m===q.length)for(h=L.length-1,m=q.length-1;1<=h&&0<=m&&L[h]!==q[m];)m--;for(;1<=h&&0<=m;h--,m--)if(L[h]!==q[m]){if(h!==1||m!==1)do if(h--,m--,0>m||L[h]!==q[m]){var rt=`
`+L[h].replace(" at new "," at ");return r.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",r.displayName)),rt}while(1<=h&&0<=m);break}}}finally{Bt=!1,Error.prepareStackTrace=c}return(c=r?r.displayName||r.name:"")?N(c):""}function nt(r){switch(r.tag){case 26:case 27:case 5:return N(r.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return r=_t(r.type,!1),r;case 11:return r=_t(r.type.render,!1),r;case 1:return r=_t(r.type,!0),r;default:return""}}function mt(r){try{var a="";do a+=nt(r),r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function ht(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function bt(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function z(r){if(ht(r)!==r)throw Error(i(188))}function lt(r){var a=r.alternate;if(!a){if(a=ht(r),a===null)throw Error(i(188));return a!==r?null:r}for(var c=r,h=a;;){var m=c.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===c)return z(m),r;if(y===h)return z(m),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=y;else{for(var w=!1,R=m.child;R;){if(R===c){w=!0,c=m,h=y;break}if(R===h){w=!0,h=m,c=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===c){w=!0,c=y,h=m;break}if(R===h){w=!0,h=y,c=m;break}R=R.sibling}if(!w)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?r:a}function pt(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=pt(r),a!==null)return a;r=r.sibling}return null}var dt=Array.isArray,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,It={pending:!1,data:null,method:null,action:null},Nt=[],Ae=-1;function se(r){return{current:r}}function Yt(r){0>Ae||(r.current=Nt[Ae],Nt[Ae]=null,Ae--)}function Zt(r,a){Ae++,Nt[Ae]=r.current,r.current=a}var dn=se(null),Fi=se(null),Ye=se(null),er=se(null);function nr(r,a){switch(Zt(Ye,a),Zt(Fi,r),Zt(dn,null),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?qb(a):0;break;default:if(r=r===8?a.parentNode:a,a=r.tagName,r=r.namespaceURI)r=qb(r),a=Gb(r,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Yt(dn),Zt(dn,a)}function mi(){Yt(dn),Yt(Fi),Yt(Ye)}function Ra(r){r.memoizedState!==null&&Zt(er,r);var a=dn.current,c=Gb(a,r.type);a!==c&&(Zt(Fi,r),Zt(dn,c))}function Es(r){Fi.current===r&&(Yt(dn),Yt(Fi)),er.current===r&&(Yt(er),Wc._currentValue=It)}var ws=Object.prototype.hasOwnProperty,Mr=n.unstable_scheduleCallback,Yn=n.unstable_cancelCallback,Or=n.unstable_shouldYield,Ts=n.unstable_requestPaint,gn=n.unstable_now,si=n.unstable_getCurrentPriorityLevel,Ee=n.unstable_ImmediatePriority,qe=n.unstable_UserBlockingPriority,ai=n.unstable_NormalPriority,Po=n.unstable_LowPriority,Qn=n.unstable_IdlePriority,No=n.log,ir=n.unstable_setDisableYieldValue,Hi=null,mn=null;function Ss(r){if(mn&&typeof mn.onCommitFiberRoot=="function")try{mn.onCommitFiberRoot(Hi,r,void 0,(r.current.flags&128)===128)}catch{}}function Hn(r){if(typeof No=="function"&&ir(r),mn&&typeof mn.setStrictMode=="function")try{mn.setStrictMode(Hi,r)}catch{}}var pn=Math.clz32?Math.clz32:Ca,kr=Math.log,Lo=Math.LN2;function Ca(r){return r>>>=0,r===0?32:31-(kr(r)/Lo|0)|0}var pi=128,qi=4194304;function Pn(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xn(r,a){var c=r.pendingLanes;if(c===0)return 0;var h=0,m=r.suspendedLanes,y=r.pingedLanes,w=r.warmLanes;r=r.finishedLanes!==0;var R=c&134217727;return R!==0?(c=R&~m,c!==0?h=Pn(c):(y&=R,y!==0?h=Pn(y):r||(w=R&~w,w!==0&&(h=Pn(w))))):(R=c&~m,R!==0?h=Pn(R):y!==0?h=Pn(y):r||(w=c&~w,w!==0&&(h=Pn(w)))),h===0?0:a!==0&&a!==h&&(a&m)===0&&(m=h&-h,w=a&-a,m>=w||m===32&&(w&4194176)!==0)?a:h}function rr(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function As(r,a){switch(r){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var r=pi;return pi<<=1,(pi&4194176)===0&&(pi=128),r}function W(){var r=qi;return qi<<=1,(qi&62914560)===0&&(qi=4194304),r}function J(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function st(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function yt(r,a,c,h,m,y){var w=r.pendingLanes;r.pendingLanes=c,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=c,r.entangledLanes&=c,r.errorRecoveryDisabledLanes&=c,r.shellSuspendCounter=0;var R=r.entanglements,L=r.expirationTimes,q=r.hiddenUpdates;for(c=w&~c;0<c;){var rt=31-pn(c),ut=1<<rt;R[rt]=0,L[rt]=-1;var Z=q[rt];if(Z!==null)for(q[rt]=null,rt=0;rt<Z.length;rt++){var it=Z[rt];it!==null&&(it.lane&=-536870913)}c&=~ut}h!==0&&kt(r,h,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(w&~a))}function kt(r,a,c){r.pendingLanes|=a,r.suspendedLanes&=~a;var h=31-pn(a);r.entangledLanes|=a,r.entanglements[h]=r.entanglements[h]|1073741824|c&4194218}function Ot(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var h=31-pn(c),m=1<<h;m&a|r[h]&a&&(r[h]|=a),c&=~m}}function Ct(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Dt(){var r=ft.p;return r!==0?r:(r=window.event,r===void 0?32:cE(r.type))}function vt(r,a){var c=ft.p;try{return ft.p=r,a()}finally{ft.p=c}}var wt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+wt,Vt="__reactProps$"+wt,fe="__reactContainer$"+wt,Ne="__reactEvents$"+wt,xe="__reactListeners$"+wt,ue="__reactHandles$"+wt,Oe="__reactResources$"+wt,qn="__reactMarker$"+wt;function oi(r){delete r[Tt],delete r[Vt],delete r[Ne],delete r[xe],delete r[ue]}function Ge(r){var a=r[Tt];if(a)return a;for(var c=r.parentNode;c;){if(a=c[fe]||c[Tt]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=Wb(r);r!==null;){if(c=r[Tt])return c;r=Wb(r)}return a}r=c,c=r.parentNode}return null}function Qe(r){if(r=r[Tt]||r[fe]){var a=r.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return r}return null}function yi(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Xn(r){var a=r[Oe];return a||(a=r[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function pe(r){r[qn]=!0}var sr=new Set,Gi={};function Kt(r,a){ye(r,a),ye(r+"Capture",a)}function ye(r,a){for(Gi[r]=a,r=0;r<a.length;r++)sr.add(a[r])}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ie={},_i={};function Ia(r){return ws.call(_i,r)?!0:ws.call(Ie,r)?!1:Pr.test(r)?_i[r]=!0:(Ie[r]=!0,!1)}function ar(r,a,c){if(Ia(a))if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+c)}}function xs(r,a,c){if(c===null)r.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+c)}}function vi(r,a,c,h){if(h===null)r.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(c);return}r.setAttributeNS(a,c,""+h)}}function Gn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function mh(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Sg(r){var a=mh(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),h=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,y=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){h=""+w,y.call(this,w)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(w){h=""+w},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Da(r){r._valueTracker||(r._valueTracker=Sg(r))}function rc(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return r&&(h=mh(r)?r.checked?"true":"false":r.value),r=h,r!==c?(a.setValue(r),!0):!1}function Vo(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Nr=/[\n"\\]/g;function ze(r){return r.replace(Nr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Rs(r,a,c,h,m,y,w,R){r.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.type=w:r.removeAttribute("type"),a!=null?w==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+Gn(a)):r.value!==""+Gn(a)&&(r.value=""+Gn(a)):w!=="submit"&&w!=="reset"||r.removeAttribute("value"),a!=null?Uo(r,w,Gn(a)):c!=null?Uo(r,w,Gn(c)):h!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?r.name=""+Gn(R):r.removeAttribute("name")}function Ma(r,a,c,h,m,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;c=c!=null?""+Gn(c):"",a=a!=null?""+Gn(a):c,R||a===r.value||(r.value=a),r.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,r.checked=R?r.checked:!!h,r.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.name=w)}function Uo(r,a,c){a==="number"&&Vo(r.ownerDocument)===r||r.defaultValue===""+c||(r.defaultValue=""+c)}function de(r,a,c,h){if(r=r.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<r.length;c++)m=a.hasOwnProperty("$"+r[c].value),r[c].selected!==m&&(r[c].selected=m),m&&h&&(r[c].defaultSelected=!0)}else{for(c=""+Gn(c),a=null,m=0;m<r.length;m++){if(r[m].value===c){r[m].selected=!0,h&&(r[m].defaultSelected=!0);return}a!==null||r[m].disabled||(a=r[m])}a!==null&&(a.selected=!0)}}function Oa(r,a,c){if(a!=null&&(a=""+Gn(a),a!==r.value&&(r.value=a),c==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=c!=null?""+Gn(c):""}function Cs(r,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(dt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Gn(a),r.defaultValue=c,h=r.textContent,h===c&&h!==""&&h!==null&&(r.value=h)}function bi(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(r,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":h?r.setProperty(a,c):typeof c!="number"||c===0||Ag.has(a)?a==="float"?r.cssFloat=c:r[a]=(""+c).trim():r[a]=c+"px"}function ph(r,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?r.setProperty(h,""):h==="float"?r.cssFloat="":r[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&sc(r,m,h)}else for(var y in a)a.hasOwnProperty(y)&&sc(r,y,a[y])}function ac(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(r){return Rg.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Ei=null;function zo(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Lr=null,Vr=null;function Ur(r){var a=Qe(r);if(a&&(r=a.stateNode)){var c=r[Vt]||null;t:switch(r=a.stateNode,a.type){case"input":if(Rs(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+ze(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==r&&h.form===r.form){var m=h[Vt]||null;if(!m)throw Error(i(90));Rs(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===r.form&&rc(h)}break t;case"textarea":Oa(r,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&de(r,!!c.multiple,a,!1)}}}var oc=!1;function yh(r,a,c){if(oc)return r(a,c);oc=!0;try{var h=r(a);return h}finally{if(oc=!1,(Lr!==null||Vr!==null)&&(cf(),Lr&&(a=Lr,r=Vr,Vr=Lr=null,Ur(a),r)))for(a=0;a<r.length;a++)Ur(r[a])}}function ka(r,a){var c=r.stateNode;if(c===null)return null;var h=c[Vt]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break t;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var wi=!1;if(yn)try{var Pa={};Object.defineProperty(Pa,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Pa,Pa),window.removeEventListener("test",Pa,Pa)}catch{wi=!1}var lr=null,Is=null,zr=null;function lc(){if(zr)return zr;var r,a=Is,c=a.length,h,m="value"in lr?lr.value:lr.textContent,y=m.length;for(r=0;r<c&&a[r]===m[r];r++);var w=c-r;for(h=1;h<=w&&a[c-h]===m[y-h];h++);return zr=m.slice(r,1<h?1-h:void 0)}function cr(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function ur(){return!0}function cc(){return!1}function _n(r){function a(c,h,m,y,w){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(c=r[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ur:cc,this.isPropagationStopped=cc,this}return M(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ur)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ur)},persist:function(){},isPersistent:ur}),a}var ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=_n(ve),Na=M({},ve,{view:0,detail:0}),_h=_n(Na),Bo,Fo,hr,La=M({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:za,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==hr&&(hr&&r.type==="mousemove"?(Bo=r.screenX-hr.screenX,Fo=r.screenY-hr.screenY):Fo=Bo=0,hr=r),Bo)},movementY:function(r){return"movementY"in r?r.movementY:Fo}}),Ti=_n(La),vh=M({},La,{dataTransfer:0}),Cg=_n(vh),Va=M({},Na,{relatedTarget:0}),Ho=_n(Va),uc=M({},ve,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=_n(uc),bh=M({},ve,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Go=_n(bh),Ig=M({},ve,{data:0}),hc=_n(Ig),Ua={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=wh[r])?!!a[r]:!1}function za(){return fc}var Th=M({},Na,{key:function(r){if(r.key){var a=Ua[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=cr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Eh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:za,charCode:function(r){return r.type==="keypress"?cr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?cr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),$o=_n(Th),Sh=M({},La,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=_n(Sh),jr=M({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:za}),Ah=_n(jr),xh=M({},ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rh=_n(xh),Ch=M({},La,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ko=_n(Ch),$n=M({},ve,{newState:0,oldState:0}),Ih=_n($n),Dh=[9,13,27,32],fr=yn&&"CompositionEvent"in window,g=null;yn&&"documentMode"in document&&(g=document.documentMode);var v=yn&&"TextEvent"in window&&!g,E=yn&&(!fr||g&&8<g&&11>=g),I=" ",Q=!1;function et(r,a){switch(r){case"keyup":return Dh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gt(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ae=!1;function sn(r,a){switch(r){case"compositionend":return gt(a);case"keypress":return a.which!==32?null:(Q=!0,I);case"textInput":return r=a.data,r===I&&Q?null:r;default:return null}}function oe(r,a){if(ae)return r==="compositionend"||!fr&&et(r,a)?(r=lc(),zr=Is=lr=null,ae=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function an(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!vn[r.type]:a==="textarea"}function Br(r,a,c,h){Lr?Vr?Vr.push(h):Vr=[h]:Lr=h,a=gf(a,"onChange"),0<a.length&&(c=new jo("onChange","change",null,c,h),r.push({event:c,listeners:a}))}var Rn=null,dr=null;function gc(r){zb(r,0)}function Mh(r){var a=yi(r);if(rc(a))return r}function gv(r,a){if(r==="change")return a}var mv=!1;if(yn){var Dg;if(yn){var Mg="oninput"in document;if(!Mg){var pv=document.createElement("div");pv.setAttribute("oninput","return;"),Mg=typeof pv.oninput=="function"}Dg=Mg}else Dg=!1;mv=Dg&&(!document.documentMode||9<document.documentMode)}function yv(){Rn&&(Rn.detachEvent("onpropertychange",_v),dr=Rn=null)}function _v(r){if(r.propertyName==="value"&&Mh(dr)){var a=[];Br(a,dr,r,zo(r)),yh(gc,a)}}function B1(r,a,c){r==="focusin"?(yv(),Rn=a,dr=c,Rn.attachEvent("onpropertychange",_v)):r==="focusout"&&yv()}function F1(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mh(dr)}function H1(r,a){if(r==="click")return Mh(a)}function q1(r,a){if(r==="input"||r==="change")return Mh(a)}function G1(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var li=typeof Object.is=="function"?Object.is:G1;function mc(r,a){if(li(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!ws.call(a,m)||!li(r[m],a[m]))return!1}return!0}function vv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function bv(r,a){var c=vv(r);r=0;for(var h;c;){if(c.nodeType===3){if(h=r+c.textContent.length,r<=a&&h>=a)return{node:c,offset:a-r};r=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=vv(c)}}function Ev(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?Ev(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function wv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Vo(r.document);a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=Vo(r.document)}return a}function Og(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function $1(r,a){var c=wv(a);a=r.focusedElem;var h=r.selectionRange;if(c!==a&&a&&a.ownerDocument&&Ev(a.ownerDocument.documentElement,a)){if(h!==null&&Og(a)){if(r=h.start,c=h.end,c===void 0&&(c=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(c,a.value.length);else if(c=(r=a.ownerDocument||document)&&r.defaultView||window,c.getSelection){c=c.getSelection();var m=a.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!c.extend&&y>h&&(m=h,h=y,y=m),m=bv(a,y);var w=bv(a,h);m&&w&&(c.rangeCount!==1||c.anchorNode!==m.node||c.anchorOffset!==m.offset||c.focusNode!==w.node||c.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),c.removeAllRanges(),y>h?(c.addRange(r),c.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),c.addRange(r)))}}for(r=[],c=a;c=c.parentNode;)c.nodeType===1&&r.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)c=r[a],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var K1=yn&&"documentMode"in document&&11>=document.documentMode,Wo=null,kg=null,pc=null,Pg=!1;function Tv(r,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Pg||Wo==null||Wo!==Vo(h)||(h=Wo,"selectionStart"in h&&Og(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),pc&&mc(pc,h)||(pc=h,h=gf(kg,"onSelect"),0<h.length&&(a=new jo("onSelect","select",null,a,c),r.push({event:a,listeners:h}),a.target=Wo)))}function ja(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var Yo={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Ng={},Sv={};yn&&(Sv=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Ba(r){if(Ng[r])return Ng[r];if(!Yo[r])return r;var a=Yo[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in Sv)return Ng[r]=a[c];return r}var Av=Ba("animationend"),xv=Ba("animationiteration"),Rv=Ba("animationstart"),W1=Ba("transitionrun"),Y1=Ba("transitionstart"),Q1=Ba("transitioncancel"),Cv=Ba("transitionend"),Iv=new Map,Dv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function $i(r,a){Iv.set(r,a),Kt(a,[r])}var Si=[],Qo=0,Lg=0;function Oh(){for(var r=Qo,a=Lg=Qo=0;a<r;){var c=Si[a];Si[a++]=null;var h=Si[a];Si[a++]=null;var m=Si[a];Si[a++]=null;var y=Si[a];if(Si[a++]=null,h!==null&&m!==null){var w=h.pending;w===null?m.next=m:(m.next=w.next,w.next=m),h.pending=m}y!==0&&Mv(c,m,y)}}function kh(r,a,c,h){Si[Qo++]=r,Si[Qo++]=a,Si[Qo++]=c,Si[Qo++]=h,Lg|=h,r.lanes|=h,r=r.alternate,r!==null&&(r.lanes|=h)}function Vg(r,a,c,h){return kh(r,a,c,h),Ph(r)}function Ds(r,a){return kh(r,null,null,a),Ph(r)}function Mv(r,a,c){r.lanes|=c;var h=r.alternate;h!==null&&(h.lanes|=c);for(var m=!1,y=r.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;m&&a!==null&&r.tag===3&&(y=r.stateNode,m=31-pn(c),y=y.hiddenUpdates,r=y[m],r===null?y[m]=[a]:r.push(a),a.lane=c|536870912)}function Ph(r){if(50<Bc)throw Bc=0,Hm=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Xo={},Ov=new WeakMap;function Ai(r,a){if(typeof r=="object"&&r!==null){var c=Ov.get(r);return c!==void 0?c:(a={value:r,source:a,stack:mt(a)},Ov.set(r,a),a)}return{value:r,source:a,stack:mt(a)}}var Zo=[],Jo=0,Nh=null,Lh=0,xi=[],Ri=0,Fa=null,Fr=1,Hr="";function Ha(r,a){Zo[Jo++]=Lh,Zo[Jo++]=Nh,Nh=r,Lh=a}function kv(r,a,c){xi[Ri++]=Fr,xi[Ri++]=Hr,xi[Ri++]=Fa,Fa=r;var h=Fr;r=Hr;var m=32-pn(h)-1;h&=~(1<<m),c+=1;var y=32-pn(a)+m;if(30<y){var w=m-m%5;y=(h&(1<<w)-1).toString(32),h>>=w,m-=w,Fr=1<<32-pn(a)+m|c<<m|h,Hr=y+r}else Fr=1<<y|c<<m|h,Hr=r}function Ug(r){r.return!==null&&(Ha(r,1),kv(r,1,0))}function zg(r){for(;r===Nh;)Nh=Zo[--Jo],Zo[Jo]=null,Lh=Zo[--Jo],Zo[Jo]=null;for(;r===Fa;)Fa=xi[--Ri],xi[Ri]=null,Hr=xi[--Ri],xi[Ri]=null,Fr=xi[--Ri],xi[Ri]=null}var Kn=null,Cn=null,ge=!1,Ki=null,gr=!1,jg=Error(i(519));function qa(r){var a=Error(i(418,""));throw vc(Ai(a,r)),jg}function Pv(r){var a=r.stateNode,c=r.type,h=r.memoizedProps;switch(a[Tt]=r,a[Vt]=h,c){case"dialog":ne("cancel",a),ne("close",a);break;case"iframe":case"object":case"embed":ne("load",a);break;case"video":case"audio":for(c=0;c<Hc.length;c++)ne(Hc[c],a);break;case"source":ne("error",a);break;case"img":case"image":case"link":ne("error",a),ne("load",a);break;case"details":ne("toggle",a);break;case"input":ne("invalid",a),Ma(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Da(a);break;case"select":ne("invalid",a);break;case"textarea":ne("invalid",a),Cs(a,h.value,h.defaultValue,h.children),Da(a)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||Hb(a.textContent,c)?(h.popover!=null&&(ne("beforetoggle",a),ne("toggle",a)),h.onScroll!=null&&ne("scroll",a),h.onScrollEnd!=null&&ne("scrollend",a),h.onClick!=null&&(a.onclick=mf),a=!0):a=!1,a||qa(r)}function Nv(r){for(Kn=r.return;Kn;)switch(Kn.tag){case 3:case 27:gr=!0;return;case 5:case 13:gr=!1;return;default:Kn=Kn.return}}function yc(r){if(r!==Kn)return!1;if(!ge)return Nv(r),ge=!0,!1;var a=!1,c;if((c=r.tag!==3&&r.tag!==27)&&((c=r.tag===5)&&(c=r.type,c=!(c!=="form"&&c!=="button")||ap(r.type,r.memoizedProps)),c=!c),c&&(a=!0),a&&Cn&&qa(r),Nv(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8)if(c=r.data,c==="/$"){if(a===0){Cn=Yi(r.nextSibling);break t}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++;r=r.nextSibling}Cn=null}}else Cn=Kn?Yi(r.stateNode.nextSibling):null;return!0}function _c(){Cn=Kn=null,ge=!1}function vc(r){Ki===null?Ki=[r]:Ki.push(r)}var bc=Error(i(460)),Lv=Error(i(474)),Bg={then:function(){}};function Vv(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Vh(){}function Uv(r,a,c){switch(c=r[c],c===void 0?r.push(a):c!==a&&(a.then(Vh,Vh),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===bc?Error(i(483)):r;default:if(typeof a.status=="string")a.then(Vh,Vh);else{if(r=De,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,r===bc?Error(i(483)):r}throw Ec=a,bc}}var Ec=null;function zv(){if(Ec===null)throw Error(i(459));var r=Ec;return Ec=null,r}var tl=null,wc=0;function Uh(r){var a=wc;return wc+=1,tl===null&&(tl=[]),Uv(tl,r,a)}function Tc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function zh(r,a){throw a.$$typeof===o?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function jv(r){var a=r._init;return a(r._payload)}function Bv(r){function a(Y,H){if(r){var X=Y.deletions;X===null?(Y.deletions=[H],Y.flags|=16):X.push(H)}}function c(Y,H){if(!r)return null;for(;H!==null;)a(Y,H),H=H.sibling;return null}function h(Y){for(var H=new Map;Y!==null;)Y.key!==null?H.set(Y.key,Y):H.set(Y.index,Y),Y=Y.sibling;return H}function m(Y,H){return Y=Fs(Y,H),Y.index=0,Y.sibling=null,Y}function y(Y,H,X){return Y.index=X,r?(X=Y.alternate,X!==null?(X=X.index,X<H?(Y.flags|=33554434,H):X):(Y.flags|=33554434,H)):(Y.flags|=1048576,H)}function w(Y){return r&&Y.alternate===null&&(Y.flags|=33554434),Y}function R(Y,H,X,at){return H===null||H.tag!==6?(H=Nm(X,Y.mode,at),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function L(Y,H,X,at){var At=X.type;return At===f?rt(Y,H,X.props.children,at,X.key):H!==null&&(H.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===U&&jv(At)===H.type)?(H=m(H,X.props),Tc(H,X),H.return=Y,H):(H=rf(X.type,X.key,X.props,null,Y.mode,at),Tc(H,X),H.return=Y,H)}function q(Y,H,X,at){return H===null||H.tag!==4||H.stateNode.containerInfo!==X.containerInfo||H.stateNode.implementation!==X.implementation?(H=Lm(X,Y.mode,at),H.return=Y,H):(H=m(H,X.children||[]),H.return=Y,H)}function rt(Y,H,X,at,At){return H===null||H.tag!==7?(H=to(X,Y.mode,at,At),H.return=Y,H):(H=m(H,X),H.return=Y,H)}function ut(Y,H,X){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Nm(""+H,Y.mode,X),H.return=Y,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case l:return X=rf(H.type,H.key,H.props,null,Y.mode,X),Tc(X,H),X.return=Y,X;case u:return H=Lm(H,Y.mode,X),H.return=Y,H;case U:var at=H._init;return H=at(H._payload),ut(Y,H,X)}if(dt(H)||K(H))return H=to(H,Y.mode,X,null),H.return=Y,H;if(typeof H.then=="function")return ut(Y,Uh(H),X);if(H.$$typeof===T)return ut(Y,tf(Y,H),X);zh(Y,H)}return null}function Z(Y,H,X,at){var At=H!==null?H.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return At!==null?null:R(Y,H,""+X,at);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case l:return X.key===At?L(Y,H,X,at):null;case u:return X.key===At?q(Y,H,X,at):null;case U:return At=X._init,X=At(X._payload),Z(Y,H,X,at)}if(dt(X)||K(X))return At!==null?null:rt(Y,H,X,at,null);if(typeof X.then=="function")return Z(Y,H,Uh(X),at);if(X.$$typeof===T)return Z(Y,H,tf(Y,X),at);zh(Y,X)}return null}function it(Y,H,X,at,At){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return Y=Y.get(X)||null,R(H,Y,""+at,At);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case l:return Y=Y.get(at.key===null?X:at.key)||null,L(H,Y,at,At);case u:return Y=Y.get(at.key===null?X:at.key)||null,q(H,Y,at,At);case U:var Qt=at._init;return at=Qt(at._payload),it(Y,H,X,at,At)}if(dt(at)||K(at))return Y=Y.get(X)||null,rt(H,Y,at,At,null);if(typeof at.then=="function")return it(Y,H,X,Uh(at),At);if(at.$$typeof===T)return it(Y,H,X,tf(H,at),At);zh(H,at)}return null}function Mt(Y,H,X,at){for(var At=null,Qt=null,Pt=H,Ut=H=0,wn=null;Pt!==null&&Ut<X.length;Ut++){Pt.index>Ut?(wn=Pt,Pt=null):wn=Pt.sibling;var me=Z(Y,Pt,X[Ut],at);if(me===null){Pt===null&&(Pt=wn);break}r&&Pt&&me.alternate===null&&a(Y,Pt),H=y(me,H,Ut),Qt===null?At=me:Qt.sibling=me,Qt=me,Pt=wn}if(Ut===X.length)return c(Y,Pt),ge&&Ha(Y,Ut),At;if(Pt===null){for(;Ut<X.length;Ut++)Pt=ut(Y,X[Ut],at),Pt!==null&&(H=y(Pt,H,Ut),Qt===null?At=Pt:Qt.sibling=Pt,Qt=Pt);return ge&&Ha(Y,Ut),At}for(Pt=h(Pt);Ut<X.length;Ut++)wn=it(Pt,Y,Ut,X[Ut],at),wn!==null&&(r&&wn.alternate!==null&&Pt.delete(wn.key===null?Ut:wn.key),H=y(wn,H,Ut),Qt===null?At=wn:Qt.sibling=wn,Qt=wn);return r&&Pt.forEach(function(Ys){return a(Y,Ys)}),ge&&Ha(Y,Ut),At}function qt(Y,H,X,at){if(X==null)throw Error(i(151));for(var At=null,Qt=null,Pt=H,Ut=H=0,wn=null,me=X.next();Pt!==null&&!me.done;Ut++,me=X.next()){Pt.index>Ut?(wn=Pt,Pt=null):wn=Pt.sibling;var Ys=Z(Y,Pt,me.value,at);if(Ys===null){Pt===null&&(Pt=wn);break}r&&Pt&&Ys.alternate===null&&a(Y,Pt),H=y(Ys,H,Ut),Qt===null?At=Ys:Qt.sibling=Ys,Qt=Ys,Pt=wn}if(me.done)return c(Y,Pt),ge&&Ha(Y,Ut),At;if(Pt===null){for(;!me.done;Ut++,me=X.next())me=ut(Y,me.value,at),me!==null&&(H=y(me,H,Ut),Qt===null?At=me:Qt.sibling=me,Qt=me);return ge&&Ha(Y,Ut),At}for(Pt=h(Pt);!me.done;Ut++,me=X.next())me=it(Pt,Y,Ut,me.value,at),me!==null&&(r&&me.alternate!==null&&Pt.delete(me.key===null?Ut:me.key),H=y(me,H,Ut),Qt===null?At=me:Qt.sibling=me,Qt=me);return r&&Pt.forEach(function(uI){return a(Y,uI)}),ge&&Ha(Y,Ut),At}function Fe(Y,H,X,at){if(typeof X=="object"&&X!==null&&X.type===f&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case l:t:{for(var At=X.key;H!==null;){if(H.key===At){if(At=X.type,At===f){if(H.tag===7){c(Y,H.sibling),at=m(H,X.props.children),at.return=Y,Y=at;break t}}else if(H.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===U&&jv(At)===H.type){c(Y,H.sibling),at=m(H,X.props),Tc(at,X),at.return=Y,Y=at;break t}c(Y,H);break}else a(Y,H);H=H.sibling}X.type===f?(at=to(X.props.children,Y.mode,at,X.key),at.return=Y,Y=at):(at=rf(X.type,X.key,X.props,null,Y.mode,at),Tc(at,X),at.return=Y,Y=at)}return w(Y);case u:t:{for(At=X.key;H!==null;){if(H.key===At)if(H.tag===4&&H.stateNode.containerInfo===X.containerInfo&&H.stateNode.implementation===X.implementation){c(Y,H.sibling),at=m(H,X.children||[]),at.return=Y,Y=at;break t}else{c(Y,H);break}else a(Y,H);H=H.sibling}at=Lm(X,Y.mode,at),at.return=Y,Y=at}return w(Y);case U:return At=X._init,X=At(X._payload),Fe(Y,H,X,at)}if(dt(X))return Mt(Y,H,X,at);if(K(X)){if(At=K(X),typeof At!="function")throw Error(i(150));return X=At.call(X),qt(Y,H,X,at)}if(typeof X.then=="function")return Fe(Y,H,Uh(X),at);if(X.$$typeof===T)return Fe(Y,H,tf(Y,X),at);zh(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,H!==null&&H.tag===6?(c(Y,H.sibling),at=m(H,X),at.return=Y,Y=at):(c(Y,H),at=Nm(X,Y.mode,at),at.return=Y,Y=at),w(Y)):c(Y,H)}return function(Y,H,X,at){try{wc=0;var At=Fe(Y,H,X,at);return tl=null,At}catch(Pt){if(Pt===bc)throw Pt;var Qt=Mi(29,Pt,null,Y.mode);return Qt.lanes=at,Qt.return=Y,Qt}finally{}}}var Ga=Bv(!0),Fv=Bv(!1),el=se(null),jh=se(0);function Hv(r,a){r=ts,Zt(jh,r),Zt(el,a),ts=r|a.baseLanes}function Fg(){Zt(jh,ts),Zt(el,el.current)}function Hg(){ts=jh.current,Yt(el),Yt(jh)}var Ci=se(null),mr=null;function Ms(r){var a=r.alternate;Zt(on,on.current&1),Zt(Ci,r),mr===null&&(a===null||el.current!==null||a.memoizedState!==null)&&(mr=r)}function qv(r){if(r.tag===22){if(Zt(on,on.current),Zt(Ci,r),mr===null){var a=r.alternate;a!==null&&a.memoizedState!==null&&(mr=r)}}else Os()}function Os(){Zt(on,on.current),Zt(Ci,Ci.current)}function qr(r){Yt(Ci),mr===r&&(mr=null),Yt(on)}var on=se(0);function Bh(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var X1=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(c,h){r.push(h)}};this.abort=function(){a.aborted=!0,r.forEach(function(c){return c()})}},Z1=n.unstable_scheduleCallback,J1=n.unstable_NormalPriority,ln={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qg(){return{controller:new X1,data:new Map,refCount:0}}function Sc(r){r.refCount--,r.refCount===0&&Z1(J1,function(){r.controller.abort()})}var Ac=null,Gg=0,nl=0,il=null;function tC(r,a){if(Ac===null){var c=Ac=[];Gg=0,nl=Xm(),il={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Gg++,a.then(Gv,Gv),a}function Gv(){if(--Gg===0&&Ac!==null){il!==null&&(il.status="fulfilled");var r=Ac;Ac=null,nl=0,il=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function eC(r,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return r.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var $v=A.S;A.S=function(r,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&tC(r,a),$v!==null&&$v(r,a)};var $a=se(null);function $g(){var r=$a.current;return r!==null?r:De.pooledCache}function Fh(r,a){a===null?Zt($a,$a.current):Zt($a,a.pool)}function Kv(){var r=$g();return r===null?null:{parent:ln._currentValue,pool:r}}var ks=0,Wt=null,Te=null,Xe=null,Hh=!1,rl=!1,Ka=!1,qh=0,xc=0,sl=null,nC=0;function $e(){throw Error(i(321))}function Kg(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!li(r[c],a[c]))return!1;return!0}function Wg(r,a,c,h,m,y){return ks=y,Wt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=r===null||r.memoizedState===null?Wa:Ps,Ka=!1,y=c(h,m),Ka=!1,rl&&(y=Yv(a,c,h,m)),Wv(r),y}function Wv(r){A.H=pr;var a=Te!==null&&Te.next!==null;if(ks=0,Xe=Te=Wt=null,Hh=!1,xc=0,sl=null,a)throw Error(i(300));r===null||bn||(r=r.dependencies,r!==null&&Jh(r)&&(bn=!0))}function Yv(r,a,c,h){Wt=r;var m=0;do{if(rl&&(sl=null),xc=0,rl=!1,25<=m)throw Error(i(301));if(m+=1,Xe=Te=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}A.H=Ya,y=a(c,h)}while(rl);return y}function iC(){var r=A.H,a=r.useState()[0];return a=typeof a.then=="function"?Rc(a):a,r=r.useState()[0],(Te!==null?Te.memoizedState:null)!==r&&(Wt.flags|=1024),a}function Yg(){var r=qh!==0;return qh=0,r}function Qg(r,a,c){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~c}function Xg(r){if(Hh){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Hh=!1}ks=0,Xe=Te=Wt=null,rl=!1,xc=qh=0,sl=null}function Zn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Wt.memoizedState=Xe=r:Xe=Xe.next=r,Xe}function Ze(){if(Te===null){var r=Wt.alternate;r=r!==null?r.memoizedState:null}else r=Te.next;var a=Xe===null?Wt.memoizedState:Xe.next;if(a!==null)Xe=a,Te=r;else{if(r===null)throw Wt.alternate===null?Error(i(467)):Error(i(310));Te=r,r={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Xe===null?Wt.memoizedState=Xe=r:Xe=Xe.next=r}return Xe}var Gh;Gh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rc(r){var a=xc;return xc+=1,sl===null&&(sl=[]),r=Uv(sl,r,a),a=Wt,(Xe===null?a.memoizedState:Xe.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Wa:Ps),r}function $h(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Rc(r);if(r.$$typeof===T)return Nn(r)}throw Error(i(438,String(r)))}function Zg(r){var a=null,c=Wt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Wt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Gh(),Wt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(r),h=0;h<r;h++)c[h]=tt;return a.index++,c}function Gr(r,a){return typeof a=="function"?a(r):a}function Kh(r){var a=Ze();return Jg(a,Te,r)}function Jg(r,a,c){var h=r.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=r.baseQueue,y=h.pending;if(y!==null){if(m!==null){var w=m.next;m.next=y.next,y.next=w}a.baseQueue=m=y,h.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{a=m.next;var R=w=null,L=null,q=a,rt=!1;do{var ut=q.lane&-536870913;if(ut!==q.lane?(le&ut)===ut:(ks&ut)===ut){var Z=q.revertLane;if(Z===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ut===nl&&(rt=!0);else if((ks&Z)===Z){q=q.next,Z===nl&&(rt=!0);continue}else ut={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(R=L=ut,w=y):L=L.next=ut,Wt.lanes|=Z,Hs|=Z;ut=q.action,Ka&&c(y,ut),y=q.hasEagerState?q.eagerState:c(y,ut)}else Z={lane:ut,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(R=L=Z,w=y):L=L.next=Z,Wt.lanes|=ut,Hs|=ut;q=q.next}while(q!==null&&q!==a);if(L===null?w=y:L.next=R,!li(y,r.memoizedState)&&(bn=!0,rt&&(c=il,c!==null)))throw c;r.memoizedState=y,r.baseState=w,r.baseQueue=L,h.lastRenderedState=y}return m===null&&(h.lanes=0),[r.memoizedState,h.dispatch]}function tm(r){var a=Ze(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=r;var h=c.dispatch,m=c.pending,y=a.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do y=r(y,w.action),w=w.next;while(w!==m);li(y,a.memoizedState)||(bn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Qv(r,a,c){var h=Wt,m=Ze(),y=ge;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var w=!li((Te||m).memoizedState,c);if(w&&(m.memoizedState=c,bn=!0),m=m.queue,im(Jv.bind(null,h,m,r),[r]),m.getSnapshot!==a||w||Xe!==null&&Xe.memoizedState.tag&1){if(h.flags|=2048,al(9,Zv.bind(null,h,m,c,a),{destroy:void 0},null),De===null)throw Error(i(349));y||(ks&60)!==0||Xv(h,a,c)}return c}function Xv(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Wt.updateQueue,a===null?(a=Gh(),Wt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function Zv(r,a,c,h){a.value=c,a.getSnapshot=h,t0(a)&&e0(r)}function Jv(r,a,c){return c(function(){t0(a)&&e0(r)})}function t0(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!li(r,c)}catch{return!0}}function e0(r){var a=Ds(r,2);a!==null&&Wn(a,r,2)}function em(r){var a=Zn();if(typeof r=="function"){var c=r;if(r=c(),Ka){Hn(!0);try{c()}finally{Hn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:r},a}function n0(r,a,c,h){return r.baseState=c,Jg(r,Te,typeof h=="function"?h:Gr)}function rC(r,a,c,h,m){if(Qh(r))throw Error(i(485));if(r=a.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};A.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,i0(a,y)):(y.next=c.next,a.pending=c.next=y)}}function i0(r,a){var c=a.action,h=a.payload,m=r.state;if(a.isTransition){var y=A.T,w={};A.T=w;try{var R=c(m,h),L=A.S;L!==null&&L(w,R),r0(r,a,R)}catch(q){nm(r,a,q)}finally{A.T=y}}else try{y=c(m,h),r0(r,a,y)}catch(q){nm(r,a,q)}}function r0(r,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){s0(r,a,h)},function(h){return nm(r,a,h)}):s0(r,a,c)}function s0(r,a,c){a.status="fulfilled",a.value=c,a0(a),r.state=c,a=r.pending,a!==null&&(c=a.next,c===a?r.pending=null:(c=c.next,a.next=c,i0(r,c)))}function nm(r,a,c){var h=r.pending;if(r.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,a0(a),a=a.next;while(a!==h)}r.action=null}function a0(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function o0(r,a){return a}function l0(r,a){if(ge){var c=De.formState;if(c!==null){t:{var h=Wt;if(ge){if(Cn){e:{for(var m=Cn,y=gr;m.nodeType!==8;){if(!y){m=null;break e}if(m=Yi(m.nextSibling),m===null){m=null;break e}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Cn=Yi(m.nextSibling),h=m.data==="F!";break t}}qa(h)}h=!1}h&&(a=c[0])}}return c=Zn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o0,lastRenderedState:a},c.queue=h,c=x0.bind(null,Wt,h),h.dispatch=c,h=em(!1),y=lm.bind(null,Wt,!1,h.queue),h=Zn(),m={state:a,dispatch:null,action:r,pending:null},h.queue=m,c=rC.bind(null,Wt,m,y,c),m.dispatch=c,h.memoizedState=r,[a,c,!1]}function c0(r){var a=Ze();return u0(a,Te,r)}function u0(r,a,c){a=Jg(r,a,o0)[0],r=Kh(Gr)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Rc(a):a;var h=Ze(),m=h.queue,y=m.dispatch;return c!==h.memoizedState&&(Wt.flags|=2048,al(9,sC.bind(null,m,c),{destroy:void 0},null)),[a,y,r]}function sC(r,a){r.action=a}function h0(r){var a=Ze(),c=Te;if(c!==null)return u0(a,c,r);Ze(),a=a.memoizedState,c=Ze();var h=c.queue.dispatch;return c.memoizedState=r,[a,h,!1]}function al(r,a,c,h){return r={tag:r,create:a,inst:c,deps:h,next:null},a=Wt.updateQueue,a===null&&(a=Gh(),Wt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=r.next=r:(h=c.next,c.next=r,r.next=h,a.lastEffect=r),r}function f0(){return Ze().memoizedState}function Wh(r,a,c,h){var m=Zn();Wt.flags|=r,m.memoizedState=al(1|a,c,{destroy:void 0},h===void 0?null:h)}function Yh(r,a,c,h){var m=Ze();h=h===void 0?null:h;var y=m.memoizedState.inst;Te!==null&&h!==null&&Kg(h,Te.memoizedState.deps)?m.memoizedState=al(a,c,y,h):(Wt.flags|=r,m.memoizedState=al(1|a,c,y,h))}function d0(r,a){Wh(8390656,8,r,a)}function im(r,a){Yh(2048,8,r,a)}function g0(r,a){return Yh(4,2,r,a)}function m0(r,a){return Yh(4,4,r,a)}function p0(r,a){if(typeof a=="function"){r=r();var c=a(r);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function y0(r,a,c){c=c!=null?c.concat([r]):null,Yh(4,4,p0.bind(null,a,r),c)}function rm(){}function _0(r,a){var c=Ze();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Kg(a,h[1])?h[0]:(c.memoizedState=[r,a],r)}function v0(r,a){var c=Ze();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Kg(a,h[1]))return h[0];if(h=r(),Ka){Hn(!0);try{r()}finally{Hn(!1)}}return c.memoizedState=[h,a],h}function sm(r,a,c){return c===void 0||(ks&1073741824)!==0?r.memoizedState=a:(r.memoizedState=c,r=Eb(),Wt.lanes|=r,Hs|=r,c)}function b0(r,a,c,h){return li(c,a)?c:el.current!==null?(r=sm(r,c,h),li(r,a)||(bn=!0),r):(ks&42)===0?(bn=!0,r.memoizedState=c):(r=Eb(),Wt.lanes|=r,Hs|=r,a)}function E0(r,a,c,h,m){var y=ft.p;ft.p=y!==0&&8>y?y:8;var w=A.T,R={};A.T=R,lm(r,!1,a,c);try{var L=m(),q=A.S;if(q!==null&&q(R,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var rt=eC(L,h);Cc(r,a,rt,fi(r))}else Cc(r,a,h,fi(r))}catch(ut){Cc(r,a,{then:function(){},status:"rejected",reason:ut},fi())}finally{ft.p=y,A.T=w}}function aC(){}function am(r,a,c,h){if(r.tag!==5)throw Error(i(476));var m=w0(r).queue;E0(r,m,a,It,c===null?aC:function(){return T0(r),c(h)})}function w0(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:It,baseState:It,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:It},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:c},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function T0(r){var a=w0(r).next.queue;Cc(r,a,{},fi())}function om(){return Nn(Wc)}function S0(){return Ze().memoizedState}function A0(){return Ze().memoizedState}function oC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var c=fi();r=Vs(c);var h=Us(a,r,c);h!==null&&(Wn(h,a,c),Mc(h,a,c)),a={cache:qg()},r.payload=a;return}a=a.return}}function lC(r,a,c){var h=fi();c={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(r)?R0(a,c):(c=Vg(r,a,c,h),c!==null&&(Wn(c,r,h),C0(c,a,h)))}function x0(r,a,c){var h=fi();Cc(r,a,c,h)}function Cc(r,a,c,h){var m={lane:h,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qh(r))R0(a,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,R=y(w,c);if(m.hasEagerState=!0,m.eagerState=R,li(R,w))return kh(r,a,m,0),De===null&&Oh(),!1}catch{}finally{}if(c=Vg(r,a,m,h),c!==null)return Wn(c,r,h),C0(c,a,h),!0}return!1}function lm(r,a,c,h){if(h={lane:2,revertLane:Xm(),action:h,hasEagerState:!1,eagerState:null,next:null},Qh(r)){if(a)throw Error(i(479))}else a=Vg(r,c,h,2),a!==null&&Wn(a,r,2)}function Qh(r){var a=r.alternate;return r===Wt||a!==null&&a===Wt}function R0(r,a){rl=Hh=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function C0(r,a,c){if((c&4194176)!==0){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ot(r,c)}}var pr={readContext:Nn,use:$h,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useLayoutEffect:$e,useInsertionEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useSyncExternalStore:$e,useId:$e};pr.useCacheRefresh=$e,pr.useMemoCache=$e,pr.useHostTransitionStatus=$e,pr.useFormState=$e,pr.useActionState=$e,pr.useOptimistic=$e;var Wa={readContext:Nn,use:$h,useCallback:function(r,a){return Zn().memoizedState=[r,a===void 0?null:a],r},useContext:Nn,useEffect:d0,useImperativeHandle:function(r,a,c){c=c!=null?c.concat([r]):null,Wh(4194308,4,p0.bind(null,a,r),c)},useLayoutEffect:function(r,a){return Wh(4194308,4,r,a)},useInsertionEffect:function(r,a){Wh(4,2,r,a)},useMemo:function(r,a){var c=Zn();a=a===void 0?null:a;var h=r();if(Ka){Hn(!0);try{r()}finally{Hn(!1)}}return c.memoizedState=[h,a],h},useReducer:function(r,a,c){var h=Zn();if(c!==void 0){var m=c(a);if(Ka){Hn(!0);try{c(a)}finally{Hn(!1)}}}else m=a;return h.memoizedState=h.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},h.queue=r,r=r.dispatch=lC.bind(null,Wt,r),[h.memoizedState,r]},useRef:function(r){var a=Zn();return r={current:r},a.memoizedState=r},useState:function(r){r=em(r);var a=r.queue,c=x0.bind(null,Wt,a);return a.dispatch=c,[r.memoizedState,c]},useDebugValue:rm,useDeferredValue:function(r,a){var c=Zn();return sm(c,r,a)},useTransition:function(){var r=em(!1);return r=E0.bind(null,Wt,r.queue,!0,!1),Zn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,c){var h=Wt,m=Zn();if(ge){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),De===null)throw Error(i(349));(le&60)!==0||Xv(h,a,c)}m.memoizedState=c;var y={value:c,getSnapshot:a};return m.queue=y,d0(Jv.bind(null,h,y,r),[r]),h.flags|=2048,al(9,Zv.bind(null,h,y,c,a),{destroy:void 0},null),c},useId:function(){var r=Zn(),a=De.identifierPrefix;if(ge){var c=Hr,h=Fr;c=(h&~(1<<32-pn(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=qh++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=nC++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},useCacheRefresh:function(){return Zn().memoizedState=oC.bind(null,Wt)}};Wa.useMemoCache=Zg,Wa.useHostTransitionStatus=om,Wa.useFormState=l0,Wa.useActionState=l0,Wa.useOptimistic=function(r){var a=Zn();a.memoizedState=a.baseState=r;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=lm.bind(null,Wt,!0,c),c.dispatch=a,[r,a]};var Ps={readContext:Nn,use:$h,useCallback:_0,useContext:Nn,useEffect:im,useImperativeHandle:y0,useInsertionEffect:g0,useLayoutEffect:m0,useMemo:v0,useReducer:Kh,useRef:f0,useState:function(){return Kh(Gr)},useDebugValue:rm,useDeferredValue:function(r,a){var c=Ze();return b0(c,Te.memoizedState,r,a)},useTransition:function(){var r=Kh(Gr)[0],a=Ze().memoizedState;return[typeof r=="boolean"?r:Rc(r),a]},useSyncExternalStore:Qv,useId:S0};Ps.useCacheRefresh=A0,Ps.useMemoCache=Zg,Ps.useHostTransitionStatus=om,Ps.useFormState=c0,Ps.useActionState=c0,Ps.useOptimistic=function(r,a){var c=Ze();return n0(c,Te,r,a)};var Ya={readContext:Nn,use:$h,useCallback:_0,useContext:Nn,useEffect:im,useImperativeHandle:y0,useInsertionEffect:g0,useLayoutEffect:m0,useMemo:v0,useReducer:tm,useRef:f0,useState:function(){return tm(Gr)},useDebugValue:rm,useDeferredValue:function(r,a){var c=Ze();return Te===null?sm(c,r,a):b0(c,Te.memoizedState,r,a)},useTransition:function(){var r=tm(Gr)[0],a=Ze().memoizedState;return[typeof r=="boolean"?r:Rc(r),a]},useSyncExternalStore:Qv,useId:S0};Ya.useCacheRefresh=A0,Ya.useMemoCache=Zg,Ya.useHostTransitionStatus=om,Ya.useFormState=h0,Ya.useActionState=h0,Ya.useOptimistic=function(r,a){var c=Ze();return Te!==null?n0(c,Te,r,a):(c.baseState=r,[r,c.queue.dispatch])};function cm(r,a,c,h){a=r.memoizedState,c=c(h,a),c=c==null?a:M({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var um={isMounted:function(r){return(r=r._reactInternals)?ht(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var h=fi(),m=Vs(h);m.payload=a,c!=null&&(m.callback=c),a=Us(r,m,h),a!==null&&(Wn(a,r,h),Mc(a,r,h))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var h=fi(),m=Vs(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Us(r,m,h),a!==null&&(Wn(a,r,h),Mc(a,r,h))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=fi(),h=Vs(c);h.tag=2,a!=null&&(h.callback=a),a=Us(r,h,c),a!==null&&(Wn(a,r,c),Mc(a,r,c))}};function I0(r,a,c,h,m,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,w):a.prototype&&a.prototype.isPureReactComponent?!mc(c,h)||!mc(m,y):!0}function D0(r,a,c,h){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==r&&um.enqueueReplaceState(a,a.state,null)}function Qa(r,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(r=r.defaultProps){c===a&&(c=M({},c));for(var m in r)c[m]===void 0&&(c[m]=r[m])}return c}var Xh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function M0(r){Xh(r)}function O0(r){console.error(r)}function k0(r){Xh(r)}function Zh(r,a){try{var c=r.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function P0(r,a,c){try{var h=r.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function hm(r,a,c){return c=Vs(c),c.tag=3,c.payload={element:null},c.callback=function(){Zh(r,a)},c}function N0(r){return r=Vs(r),r.tag=3,r}function L0(r,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var y=h.value;r.payload=function(){return m(y)},r.callback=function(){P0(a,c,h)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(r.callback=function(){P0(a,c,h),typeof m!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function cC(r,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Dc(a,c,m,!0),c=Ci.current,c!==null){switch(c.tag){case 13:return mr===null?$m():c.alternate===null&&Be===0&&(Be=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Bg?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),Wm(r,h,m)),!1;case 22:return c.flags|=65536,h===Bg?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),Wm(r,h,m)),!1}throw Error(i(435,c.tag))}return Wm(r,h,m),$m(),!1}if(ge)return a=Ci.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==jg&&(r=Error(i(422),{cause:h}),vc(Ai(r,c)))):(h!==jg&&(a=Error(i(423),{cause:h}),vc(Ai(a,c))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,h=Ai(h,c),m=hm(r.stateNode,h,m),xm(r,m),Be!==4&&(Be=2)),!1;var y=Error(i(520),{cause:h});if(y=Ai(y,c),zc===null?zc=[y]:zc.push(y),Be!==4&&(Be=2),a===null)return!0;h=Ai(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,r=m&-m,c.lanes|=r,r=hm(c.stateNode,h,r),xm(c,r),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qs===null||!qs.has(y))))return c.flags|=65536,m&=-m,c.lanes|=m,m=N0(m),L0(m,r,c,h),xm(c,m),!1}c=c.return}while(c!==null);return!1}var V0=Error(i(461)),bn=!1;function In(r,a,c,h){a.child=r===null?Fv(a,null,c,h):Ga(a,r.child,c,h)}function U0(r,a,c,h,m){c=c.render;var y=a.ref;if("ref"in h){var w={};for(var R in h)R!=="ref"&&(w[R]=h[R])}else w=h;return Za(a),h=Wg(r,a,c,w,y,m),R=Yg(),r!==null&&!bn?(Qg(r,a,m),$r(r,a,m)):(ge&&R&&Ug(a),a.flags|=1,In(r,a,h,m),a.child)}function z0(r,a,c,h,m){if(r===null){var y=c.type;return typeof y=="function"&&!Pm(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,j0(r,a,y,h,m)):(r=rf(c.type,null,h,a,a.mode,m),r.ref=a.ref,r.return=a,a.child=r)}if(y=r.child,!bm(r,m)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:mc,c(w,h)&&r.ref===a.ref)return $r(r,a,m)}return a.flags|=1,r=Fs(y,h),r.ref=a.ref,r.return=a,a.child=r}function j0(r,a,c,h,m){if(r!==null){var y=r.memoizedProps;if(mc(y,h)&&r.ref===a.ref)if(bn=!1,a.pendingProps=h=y,bm(r,m))(r.flags&131072)!==0&&(bn=!0);else return a.lanes=r.lanes,$r(r,a,m)}return fm(r,a,c,h,m)}function B0(r,a,c){var h=a.pendingProps,m=h.children,y=(a.stateNode._pendingVisibility&2)!==0,w=r!==null?r.memoizedState:null;if(Ic(r,a),h.mode==="hidden"||y){if((a.flags&128)!==0){if(h=w!==null?w.baseLanes|c:c,r!==null){for(m=a.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~h}else a.childLanes=0,a.child=null;return F0(r,a,h,c)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Fh(a,w!==null?w.cachePool:null),w!==null?Hv(a,w):Fg(),qv(a);else return a.lanes=a.childLanes=536870912,F0(r,a,w!==null?w.baseLanes|c:c,c)}else w!==null?(Fh(a,w.cachePool),Hv(a,w),Os(),a.memoizedState=null):(r!==null&&Fh(a,null),Fg(),Os());return In(r,a,m,c),a.child}function F0(r,a,c,h){var m=$g();return m=m===null?null:{parent:ln._currentValue,pool:m},a.memoizedState={baseLanes:c,cachePool:m},r!==null&&Fh(a,null),Fg(),qv(a),r!==null&&Dc(r,a,h,!0),null}function Ic(r,a){var c=a.ref;if(c===null)r!==null&&r.ref!==null&&(a.flags|=2097664);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(r===null||r.ref!==c)&&(a.flags|=2097664)}}function fm(r,a,c,h,m){return Za(a),c=Wg(r,a,c,h,void 0,m),h=Yg(),r!==null&&!bn?(Qg(r,a,m),$r(r,a,m)):(ge&&h&&Ug(a),a.flags|=1,In(r,a,c,m),a.child)}function H0(r,a,c,h,m,y){return Za(a),a.updateQueue=null,c=Yv(a,h,c,m),Wv(r),h=Yg(),r!==null&&!bn?(Qg(r,a,y),$r(r,a,y)):(ge&&h&&Ug(a),a.flags|=1,In(r,a,c,y),a.child)}function q0(r,a,c,h,m){if(Za(a),a.stateNode===null){var y=Xo,w=c.contextType;typeof w=="object"&&w!==null&&(y=Nn(w)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=um,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},Sm(a),w=c.contextType,y.context=typeof w=="object"&&w!==null?Nn(w):Xo,y.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(cm(a,c,w,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&um.enqueueReplaceState(y,y.state,null),kc(a,h,y,m),Oc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(r===null){y=a.stateNode;var R=a.memoizedProps,L=Qa(c,R);y.props=L;var q=y.context,rt=c.contextType;w=Xo,typeof rt=="object"&&rt!==null&&(w=Nn(rt));var ut=c.getDerivedStateFromProps;rt=typeof ut=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,rt||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||q!==w)&&D0(a,y,h,w),Ls=!1;var Z=a.memoizedState;y.state=Z,kc(a,h,y,m),Oc(),q=a.memoizedState,R||Z!==q||Ls?(typeof ut=="function"&&(cm(a,c,ut,h),q=a.memoizedState),(L=Ls||I0(a,c,L,h,Z,q,w))?(rt||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=q),y.props=h,y.state=q,y.context=w,h=L):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,Am(r,a),w=a.memoizedProps,rt=Qa(c,w),y.props=rt,ut=a.pendingProps,Z=y.context,q=c.contextType,L=Xo,typeof q=="object"&&q!==null&&(L=Nn(q)),R=c.getDerivedStateFromProps,(q=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==ut||Z!==L)&&D0(a,y,h,L),Ls=!1,Z=a.memoizedState,y.state=Z,kc(a,h,y,m),Oc();var it=a.memoizedState;w!==ut||Z!==it||Ls||r!==null&&r.dependencies!==null&&Jh(r.dependencies)?(typeof R=="function"&&(cm(a,c,R,h),it=a.memoizedState),(rt=Ls||I0(a,c,rt,h,Z,it,L)||r!==null&&r.dependencies!==null&&Jh(r.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,it,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,it,L)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=it),y.props=h,y.state=it,y.context=L,h=rt):(typeof y.componentDidUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===r.memoizedProps&&Z===r.memoizedState||(a.flags|=1024),h=!1)}return y=h,Ic(r,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,r!==null&&h?(a.child=Ga(a,r.child,null,m),a.child=Ga(a,null,c,m)):In(r,a,c,m),a.memoizedState=y.state,r=a.child):r=$r(r,a,m),r}function G0(r,a,c,h){return _c(),a.flags|=256,In(r,a,c,h),a.child}var dm={dehydrated:null,treeContext:null,retryLane:0};function gm(r){return{baseLanes:r,cachePool:Kv()}}function mm(r,a,c){return r=r!==null?r.childLanes&~c:0,a&&(r|=Oi),r}function $0(r,a,c){var h=a.pendingProps,m=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=r!==null&&r.memoizedState===null?!1:(on.current&2)!==0),w&&(m=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,r===null){if(ge){if(m?Ms(a):Os(),ge){var R=Cn,L;if(L=R){t:{for(L=R,R=gr;L.nodeType!==8;){if(!R){R=null;break t}if(L=Yi(L.nextSibling),L===null){R=null;break t}}R=L}R!==null?(a.memoizedState={dehydrated:R,treeContext:Fa!==null?{id:Fr,overflow:Hr}:null,retryLane:536870912},L=Mi(18,null,null,0),L.stateNode=R,L.return=a,a.child=L,Kn=a,Cn=null,L=!0):L=!1}L||qa(a)}if(R=a.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?a.lanes=16:a.lanes=536870912,null;qr(a)}return R=h.children,h=h.fallback,m?(Os(),m=a.mode,R=ym({mode:"hidden",children:R},m),h=to(h,m,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,m=a.child,m.memoizedState=gm(c),m.childLanes=mm(r,w,c),a.memoizedState=dm,h):(Ms(a),pm(a,R))}if(L=r.memoizedState,L!==null&&(R=L.dehydrated,R!==null)){if(y)a.flags&256?(Ms(a),a.flags&=-257,a=_m(r,a,c)):a.memoizedState!==null?(Os(),a.child=r.child,a.flags|=128,a=null):(Os(),m=h.fallback,R=a.mode,h=ym({mode:"visible",children:h.children},R),m=to(m,R,c,null),m.flags|=2,h.return=a,m.return=a,h.sibling=m,a.child=h,Ga(a,r.child,null,c),h=a.child,h.memoizedState=gm(c),h.childLanes=mm(r,w,c),a.memoizedState=dm,a=m);else if(Ms(a),R.data==="$!"){if(w=R.nextSibling&&R.nextSibling.dataset,w)var q=w.dgst;w=q,h=Error(i(419)),h.stack="",h.digest=w,vc({value:h,source:null,stack:null}),a=_m(r,a,c)}else if(bn||Dc(r,a,c,!1),w=(c&r.childLanes)!==0,bn||w){if(w=De,w!==null){if(h=c&-c,(h&42)!==0)h=1;else switch(h){case 2:h=1;break;case 8:h=4;break;case 32:h=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:h=64;break;case 268435456:h=134217728;break;default:h=0}if(h=(h&(w.suspendedLanes|c))!==0?0:h,h!==0&&h!==L.retryLane)throw L.retryLane=h,Ds(r,h),Wn(w,r,h),V0}R.data==="$?"||$m(),a=_m(r,a,c)}else R.data==="$?"?(a.flags|=128,a.child=r.child,a=SC.bind(null,r),R._reactRetry=a,a=null):(r=L.treeContext,Cn=Yi(R.nextSibling),Kn=a,ge=!0,Ki=null,gr=!1,r!==null&&(xi[Ri++]=Fr,xi[Ri++]=Hr,xi[Ri++]=Fa,Fr=r.id,Hr=r.overflow,Fa=a),a=pm(a,h.children),a.flags|=4096);return a}return m?(Os(),m=h.fallback,R=a.mode,L=r.child,q=L.sibling,h=Fs(L,{mode:"hidden",children:h.children}),h.subtreeFlags=L.subtreeFlags&31457280,q!==null?m=Fs(q,m):(m=to(m,R,c,null),m.flags|=2),m.return=a,h.return=a,h.sibling=m,a.child=h,h=m,m=a.child,R=r.child.memoizedState,R===null?R=gm(c):(L=R.cachePool,L!==null?(q=ln._currentValue,L=L.parent!==q?{parent:q,pool:q}:L):L=Kv(),R={baseLanes:R.baseLanes|c,cachePool:L}),m.memoizedState=R,m.childLanes=mm(r,w,c),a.memoizedState=dm,h):(Ms(a),c=r.child,r=c.sibling,c=Fs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,r!==null&&(w=a.deletions,w===null?(a.deletions=[r],a.flags|=16):w.push(r)),a.child=c,a.memoizedState=null,c)}function pm(r,a){return a=ym({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function ym(r,a){return _b(r,a,0,null)}function _m(r,a,c){return Ga(a,r.child,null,c),r=pm(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function K0(r,a,c){r.lanes|=a;var h=r.alternate;h!==null&&(h.lanes|=a),wm(r.return,a,c)}function vm(r,a,c,h,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=c,y.tailMode=m)}function W0(r,a,c){var h=a.pendingProps,m=h.revealOrder,y=h.tail;if(In(r,a,h.children,c),h=on.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&K0(r,c,a);else if(r.tag===19)K0(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break t;for(;r.sibling===null;){if(r.return===null||r.return===a)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}switch(Zt(on,h),m){case"forwards":for(c=a.child,m=null;c!==null;)r=c.alternate,r!==null&&Bh(r)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),vm(a,!1,m,c,y);break;case"backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(r=m.alternate,r!==null&&Bh(r)===null){a.child=m;break}r=m.sibling,m.sibling=c,c=m,m=r}vm(a,!0,c,null,y);break;case"together":vm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $r(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),Hs|=a.lanes,(c&a.childLanes)===0)if(r!==null){if(Dc(r,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,c=Fs(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Fs(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function bm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Jh(r)))}function uC(r,a,c){switch(a.tag){case 3:nr(a,a.stateNode.containerInfo),Ns(a,ln,r.memoizedState.cache),_c();break;case 27:case 5:Ra(a);break;case 4:nr(a,a.stateNode.containerInfo);break;case 10:Ns(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ms(a),a.flags|=128,null):(c&a.child.childLanes)!==0?$0(r,a,c):(Ms(a),r=$r(r,a,c),r!==null?r.sibling:null);Ms(a);break;case 19:var m=(r.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Dc(r,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return W0(r,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Zt(on,on.current),h)break;return null;case 22:case 23:return a.lanes=0,B0(r,a,c);case 24:Ns(a,ln,r.memoizedState.cache)}return $r(r,a,c)}function Y0(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps)bn=!0;else{if(!bm(r,c)&&(a.flags&128)===0)return bn=!1,uC(r,a,c);bn=(r.flags&131072)!==0}else bn=!1,ge&&(a.flags&1048576)!==0&&kv(a,Lh,a.index);switch(a.lanes=0,a.tag){case 16:t:{r=a.pendingProps;var h=a.elementType,m=h._init;if(h=m(h._payload),a.type=h,typeof h=="function")Pm(h)?(r=Qa(h,r),a.tag=1,a=q0(null,a,h,r,c)):(a.tag=0,a=fm(null,a,h,r,c));else{if(h!=null){if(m=h.$$typeof,m===S){a.tag=11,a=U0(null,a,h,r,c);break t}else if(m===P){a.tag=14,a=z0(null,a,h,r,c);break t}}throw a=x(h)||h,Error(i(306,a,""))}}return a;case 0:return fm(r,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=Qa(h,a.pendingProps),q0(r,a,h,m,c);case 3:t:{if(nr(a,a.stateNode.containerInfo),r===null)throw Error(i(387));var y=a.pendingProps;m=a.memoizedState,h=m.element,Am(r,a),kc(a,y,null,c);var w=a.memoizedState;if(y=w.cache,Ns(a,ln,y),y!==m.cache&&Tm(a,[ln],c,!0),Oc(),y=w.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=G0(r,a,y,c);break t}else if(y!==h){h=Ai(Error(i(424)),a),vc(h),a=G0(r,a,y,c);break t}else for(Cn=Yi(a.stateNode.containerInfo.firstChild),Kn=a,ge=!0,Ki=null,gr=!0,c=Fv(a,null,y,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(_c(),y===h){a=$r(r,a,c);break t}In(r,a,y,c)}a=a.child}return a;case 26:return Ic(r,a),r===null?(c=Zb(a.type,null,a.pendingProps,null))?a.memoizedState=c:ge||(c=a.type,r=a.pendingProps,h=pf(Ye.current).createElement(c),h[Tt]=a,h[Vt]=r,Dn(h,c,r),pe(h),a.stateNode=h):a.memoizedState=Zb(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ra(a),r===null&&ge&&(h=a.stateNode=Yb(a.type,a.pendingProps,Ye.current),Kn=a,gr=!0,Cn=Yi(h.firstChild)),h=a.pendingProps.children,r!==null||ge?In(r,a,h,c):a.child=Ga(a,null,h,c),Ic(r,a),a.child;case 5:return r===null&&ge&&((m=h=Cn)&&(h=jC(h,a.type,a.pendingProps,gr),h!==null?(a.stateNode=h,Kn=a,Cn=Yi(h.firstChild),gr=!1,m=!0):m=!1),m||qa(a)),Ra(a),m=a.type,y=a.pendingProps,w=r!==null?r.memoizedProps:null,h=y.children,ap(m,y)?h=null:w!==null&&ap(m,w)&&(a.flags|=32),a.memoizedState!==null&&(m=Wg(r,a,iC,null,null,c),Wc._currentValue=m),Ic(r,a),In(r,a,h,c),a.child;case 6:return r===null&&ge&&((r=c=Cn)&&(c=BC(c,a.pendingProps,gr),c!==null?(a.stateNode=c,Kn=a,Cn=null,r=!0):r=!1),r||qa(a)),null;case 13:return $0(r,a,c);case 4:return nr(a,a.stateNode.containerInfo),h=a.pendingProps,r===null?a.child=Ga(a,null,h,c):In(r,a,h,c),a.child;case 11:return U0(r,a,a.type,a.pendingProps,c);case 7:return In(r,a,a.pendingProps,c),a.child;case 8:return In(r,a,a.pendingProps.children,c),a.child;case 12:return In(r,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Ns(a,a.type,h.value),In(r,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Za(a),m=Nn(m),h=h(m),a.flags|=1,In(r,a,h,c),a.child;case 14:return z0(r,a,a.type,a.pendingProps,c);case 15:return j0(r,a,a.type,a.pendingProps,c);case 19:return W0(r,a,c);case 22:return B0(r,a,c);case 24:return Za(a),h=Nn(ln),r===null?(m=$g(),m===null&&(m=De,y=qg(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=c),m=y),a.memoizedState={parent:h,cache:m},Sm(a),Ns(a,ln,m)):((r.lanes&c)!==0&&(Am(r,a),kc(a,null,null,c),Oc()),m=r.memoizedState,y=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Ns(a,ln,h)):(h=y.cache,Ns(a,ln,h),h!==m.cache&&Tm(a,[ln],c,!0))),In(r,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}var Em=se(null),Xa=null,Kr=null;function Ns(r,a,c){Zt(Em,a._currentValue),a._currentValue=c}function Wr(r){r._currentValue=Em.current,Yt(Em)}function wm(r,a,c){for(;r!==null;){var h=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),r===c)break;r=r.return}}function Tm(r,a,c,h){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var w=m.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=m;for(var L=0;L<a.length;L++)if(R.context===a[L]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),wm(y.return,c,r),h||(w=null);break t}y=R.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=c,y=w.alternate,y!==null&&(y.lanes|=c),wm(w,c,r),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===r){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Dc(r,a,c,h){r=null;for(var m=a,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=m.type;li(m.pendingProps.value,w.value)||(r!==null?r.push(R):r=[R])}}else if(m===er.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(Wc):r=[Wc])}m=m.return}r!==null&&Tm(a,r,c,h),a.flags|=262144}function Jh(r){for(r=r.firstContext;r!==null;){if(!li(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Za(r){Xa=r,Kr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Nn(r){return Q0(Xa,r)}function tf(r,a){return Xa===null&&Za(r),Q0(r,a)}function Q0(r,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Kr===null){if(r===null)throw Error(i(308));Kr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Kr=Kr.next=a;return c}var Ls=!1;function Sm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Us(r,a,c){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Ph(r),Mv(r,null,c),a}return kh(r,h,a,c),Ph(r)}function Mc(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194176)!==0)){var h=a.lanes;h&=r.pendingLanes,c|=h,a.lanes=c,Ot(r,c)}}function xm(r,a){var c=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?m=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?m=y=a:y=y.next=a}else m=y=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}var Rm=!1;function Oc(){if(Rm){var r=il;if(r!==null)throw r}}function kc(r,a,c,h){Rm=!1;var m=r.updateQueue;Ls=!1;var y=m.firstBaseUpdate,w=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,q=L.next;L.next=null,w===null?y=q:w.next=q,w=L;var rt=r.alternate;rt!==null&&(rt=rt.updateQueue,R=rt.lastBaseUpdate,R!==w&&(R===null?rt.firstBaseUpdate=q:R.next=q,rt.lastBaseUpdate=L))}if(y!==null){var ut=m.baseState;w=0,rt=q=L=null,R=y;do{var Z=R.lane&-536870913,it=Z!==R.lane;if(it?(le&Z)===Z:(h&Z)===Z){Z!==0&&Z===nl&&(Rm=!0),rt!==null&&(rt=rt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Mt=r,qt=R;Z=a;var Fe=c;switch(qt.tag){case 1:if(Mt=qt.payload,typeof Mt=="function"){ut=Mt.call(Fe,ut,Z);break t}ut=Mt;break t;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=qt.payload,Z=typeof Mt=="function"?Mt.call(Fe,ut,Z):Mt,Z==null)break t;ut=M({},ut,Z);break t;case 2:Ls=!0}}Z=R.callback,Z!==null&&(r.flags|=64,it&&(r.flags|=8192),it=m.callbacks,it===null?m.callbacks=[Z]:it.push(Z))}else it={lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},rt===null?(q=rt=it,L=ut):rt=rt.next=it,w|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;it=R,R=it.next,it.next=null,m.lastBaseUpdate=it,m.shared.pending=null}}while(!0);rt===null&&(L=ut),m.baseState=L,m.firstBaseUpdate=q,m.lastBaseUpdate=rt,y===null&&(m.shared.lanes=0),Hs|=w,r.lanes=w,r.memoizedState=ut}}function X0(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function Z0(r,a){var c=r.callbacks;if(c!==null)for(r.callbacks=null,r=0;r<c.length;r++)X0(c[r],a)}function Pc(r,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&r)===r){h=void 0;var y=c.create,w=c.inst;h=y(),w.destroy=h}c=c.next}while(c!==m)}}catch(R){Re(a,a.return,R)}}function zs(r,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var y=m.next;h=y;do{if((h.tag&r)===r){var w=h.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,m=a;var L=c;try{R()}catch(q){Re(m,L,q)}}}h=h.next}while(h!==y)}}catch(q){Re(a,a.return,q)}}function J0(r){var a=r.updateQueue;if(a!==null){var c=r.stateNode;try{Z0(a,c)}catch(h){Re(r,r.return,h)}}}function tb(r,a,c){c.props=Qa(r.type,r.memoizedProps),c.state=r.memoizedState;try{c.componentWillUnmount()}catch(h){Re(r,a,h)}}function Ja(r,a){try{var c=r.ref;if(c!==null){var h=r.stateNode;switch(r.tag){case 26:case 27:case 5:var m=h;break;default:m=h}typeof c=="function"?r.refCleanup=c(m):c.current=m}}catch(y){Re(r,a,y)}}function ci(r,a){var c=r.ref,h=r.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){Re(r,a,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){Re(r,a,m)}else c.current=null}function eb(r){var a=r.type,c=r.memoizedProps,h=r.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){Re(r,r.return,m)}}function nb(r,a,c){try{var h=r.stateNode;NC(h,r.type,c,a),h[Vt]=a}catch(m){Re(r,r.return,m)}}function ib(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function Cm(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||ib(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Im(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=mf));else if(h!==4&&h!==27&&(r=r.child,r!==null))for(Im(r,a,c),r=r.sibling;r!==null;)Im(r,a,c),r=r.sibling}function ef(r,a,c){var h=r.tag;if(h===5||h===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(h!==4&&h!==27&&(r=r.child,r!==null))for(ef(r,a,c),r=r.sibling;r!==null;)ef(r,a,c),r=r.sibling}var Yr=!1,je=!1,Dm=!1,rb=typeof WeakSet=="function"?WeakSet:Set,En=null,sb=!1;function hC(r,a){if(r=r.containerInfo,rp=wf,r=wv(r),Og(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else t:{c=(c=r.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var w=0,R=-1,L=-1,q=0,rt=0,ut=r,Z=null;e:for(;;){for(var it;ut!==c||m!==0&&ut.nodeType!==3||(R=w+m),ut!==y||h!==0&&ut.nodeType!==3||(L=w+h),ut.nodeType===3&&(w+=ut.nodeValue.length),(it=ut.firstChild)!==null;)Z=ut,ut=it;for(;;){if(ut===r)break e;if(Z===c&&++q===m&&(R=w),Z===y&&++rt===h&&(L=w),(it=ut.nextSibling)!==null)break;ut=Z,Z=ut.parentNode}ut=it}c=R===-1||L===-1?null:{start:R,end:L}}else c=null}c=c||{start:0,end:0}}else c=null;for(sp={focusedElem:r,selectionRange:c},wf=!1,En=a;En!==null;)if(a=En,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,En=r;else for(;En!==null;){switch(a=En,y=a.alternate,r=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,c=a,m=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var Mt=Qa(c.type,m,c.elementType===c.type);r=h.getSnapshotBeforeUpdate(Mt,y),h.__reactInternalSnapshotBeforeUpdate=r}catch(qt){Re(c,c.return,qt)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,c=r.nodeType,c===9)cp(r);else if(c===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":cp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,En=r;break}En=a.return}return Mt=sb,sb=!1,Mt}function ab(r,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Xr(r,c),h&4&&Pc(5,c);break;case 1:if(Xr(r,c),h&4)if(r=c.stateNode,a===null)try{r.componentDidMount()}catch(R){Re(c,c.return,R)}else{var m=Qa(c.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(m,a,r.__reactInternalSnapshotBeforeUpdate)}catch(R){Re(c,c.return,R)}}h&64&&J0(c),h&512&&Ja(c,c.return);break;case 3:if(Xr(r,c),h&64&&(h=c.updateQueue,h!==null)){if(r=null,c.child!==null)switch(c.child.tag){case 27:case 5:r=c.child.stateNode;break;case 1:r=c.child.stateNode}try{Z0(h,r)}catch(R){Re(c,c.return,R)}}break;case 26:Xr(r,c),h&512&&Ja(c,c.return);break;case 27:case 5:Xr(r,c),a===null&&h&4&&eb(c),h&512&&Ja(c,c.return);break;case 12:Xr(r,c);break;case 13:Xr(r,c),h&4&&cb(r,c);break;case 22:if(m=c.memoizedState!==null||Yr,!m){a=a!==null&&a.memoizedState!==null||je;var y=Yr,w=je;Yr=m,(je=a)&&!w?js(r,c,(c.subtreeFlags&8772)!==0):Xr(r,c),Yr=y,je=w}h&512&&(c.memoizedProps.mode==="manual"?Ja(c,c.return):ci(c,c.return));break;default:Xr(r,c)}}function ob(r){var a=r.alternate;a!==null&&(r.alternate=null,ob(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&oi(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Je=null,ui=!1;function Qr(r,a,c){for(c=c.child;c!==null;)lb(r,a,c),c=c.sibling}function lb(r,a,c){if(mn&&typeof mn.onCommitFiberUnmount=="function")try{mn.onCommitFiberUnmount(Hi,c)}catch{}switch(c.tag){case 26:je||ci(c,a),Qr(r,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:je||ci(c,a);var h=Je,m=ui;for(Je=c.stateNode,Qr(r,a,c),c=c.stateNode,a=c.attributes;a.length;)c.removeAttributeNode(a[0]);oi(c),Je=h,ui=m;break;case 5:je||ci(c,a);case 6:m=Je;var y=ui;if(Je=null,Qr(r,a,c),Je=m,ui=y,Je!==null)if(ui)try{r=Je,h=c.stateNode,r.nodeType===8?r.parentNode.removeChild(h):r.removeChild(h)}catch(w){Re(c,a,w)}else try{Je.removeChild(c.stateNode)}catch(w){Re(c,a,w)}break;case 18:Je!==null&&(ui?(a=Je,c=c.stateNode,a.nodeType===8?lp(a.parentNode,c):a.nodeType===1&&lp(a,c),Zc(a)):lp(Je,c.stateNode));break;case 4:h=Je,m=ui,Je=c.stateNode.containerInfo,ui=!0,Qr(r,a,c),Je=h,ui=m;break;case 0:case 11:case 14:case 15:je||zs(2,c,a),je||zs(4,c,a),Qr(r,a,c);break;case 1:je||(ci(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&tb(c,a,h)),Qr(r,a,c);break;case 21:Qr(r,a,c);break;case 22:je||ci(c,a),je=(h=je)||c.memoizedState!==null,Qr(r,a,c),je=h;break;default:Qr(r,a,c)}}function cb(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zc(r)}catch(c){Re(a,a.return,c)}}function fC(r){switch(r.tag){case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new rb),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new rb),a;default:throw Error(i(435,r.tag))}}function Mm(r,a){var c=fC(r);a.forEach(function(h){var m=AC.bind(null,r,h);c.has(h)||(c.add(h),h.then(m,m))})}function Ii(r,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],y=r,w=a,R=w;t:for(;R!==null;){switch(R.tag){case 27:case 5:Je=R.stateNode,ui=!1;break t;case 3:Je=R.stateNode.containerInfo,ui=!0;break t;case 4:Je=R.stateNode.containerInfo,ui=!0;break t}R=R.return}if(Je===null)throw Error(i(160));lb(y,w,m),Je=null,ui=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)ub(a,r),a=a.sibling}var Wi=null;function ub(r,a){var c=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ii(a,r),Di(r),h&4&&(zs(3,r,r.return),Pc(3,r),zs(5,r,r.return));break;case 1:Ii(a,r),Di(r),h&512&&(je||c===null||ci(c,c.return)),h&64&&Yr&&(r=r.updateQueue,r!==null&&(h=r.callbacks,h!==null&&(c=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Wi;if(Ii(a,r),Di(r),h&512&&(je||c===null||ci(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=r.memoizedState,c===null)if(h===null)if(r.stateNode===null){t:{h=r.type,c=r.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":y=m.getElementsByTagName("title")[0],(!y||y[qn]||y[Tt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(h),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,h,c),y[Tt]=r,pe(y),h=y;break t;case"link":var w=eE("link","href",m).get(h+(c.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(c.href==null?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(R,1);break e}}y=m.createElement(h),Dn(y,h,c),m.head.appendChild(y);break;case"meta":if(w=eE("meta","content",m).get(h+(c.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(R,1);break e}}y=m.createElement(h),Dn(y,h,c),m.head.appendChild(y);break;default:throw Error(i(468,h))}y[Tt]=r,pe(y),h=y}r.stateNode=h}else nE(m,r.type,r.stateNode);else r.stateNode=tE(m,h,r.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?nE(m,r.type,r.stateNode):tE(m,h,r.memoizedProps)):h===null&&r.stateNode!==null&&nb(r,r.memoizedProps,c.memoizedProps)}break;case 27:if(h&4&&r.alternate===null){m=r.stateNode,y=r.memoizedProps;try{for(var L=m.firstChild;L;){var q=L.nextSibling,rt=L.nodeName;L[qn]||rt==="HEAD"||rt==="BODY"||rt==="SCRIPT"||rt==="STYLE"||rt==="LINK"&&L.rel.toLowerCase()==="stylesheet"||m.removeChild(L),L=q}for(var ut=r.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);Dn(m,ut,y),m[Tt]=r,m[Vt]=y}catch(Mt){Re(r,r.return,Mt)}}case 5:if(Ii(a,r),Di(r),h&512&&(je||c===null||ci(c,c.return)),r.flags&32){m=r.stateNode;try{bi(m,"")}catch(Mt){Re(r,r.return,Mt)}}h&4&&r.stateNode!=null&&(m=r.memoizedProps,nb(r,m,c!==null?c.memoizedProps:m)),h&1024&&(Dm=!0);break;case 6:if(Ii(a,r),Di(r),h&4){if(r.stateNode===null)throw Error(i(162));h=r.memoizedProps,c=r.stateNode;try{c.nodeValue=h}catch(Mt){Re(r,r.return,Mt)}}break;case 3:if(vf=null,m=Wi,Wi=yf(a.containerInfo),Ii(a,r),Wi=m,Di(r),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Zc(a.containerInfo)}catch(Mt){Re(r,r.return,Mt)}Dm&&(Dm=!1,hb(r));break;case 4:h=Wi,Wi=yf(r.stateNode.containerInfo),Ii(a,r),Di(r),Wi=h;break;case 12:Ii(a,r),Di(r);break;case 13:Ii(a,r),Di(r),r.child.flags&8192&&r.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(jm=gn()),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Mm(r,h)));break;case 22:if(h&512&&(je||c===null||ci(c,c.return)),L=r.memoizedState!==null,q=c!==null&&c.memoizedState!==null,rt=Yr,ut=je,Yr=rt||L,je=ut||q,Ii(a,r),je=ut,Yr=rt,Di(r),a=r.stateNode,a._current=r,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,h&8192&&(a._visibility=L?a._visibility&-2:a._visibility|1,L&&(a=Yr||je,c===null||q||a||ol(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))t:for(c=null,a=r;;){if(a.tag===5||a.tag===26||a.tag===27){if(c===null){q=c=a;try{if(m=q.stateNode,L)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=q.stateNode,R=q.memoizedProps.style;var it=R!=null&&R.hasOwnProperty("display")?R.display:null;w.style.display=it==null||typeof it=="boolean"?"":(""+it).trim()}}catch(Mt){Re(q,q.return,Mt)}}}else if(a.tag===6){if(c===null){q=a;try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(Mt){Re(q,q.return,Mt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break t;for(;a.sibling===null;){if(a.return===null||a.return===r)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=r.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Mm(r,c))));break;case 19:Ii(a,r),Di(r),h&4&&(h=r.updateQueue,h!==null&&(r.updateQueue=null,Mm(r,h)));break;case 21:break;default:Ii(a,r),Di(r)}}function Di(r){var a=r.flags;if(a&2){try{if(r.tag!==27){t:{for(var c=r.return;c!==null;){if(ib(c)){var h=c;break t}c=c.return}throw Error(i(160))}switch(h.tag){case 27:var m=h.stateNode,y=Cm(r);ef(r,y,m);break;case 5:var w=h.stateNode;h.flags&32&&(bi(w,""),h.flags&=-33);var R=Cm(r);ef(r,R,w);break;case 3:case 4:var L=h.stateNode.containerInfo,q=Cm(r);Im(r,q,L);break;default:throw Error(i(161))}}}catch(rt){Re(r,r.return,rt)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function hb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;hb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Xr(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)ab(r,a.alternate,a),a=a.sibling}function ol(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:zs(4,a,a.return),ol(a);break;case 1:ci(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&tb(a,a.return,c),ol(a);break;case 26:case 27:case 5:ci(a,a.return),ol(a);break;case 22:ci(a,a.return),a.memoizedState===null&&ol(a);break;default:ol(a)}r=r.sibling}}function js(r,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=r,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:js(m,y,c),Pc(4,y);break;case 1:if(js(m,y,c),h=y,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(q){Re(h,h.return,q)}if(h=y,m=h.updateQueue,m!==null){var R=h.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)X0(L[m],R)}catch(q){Re(h,h.return,q)}}c&&w&64&&J0(y),Ja(y,y.return);break;case 26:case 27:case 5:js(m,y,c),c&&h===null&&w&4&&eb(y),Ja(y,y.return);break;case 12:js(m,y,c);break;case 13:js(m,y,c),c&&w&4&&cb(m,y);break;case 22:y.memoizedState===null&&js(m,y,c),Ja(y,y.return);break;default:js(m,y,c)}a=a.sibling}}function Om(r,a){var c=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==c&&(r!=null&&r.refCount++,c!=null&&Sc(c))}function km(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sc(r))}function Bs(r,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)fb(r,a,c,h),a=a.sibling}function fb(r,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Bs(r,a,c,h),m&2048&&Pc(9,a);break;case 3:Bs(r,a,c,h),m&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Sc(r)));break;case 12:if(m&2048){Bs(r,a,c,h),r=a.stateNode;try{var y=a.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(L){Re(a,a.return,L)}}else Bs(r,a,c,h);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Bs(r,a,c,h):Nc(r,a):y._visibility&4?Bs(r,a,c,h):(y._visibility|=4,ll(r,a,c,h,(a.subtreeFlags&10256)!==0)),m&2048&&Om(a.alternate,a);break;case 24:Bs(r,a,c,h),m&2048&&km(a.alternate,a);break;default:Bs(r,a,c,h)}}function ll(r,a,c,h,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=r,w=a,R=c,L=h,q=w.flags;switch(w.tag){case 0:case 11:case 15:ll(y,w,R,L,m),Pc(8,w);break;case 23:break;case 22:var rt=w.stateNode;w.memoizedState!==null?rt._visibility&4?ll(y,w,R,L,m):Nc(y,w):(rt._visibility|=4,ll(y,w,R,L,m)),m&&q&2048&&Om(w.alternate,w);break;case 24:ll(y,w,R,L,m),m&&q&2048&&km(w.alternate,w);break;default:ll(y,w,R,L,m)}a=a.sibling}}function Nc(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=r,h=a,m=h.flags;switch(h.tag){case 22:Nc(c,h),m&2048&&Om(h.alternate,h);break;case 24:Nc(c,h),m&2048&&km(h.alternate,h);break;default:Nc(c,h)}a=a.sibling}}var Lc=8192;function cl(r){if(r.subtreeFlags&Lc)for(r=r.child;r!==null;)db(r),r=r.sibling}function db(r){switch(r.tag){case 26:cl(r),r.flags&Lc&&r.memoizedState!==null&&tI(Wi,r.memoizedState,r.memoizedProps);break;case 5:cl(r);break;case 3:case 4:var a=Wi;Wi=yf(r.stateNode.containerInfo),cl(r),Wi=a;break;case 22:r.memoizedState===null&&(a=r.alternate,a!==null&&a.memoizedState!==null?(a=Lc,Lc=16777216,cl(r),Lc=a):cl(r));break;default:cl(r)}}function gb(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function Vc(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];En=h,pb(h,r)}gb(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mb(r),r=r.sibling}function mb(r){switch(r.tag){case 0:case 11:case 15:Vc(r),r.flags&2048&&zs(9,r,r.return);break;case 3:Vc(r);break;case 12:Vc(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&4&&(r.return===null||r.return.tag!==13)?(a._visibility&=-5,nf(r)):Vc(r);break;default:Vc(r)}}function nf(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];En=h,pb(h,r)}gb(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:zs(8,a,a.return),nf(a);break;case 22:c=a.stateNode,c._visibility&4&&(c._visibility&=-5,nf(a));break;default:nf(a)}r=r.sibling}}function pb(r,a){for(;En!==null;){var c=En;switch(c.tag){case 0:case 11:case 15:zs(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Sc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,En=h;else t:for(c=r;En!==null;){h=En;var m=h.sibling,y=h.return;if(ob(h),h===c){En=null;break t}if(m!==null){m.return=y,En=m;break t}En=y}}}function dC(r,a,c,h){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(r,a,c,h){return new dC(r,a,c,h)}function Pm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Fs(r,a){var c=r.alternate;return c===null?(c=Mi(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&31457280,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c.refCleanup=r.refCleanup,c}function yb(r,a){r.flags&=31457282;var c=r.alternate;return c===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=c.childLanes,r.lanes=c.lanes,r.child=c.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=c.memoizedProps,r.memoizedState=c.memoizedState,r.updateQueue=c.updateQueue,r.type=c.type,a=c.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function rf(r,a,c,h,m,y){var w=0;if(h=r,typeof r=="function")Pm(r)&&(w=1);else if(typeof r=="string")w=ZC(r,c,dn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case f:return to(c.children,m,y,a);case d:w=8,m|=24;break;case p:return r=Mi(12,c,a,m|2),r.elementType=p,r.lanes=y,r;case D:return r=Mi(13,c,a,m),r.elementType=D,r.lanes=y,r;case C:return r=Mi(19,c,a,m),r.elementType=C,r.lanes=y,r;case G:return _b(c,m,y,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case _:case T:w=10;break t;case b:w=9;break t;case S:w=11;break t;case P:w=14;break t;case U:w=16,h=null;break t}w=29,c=Error(i(130,r===null?"null":typeof r,"")),h=null}return a=Mi(w,c,a,m),a.elementType=r,a.type=h,a.lanes=y,a}function to(r,a,c,h){return r=Mi(7,r,h,a),r.lanes=c,r}function _b(r,a,c,h){r=Mi(22,r,h,a),r.elementType=G,r.lanes=c;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(i(456));if((m._pendingVisibility&2)===0){var w=Ds(y,2);w!==null&&(m._pendingVisibility|=2,Wn(w,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(i(456));if((m._pendingVisibility&2)!==0){var w=Ds(y,2);w!==null&&(m._pendingVisibility&=-3,Wn(w,y,2))}}};return r.stateNode=m,r}function Nm(r,a,c){return r=Mi(6,r,null,a),r.lanes=c,r}function Lm(r,a,c){return a=Mi(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Zr(r){r.flags|=4}function vb(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!iE(a)){if(a=Ci.current,a!==null&&((le&4194176)===le?mr!==null:(le&62914560)!==le&&(le&536870912)===0||a!==mr))throw Ec=Bg,Lv;r.flags|=8192}}function sf(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?W():536870912,r.lanes|=a,hl|=a)}function Uc(r,a){if(!ge)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Le(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,h=0;if(a)for(var m=r.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&31457280,h|=m.flags&31457280,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=h,r.childLanes=c,a}function gC(r,a,c){var h=a.pendingProps;switch(zg(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(a),null;case 1:return Le(a),null;case 3:return c=a.stateNode,h=null,r!==null&&(h=r.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Wr(ln),mi(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(yc(a)?Zr(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ki!==null&&(qm(Ki),Ki=null))),Le(a),null;case 26:return c=a.memoizedState,r===null?(Zr(a),c!==null?(Le(a),vb(a,c)):(Le(a),a.flags&=-16777217)):c?c!==r.memoizedState?(Zr(a),Le(a),vb(a,c)):(Le(a),a.flags&=-16777217):(r.memoizedProps!==h&&Zr(a),Le(a),a.flags&=-16777217),null;case 27:Es(a),c=Ye.current;var m=a.type;if(r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Zr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Le(a),null}r=dn.current,yc(a)?Pv(a):(r=Yb(m,h,c),a.stateNode=r,Zr(a))}return Le(a),null;case 5:if(Es(a),c=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==h&&Zr(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Le(a),null}if(r=dn.current,yc(a))Pv(a);else{switch(m=pf(Ye.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?r.multiple=!0:h.size&&(r.size=h.size);break;default:r=typeof h.is=="string"?m.createElement(c,{is:h.is}):m.createElement(c)}}r[Tt]=a,r[Vt]=h;t:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break t;for(;m.sibling===null;){if(m.return===null||m.return===a)break t;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=r;t:switch(Dn(r,c,h),c){case"button":case"input":case"select":case"textarea":r=!!h.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&Zr(a)}}return Le(a),a.flags&=-16777217,null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==h&&Zr(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(r=Ye.current,yc(a)){if(r=a.stateNode,c=a.memoizedProps,h=null,m=Kn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}r[Tt]=a,r=!!(r.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||Hb(r.nodeValue,c)),r||qa(a)}else r=pf(r).createTextNode(h),r[Tt]=a,a.stateNode=r}return Le(a),null;case 13:if(h=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=yc(a),h!==null&&h.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Tt]=a}else _c(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Le(a),m=!1}else Ki!==null&&(qm(Ki),Ki=null),m=!0;if(!m)return a.flags&256?(qr(a),a):(qr(a),null)}if(qr(a),(a.flags&128)!==0)return a.lanes=c,a;if(c=h!==null,r=r!==null&&r.memoizedState!==null,c){h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var y=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==m&&(h.flags|=2048)}return c!==r&&c&&(a.child.flags|=8192),sf(a,a.updateQueue),Le(a),null;case 4:return mi(),r===null&&ep(a.stateNode.containerInfo),Le(a),null;case 10:return Wr(a.type),Le(a),null;case 19:if(Yt(on),m=a.memoizedState,m===null)return Le(a),null;if(h=(a.flags&128)!==0,y=m.rendering,y===null)if(h)Uc(m,!1);else{if(Be!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(y=Bh(r),y!==null){for(a.flags|=128,Uc(m,!1),r=y.updateQueue,a.updateQueue=r,sf(a,r),a.subtreeFlags=0,r=c,c=a.child;c!==null;)yb(c,r),c=c.sibling;return Zt(on,on.current&1|2),a.child}r=r.sibling}m.tail!==null&&gn()>af&&(a.flags|=128,h=!0,Uc(m,!1),a.lanes=4194304)}else{if(!h)if(r=Bh(y),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,sf(a,r),Uc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!ge)return Le(a),null}else 2*gn()-m.renderingStartTime>af&&c!==536870912&&(a.flags|=128,h=!0,Uc(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(r=m.last,r!==null?r.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=gn(),a.sibling=null,r=on.current,Zt(on,h?r&1|2:r&1),a):(Le(a),null);case 22:case 23:return qr(a),Hg(),h=a.memoizedState!==null,r!==null?r.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Le(a),a.subtreeFlags&6&&(a.flags|=8192)):Le(a),c=a.updateQueue,c!==null&&sf(a,c.retryQueue),c=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),r!==null&&Yt($a),null;case 24:return c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wr(ln),Le(a),null;case 25:return null}throw Error(i(156,a.tag))}function mC(r,a){switch(zg(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Wr(ln),mi(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return Es(a),null;case 13:if(qr(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));_c()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Yt(on),null;case 4:return mi(),null;case 10:return Wr(a.type),null;case 22:case 23:return qr(a),Hg(),r!==null&&Yt($a),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Wr(ln),null;case 25:return null;default:return null}}function bb(r,a){switch(zg(a),a.tag){case 3:Wr(ln),mi();break;case 26:case 27:case 5:Es(a);break;case 4:mi();break;case 13:qr(a);break;case 19:Yt(on);break;case 10:Wr(a.type);break;case 22:case 23:qr(a),Hg(),r!==null&&Yt($a);break;case 24:Wr(ln)}}var pC={getCacheForType:function(r){var a=Nn(ln),c=a.data.get(r);return c===void 0&&(c=r(),a.data.set(r,c)),c}},yC=typeof WeakMap=="function"?WeakMap:Map,Ve=0,De=null,Xt=null,le=0,Me=0,hi=null,Jr=!1,ul=!1,Vm=!1,ts=0,Be=0,Hs=0,eo=0,Um=0,Oi=0,hl=0,zc=null,yr=null,zm=!1,jm=0,af=1/0,of=null,qs=null,lf=!1,no=null,jc=0,Bm=0,Fm=null,Bc=0,Hm=null;function fi(){if((Ve&2)!==0&&le!==0)return le&-le;if(A.T!==null){var r=nl;return r!==0?r:Xm()}return Dt()}function Eb(){Oi===0&&(Oi=(le&536870912)===0||ge?B():536870912);var r=Ci.current;return r!==null&&(r.flags|=32),Oi}function Wn(r,a,c){(r===De&&Me===2||r.cancelPendingCommit!==null)&&(fl(r,0),es(r,le,Oi,!1)),st(r,c),((Ve&2)===0||r!==De)&&(r===De&&((Ve&2)===0&&(eo|=c),Be===4&&es(r,le,Oi,!1)),_r(r))}function wb(r,a,c){if((Ve&6)!==0)throw Error(i(327));var h=!c&&(a&60)===0&&(a&r.expiredLanes)===0||rr(r,a),m=h?bC(r,a):Km(r,a,!0),y=h;do{if(m===0){ul&&!h&&es(r,a,0,!1);break}else if(m===6)es(r,a,0,!Jr);else{if(c=r.current.alternate,y&&!_C(c)){m=Km(r,a,!1),y=!1;continue}if(m===2){if(y=a,r.errorRecoveryDisabledLanes&y)var w=0;else w=r.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var R=r;m=zc;var L=R.current.memoizedState.isDehydrated;if(L&&(fl(R,w).flags|=256),w=Km(R,w,!1),w!==2){if(Vm&&!L){R.errorRecoveryDisabledLanes|=y,eo|=y,m=4;break t}y=yr,yr=m,y!==null&&qm(y)}m=w}if(y=!1,m!==2)continue}}if(m===1){fl(r,0),es(r,a,0,!0);break}t:{switch(h=r,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194176)===a){es(h,a,Oi,!Jr);break t}break;case 2:yr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(h.finishedWork=c,h.finishedLanes=a,(a&62914560)===a&&(y=jm+300-gn(),10<y)){if(es(h,a,Oi,!Jr),xn(h,0)!==0)break t;h.timeoutHandle=$b(Tb.bind(null,h,c,yr,of,zm,a,Oi,eo,hl,Jr,2,-0,0),y);break t}Tb(h,c,yr,of,zm,a,Oi,eo,hl,Jr,0,-0,0)}}break}while(!0);_r(r)}function qm(r){yr===null?yr=r:yr.push.apply(yr,r)}function Tb(r,a,c,h,m,y,w,R,L,q,rt,ut,Z){var it=a.subtreeFlags;if((it&8192||(it&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:JC},db(a),a=eI(),a!==null)){r.cancelPendingCommit=a(Db.bind(null,r,c,h,m,w,R,L,1,ut,Z)),es(r,y,w,!q);return}Db(r,c,h,m,w,R,L,rt,ut,Z)}function _C(r){for(var a=r;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],y=m.getSnapshot;m=m.value;try{if(!li(y(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function es(r,a,c,h){a&=~Um,a&=~eo,r.suspendedLanes|=a,r.pingedLanes&=~a,h&&(r.warmLanes|=a),h=r.expirationTimes;for(var m=a;0<m;){var y=31-pn(m),w=1<<y;h[y]=-1,m&=~w}c!==0&&kt(r,c,a)}function cf(){return(Ve&6)===0?(Fc(0),!1):!0}function Gm(){if(Xt!==null){if(Me===0)var r=Xt.return;else r=Xt,Kr=Xa=null,Xg(r),tl=null,wc=0,r=Xt;for(;r!==null;)bb(r.alternate,r),r=r.return;Xt=null}}function fl(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;c!==-1&&(r.timeoutHandle=-1,VC(c)),c=r.cancelPendingCommit,c!==null&&(r.cancelPendingCommit=null,c()),Gm(),De=r,Xt=c=Fs(r.current,null),le=a,Me=0,hi=null,Jr=!1,ul=rr(r,a),Vm=!1,hl=Oi=Um=eo=Hs=Be=0,yr=zc=null,zm=!1,(a&8)!==0&&(a|=a&32);var h=r.entangledLanes;if(h!==0)for(r=r.entanglements,h&=a;0<h;){var m=31-pn(h),y=1<<m;a|=r[m],h&=~y}return ts=a,Oh(),c}function Sb(r,a){Wt=null,A.H=pr,a===bc?(a=zv(),Me=3):a===Lv?(a=zv(),Me=4):Me=a===V0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,hi=a,Xt===null&&(Be=1,Zh(r,Ai(a,r.current)))}function Ab(){var r=A.H;return A.H=pr,r===null?pr:r}function xb(){var r=A.A;return A.A=pC,r}function $m(){Be=4,Jr||(le&4194176)!==le&&Ci.current!==null||(ul=!0),(Hs&134217727)===0&&(eo&134217727)===0||De===null||es(De,le,Oi,!1)}function Km(r,a,c){var h=Ve;Ve|=2;var m=Ab(),y=xb();(De!==r||le!==a)&&(of=null,fl(r,a)),a=!1;var w=Be;t:do try{if(Me!==0&&Xt!==null){var R=Xt,L=hi;switch(Me){case 8:Gm(),w=6;break t;case 3:case 2:case 6:Ci.current===null&&(a=!0);var q=Me;if(Me=0,hi=null,dl(r,R,L,q),c&&ul){w=0;break t}break;default:q=Me,Me=0,hi=null,dl(r,R,L,q)}}vC(),w=Be;break}catch(rt){Sb(r,rt)}while(!0);return a&&r.shellSuspendCounter++,Kr=Xa=null,Ve=h,A.H=m,A.A=y,Xt===null&&(De=null,le=0,Oh()),w}function vC(){for(;Xt!==null;)Rb(Xt)}function bC(r,a){var c=Ve;Ve|=2;var h=Ab(),m=xb();De!==r||le!==a?(of=null,af=gn()+500,fl(r,a)):ul=rr(r,a);t:do try{if(Me!==0&&Xt!==null){a=Xt;var y=hi;e:switch(Me){case 1:Me=0,hi=null,dl(r,a,y,1);break;case 2:if(Vv(y)){Me=0,hi=null,Cb(a);break}a=function(){Me===2&&De===r&&(Me=7),_r(r)},y.then(a,a);break t;case 3:Me=7;break t;case 4:Me=5;break t;case 7:Vv(y)?(Me=0,hi=null,Cb(a)):(Me=0,hi=null,dl(r,a,y,7));break;case 5:var w=null;switch(Xt.tag){case 26:w=Xt.memoizedState;case 5:case 27:var R=Xt;if(!w||iE(w)){Me=0,hi=null;var L=R.sibling;if(L!==null)Xt=L;else{var q=R.return;q!==null?(Xt=q,uf(q)):Xt=null}break e}}Me=0,hi=null,dl(r,a,y,5);break;case 6:Me=0,hi=null,dl(r,a,y,6);break;case 8:Gm(),Be=6;break t;default:throw Error(i(462))}}EC();break}catch(rt){Sb(r,rt)}while(!0);return Kr=Xa=null,A.H=h,A.A=m,Ve=c,Xt!==null?0:(De=null,le=0,Oh(),Be)}function EC(){for(;Xt!==null&&!Or();)Rb(Xt)}function Rb(r){var a=Y0(r.alternate,r,ts);r.memoizedProps=r.pendingProps,a===null?uf(r):Xt=a}function Cb(r){var a=r,c=a.alternate;switch(a.tag){case 15:case 0:a=H0(c,a,a.pendingProps,a.type,void 0,le);break;case 11:a=H0(c,a,a.pendingProps,a.type.render,a.ref,le);break;case 5:Xg(a);default:bb(c,a),a=Xt=yb(a,ts),a=Y0(c,a,ts)}r.memoizedProps=r.pendingProps,a===null?uf(r):Xt=a}function dl(r,a,c,h){Kr=Xa=null,Xg(a),tl=null,wc=0;var m=a.return;try{if(cC(r,m,a,c,le)){Be=1,Zh(r,Ai(c,r.current)),Xt=null;return}}catch(y){if(m!==null)throw Xt=m,y;Be=1,Zh(r,Ai(c,r.current)),Xt=null;return}a.flags&32768?(ge||h===1?r=!0:ul||(le&536870912)!==0?r=!1:(Jr=r=!0,(h===2||h===3||h===6)&&(h=Ci.current,h!==null&&h.tag===13&&(h.flags|=16384))),Ib(a,r)):uf(a)}function uf(r){var a=r;do{if((a.flags&32768)!==0){Ib(a,Jr);return}r=a.return;var c=gC(a.alternate,a,ts);if(c!==null){Xt=c;return}if(a=a.sibling,a!==null){Xt=a;return}Xt=a=r}while(a!==null);Be===0&&(Be=5)}function Ib(r,a){do{var c=mC(r.alternate,r);if(c!==null){c.flags&=32767,Xt=c;return}if(c=r.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(r=r.sibling,r!==null)){Xt=r;return}Xt=r=c}while(r!==null);Be=6,Xt=null}function Db(r,a,c,h,m,y,w,R,L,q){var rt=A.T,ut=ft.p;try{ft.p=2,A.T=null,wC(r,a,c,h,ut,m,y,w,R,L,q)}finally{A.T=rt,ft.p=ut}}function wC(r,a,c,h,m,y,w,R){do gl();while(no!==null);if((Ve&6)!==0)throw Error(i(327));var L=r.finishedWork;if(h=r.finishedLanes,L===null)return null;if(r.finishedWork=null,r.finishedLanes=0,L===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var q=L.lanes|L.childLanes;if(q|=Lg,yt(r,h,q,y,w,R),r===De&&(Xt=De=null,le=0),(L.subtreeFlags&10256)===0&&(L.flags&10256)===0||lf||(lf=!0,Bm=q,Fm=c,xC(ai,function(){return gl(),null})),c=(L.flags&15990)!==0,(L.subtreeFlags&15990)!==0||c?(c=A.T,A.T=null,y=ft.p,ft.p=2,w=Ve,Ve|=4,hC(r,L),ub(L,r),$1(sp,r.containerInfo),wf=!!rp,sp=rp=null,r.current=L,ab(r,L.alternate,L),Ts(),Ve=w,ft.p=y,A.T=c):r.current=L,lf?(lf=!1,no=r,jc=h):Mb(r,q),q=r.pendingLanes,q===0&&(qs=null),Ss(L.stateNode),_r(r),a!==null)for(m=r.onRecoverableError,L=0;L<a.length;L++)q=a[L],m(q.value,{componentStack:q.stack});return(jc&3)!==0&&gl(),q=r.pendingLanes,(h&4194218)!==0&&(q&42)!==0?r===Hm?Bc++:(Bc=0,Hm=r):Bc=0,Fc(0),null}function Mb(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Sc(a)))}function gl(){if(no!==null){var r=no,a=Bm;Bm=0;var c=Ct(jc),h=A.T,m=ft.p;try{if(ft.p=32>c?32:c,A.T=null,no===null)var y=!1;else{c=Fm,Fm=null;var w=no,R=jc;if(no=null,jc=0,(Ve&6)!==0)throw Error(i(331));var L=Ve;if(Ve|=4,mb(w.current),fb(w,w.current,R,c),Ve=L,Fc(0,!1),mn&&typeof mn.onPostCommitFiberRoot=="function")try{mn.onPostCommitFiberRoot(Hi,w)}catch{}y=!0}return y}finally{ft.p=m,A.T=h,Mb(r,a)}}return!1}function Ob(r,a,c){a=Ai(c,a),a=hm(r.stateNode,a,2),r=Us(r,a,2),r!==null&&(st(r,2),_r(r))}function Re(r,a,c){if(r.tag===3)Ob(r,r,c);else for(;a!==null;){if(a.tag===3){Ob(a,r,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(qs===null||!qs.has(h))){r=Ai(c,r),c=N0(2),h=Us(a,c,2),h!==null&&(L0(c,h,a,r),st(h,2),_r(h));break}}a=a.return}}function Wm(r,a,c){var h=r.pingCache;if(h===null){h=r.pingCache=new yC;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(Vm=!0,m.add(c),r=TC.bind(null,r,a,c),a.then(r,r))}function TC(r,a,c){var h=r.pingCache;h!==null&&h.delete(a),r.pingedLanes|=r.suspendedLanes&c,r.warmLanes&=~c,De===r&&(le&c)===c&&(Be===4||Be===3&&(le&62914560)===le&&300>gn()-jm?(Ve&2)===0&&fl(r,0):Um|=c,hl===le&&(hl=0)),_r(r)}function kb(r,a){a===0&&(a=W()),r=Ds(r,a),r!==null&&(st(r,a),_r(r))}function SC(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),kb(r,c)}function AC(r,a){var c=0;switch(r.tag){case 13:var h=r.stateNode,m=r.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=r.stateNode;break;case 22:h=r.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),kb(r,c)}function xC(r,a){return Mr(r,a)}var hf=null,ml=null,Ym=!1,ff=!1,Qm=!1,io=0;function _r(r){r!==ml&&r.next===null&&(ml===null?hf=ml=r:ml=ml.next=r),ff=!0,Ym||(Ym=!0,CC(RC))}function Fc(r,a){if(!Qm&&ff){Qm=!0;do for(var c=!1,h=hf;h!==null;){if(r!==0){var m=h.pendingLanes;if(m===0)var y=0;else{var w=h.suspendedLanes,R=h.pingedLanes;y=(1<<31-pn(42|r)+1)-1,y&=m&~(w&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(c=!0,Lb(h,y))}else y=le,y=xn(h,h===De?y:0),(y&3)===0||rr(h,y)||(c=!0,Lb(h,y));h=h.next}while(c);Qm=!1}}function RC(){ff=Ym=!1;var r=0;io!==0&&(LC()&&(r=io),io=0);for(var a=gn(),c=null,h=hf;h!==null;){var m=h.next,y=Pb(h,a);y===0?(h.next=null,c===null?hf=m:c.next=m,m===null&&(ml=c)):(c=h,(r!==0||(y&3)!==0)&&(ff=!0)),h=m}Fc(r)}function Pb(r,a){for(var c=r.suspendedLanes,h=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var w=31-pn(y),R=1<<w,L=m[w];L===-1?((R&c)===0||(R&h)!==0)&&(m[w]=As(R,a)):L<=a&&(r.expiredLanes|=R),y&=~R}if(a=De,c=le,c=xn(r,r===a?c:0),h=r.callbackNode,c===0||r===a&&Me===2||r.cancelPendingCommit!==null)return h!==null&&h!==null&&Yn(h),r.callbackNode=null,r.callbackPriority=0;if((c&3)===0||rr(r,c)){if(a=c&-c,a===r.callbackPriority)return a;switch(h!==null&&Yn(h),Ct(c)){case 2:case 8:c=qe;break;case 32:c=ai;break;case 268435456:c=Qn;break;default:c=ai}return h=Nb.bind(null,r),c=Mr(c,h),r.callbackPriority=a,r.callbackNode=c,a}return h!==null&&h!==null&&Yn(h),r.callbackPriority=2,r.callbackNode=null,2}function Nb(r,a){var c=r.callbackNode;if(gl()&&r.callbackNode!==c)return null;var h=le;return h=xn(r,r===De?h:0),h===0?null:(wb(r,h,a),Pb(r,gn()),r.callbackNode!=null&&r.callbackNode===c?Nb.bind(null,r):null)}function Lb(r,a){if(gl())return null;wb(r,a,!0)}function CC(r){UC(function(){(Ve&6)!==0?Mr(Ee,r):r()})}function Xm(){return io===0&&(io=B()),io}function Vb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:or(""+r)}function Ub(r,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,r.id&&c.setAttribute("form",r.id),a.parentNode.insertBefore(c,a),r=new FormData(r),c.parentNode.removeChild(c),r}function IC(r,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var y=Vb((m[Vt]||null).action),w=h.submitter;w&&(a=(a=w[Vt]||null)?Vb(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var R=new jo("action","action",null,h,m);r.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(io!==0){var L=w?Ub(m,w):new FormData(m);am(c,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(R.preventDefault(),L=w?Ub(m,w):new FormData(m),am(c,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var Zm=0;Zm<Dv.length;Zm++){var Jm=Dv[Zm],DC=Jm.toLowerCase(),MC=Jm[0].toUpperCase()+Jm.slice(1);$i(DC,"on"+MC)}$i(Av,"onAnimationEnd"),$i(xv,"onAnimationIteration"),$i(Rv,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(W1,"onTransitionRun"),$i(Y1,"onTransitionStart"),$i(Q1,"onTransitionCancel"),$i(Cv,"onTransitionEnd"),ye("onMouseEnter",["mouseout","mouseover"]),ye("onMouseLeave",["mouseout","mouseover"]),ye("onPointerEnter",["pointerout","pointerover"]),ye("onPointerLeave",["pointerout","pointerover"]),Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hc));function zb(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var h=r[c],m=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var w=h.length-1;0<=w;w--){var R=h[w],L=R.instance,q=R.currentTarget;if(R=R.listener,L!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=q;try{y(m)}catch(rt){Xh(rt)}m.currentTarget=null,y=L}else for(w=0;w<h.length;w++){if(R=h[w],L=R.instance,q=R.currentTarget,R=R.listener,L!==y&&m.isPropagationStopped())break t;y=R,m.currentTarget=q;try{y(m)}catch(rt){Xh(rt)}m.currentTarget=null,y=L}}}}function ne(r,a){var c=a[Ne];c===void 0&&(c=a[Ne]=new Set);var h=r+"__bubble";c.has(h)||(jb(a,r,2,!1),c.add(h))}function tp(r,a,c){var h=0;a&&(h|=4),jb(c,r,h,a)}var df="_reactListening"+Math.random().toString(36).slice(2);function ep(r){if(!r[df]){r[df]=!0,sr.forEach(function(c){c!=="selectionchange"&&(OC.has(c)||tp(c,!1,r),tp(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[df]||(a[df]=!0,tp("selectionchange",!1,a))}}function jb(r,a,c,h){switch(cE(a)){case 2:var m=rI;break;case 8:m=sI;break;default:m=gp}c=m.bind(null,a,c,r),m=void 0,!wi||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?r.addEventListener(a,c,{capture:!0,passive:m}):r.addEventListener(a,c,!0):m!==void 0?r.addEventListener(a,c,{passive:m}):r.addEventListener(a,c,!1)}function np(r,a,c,h,m){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(w===4)for(w=h.return;w!==null;){var L=w.tag;if((L===3||L===4)&&(L=w.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;w=w.return}for(;R!==null;){if(w=Ge(R),w===null)return;if(L=w.tag,L===5||L===6||L===26||L===27){h=y=w;continue t}R=R.parentNode}}h=h.return}yh(function(){var q=y,rt=zo(c),ut=[];t:{var Z=Iv.get(r);if(Z!==void 0){var it=jo,Mt=r;switch(r){case"keypress":if(cr(c)===0)break t;case"keydown":case"keyup":it=$o;break;case"focusin":Mt="focus",it=Ho;break;case"focusout":Mt="blur",it=Ho;break;case"beforeblur":case"afterblur":it=Ho;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=Ti;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=Cg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Ah;break;case Av:case xv:case Rv:it=qo;break;case Cv:it=Rh;break;case"scroll":case"scrollend":it=_h;break;case"wheel":it=Ko;break;case"copy":case"cut":case"paste":it=Go;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=dc;break;case"toggle":case"beforetoggle":it=Ih}var qt=(a&4)!==0,Fe=!qt&&(r==="scroll"||r==="scrollend"),Y=qt?Z!==null?Z+"Capture":null:Z;qt=[];for(var H=q,X;H!==null;){var at=H;if(X=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||X===null||Y===null||(at=ka(H,Y),at!=null&&qt.push(qc(H,at,X))),Fe)break;H=H.return}0<qt.length&&(Z=new it(Z,Mt,null,c,rt),ut.push({event:Z,listeners:qt}))}}if((a&7)===0){t:{if(Z=r==="mouseover"||r==="pointerover",it=r==="mouseout"||r==="pointerout",Z&&c!==Ei&&(Mt=c.relatedTarget||c.fromElement)&&(Ge(Mt)||Mt[fe]))break t;if((it||Z)&&(Z=rt.window===rt?rt:(Z=rt.ownerDocument)?Z.defaultView||Z.parentWindow:window,it?(Mt=c.relatedTarget||c.toElement,it=q,Mt=Mt?Ge(Mt):null,Mt!==null&&(Fe=ht(Mt),qt=Mt.tag,Mt!==Fe||qt!==5&&qt!==27&&qt!==6)&&(Mt=null)):(it=null,Mt=q),it!==Mt)){if(qt=Ti,at="onMouseLeave",Y="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(qt=dc,at="onPointerLeave",Y="onPointerEnter",H="pointer"),Fe=it==null?Z:yi(it),X=Mt==null?Z:yi(Mt),Z=new qt(at,H+"leave",it,c,rt),Z.target=Fe,Z.relatedTarget=X,at=null,Ge(rt)===q&&(qt=new qt(Y,H+"enter",Mt,c,rt),qt.target=X,qt.relatedTarget=Fe,at=qt),Fe=at,it&&Mt)e:{for(qt=it,Y=Mt,H=0,X=qt;X;X=pl(X))H++;for(X=0,at=Y;at;at=pl(at))X++;for(;0<H-X;)qt=pl(qt),H--;for(;0<X-H;)Y=pl(Y),X--;for(;H--;){if(qt===Y||Y!==null&&qt===Y.alternate)break e;qt=pl(qt),Y=pl(Y)}qt=null}else qt=null;it!==null&&Bb(ut,Z,it,qt,!1),Mt!==null&&Fe!==null&&Bb(ut,Fe,Mt,qt,!0)}}t:{if(Z=q?yi(q):window,it=Z.nodeName&&Z.nodeName.toLowerCase(),it==="select"||it==="input"&&Z.type==="file")var At=gv;else if(an(Z))if(mv)At=q1;else{At=F1;var Qt=B1}else it=Z.nodeName,!it||it.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?q&&ac(q.elementType)&&(At=gv):At=H1;if(At&&(At=At(r,q))){Br(ut,At,c,rt);break t}Qt&&Qt(r,Z,q),r==="focusout"&&q&&Z.type==="number"&&q.memoizedProps.value!=null&&Uo(Z,"number",Z.value)}switch(Qt=q?yi(q):window,r){case"focusin":(an(Qt)||Qt.contentEditable==="true")&&(Wo=Qt,kg=q,pc=null);break;case"focusout":pc=kg=Wo=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,Tv(ut,c,rt);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Tv(ut,c,rt)}var Pt;if(fr)t:{switch(r){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else ae?et(r,c)&&(Ut="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ut="onCompositionStart");Ut&&(E&&c.locale!=="ko"&&(ae||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&ae&&(Pt=lc()):(lr=rt,Is="value"in lr?lr.value:lr.textContent,ae=!0)),Qt=gf(q,Ut),0<Qt.length&&(Ut=new hc(Ut,r,null,c,rt),ut.push({event:Ut,listeners:Qt}),Pt?Ut.data=Pt:(Pt=gt(c),Pt!==null&&(Ut.data=Pt)))),(Pt=v?sn(r,c):oe(r,c))&&(Ut=gf(q,"onBeforeInput"),0<Ut.length&&(Qt=new hc("onBeforeInput","beforeinput",null,c,rt),ut.push({event:Qt,listeners:Ut}),Qt.data=Pt)),IC(ut,r,q,c,rt)}zb(ut,a)})}function qc(r,a,c){return{instance:r,listener:a,currentTarget:c}}function gf(r,a){for(var c=a+"Capture",h=[];r!==null;){var m=r,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=ka(r,c),m!=null&&h.unshift(qc(r,m,y)),m=ka(r,a),m!=null&&h.push(qc(r,m,y))),r=r.return}return h}function pl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Bb(r,a,c,h,m){for(var y=a._reactName,w=[];c!==null&&c!==h;){var R=c,L=R.alternate,q=R.stateNode;if(R=R.tag,L!==null&&L===h)break;R!==5&&R!==26&&R!==27||q===null||(L=q,m?(q=ka(c,y),q!=null&&w.unshift(qc(c,q,L))):m||(q=ka(c,y),q!=null&&w.push(qc(c,q,L)))),c=c.return}w.length!==0&&r.push({event:a,listeners:w})}var kC=/\r\n?/g,PC=/\u0000|\uFFFD/g;function Fb(r){return(typeof r=="string"?r:""+r).replace(kC,`
`).replace(PC,"")}function Hb(r,a){return a=Fb(a),Fb(r)===a}function mf(){}function Se(r,a,c,h,m,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||bi(r,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&bi(r,""+h);break;case"className":xs(r,"class",h);break;case"tabIndex":xs(r,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":xs(r,c,h);break;case"style":ph(r,h,y);break;case"data":if(a!=="object"){xs(r,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){r.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=or(""+h),r.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){r.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&Se(r,a,"name",m.name,m,null),Se(r,a,"formEncType",m.formEncType,m,null),Se(r,a,"formMethod",m.formMethod,m,null),Se(r,a,"formTarget",m.formTarget,m,null)):(Se(r,a,"encType",m.encType,m,null),Se(r,a,"method",m.method,m,null),Se(r,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){r.removeAttribute(c);break}h=or(""+h),r.setAttribute(c,h);break;case"onClick":h!=null&&(r.onclick=mf);break;case"onScroll":h!=null&&ne("scroll",r);break;case"onScrollEnd":h!=null&&ne("scrollend",r);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"multiple":r.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":r.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){r.removeAttribute("xlink:href");break}c=or(""+h),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""+h):r.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,""):r.removeAttribute(c);break;case"capture":case"download":h===!0?r.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?r.setAttribute(c,h):r.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?r.setAttribute(c,h):r.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?r.removeAttribute(c):r.setAttribute(c,h);break;case"popover":ne("beforetoggle",r),ne("toggle",r),ar(r,"popover",h);break;case"xlinkActuate":vi(r,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":vi(r,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":vi(r,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":vi(r,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":vi(r,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":vi(r,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":vi(r,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":vi(r,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":vi(r,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ar(r,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=xg.get(c)||c,ar(r,c,h))}}function ip(r,a,c,h,m,y){switch(c){case"style":ph(r,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=c}}break;case"children":typeof h=="string"?bi(r,h):(typeof h=="number"||typeof h=="bigint")&&bi(r,""+h);break;case"onScroll":h!=null&&ne("scroll",r);break;case"onScrollEnd":h!=null&&ne("scrollend",r);break;case"onClick":h!=null&&(r.onclick=mf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gi.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),y=r[Vt]||null,y=y!=null?y[c]:null,typeof y=="function"&&r.removeEventListener(a,y,m),typeof h=="function")){typeof y!="function"&&y!==null&&(c in r?r[c]=null:r.hasAttribute(c)&&r.removeAttribute(c)),r.addEventListener(a,h,m);break t}c in r?r[c]=h:h===!0?r.setAttribute(c,""):ar(r,c,h)}}}function Dn(r,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",r),ne("load",r);var h=!1,m=!1,y;for(y in c)if(c.hasOwnProperty(y)){var w=c[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Se(r,a,y,w,c,null)}}m&&Se(r,a,"srcSet",c.srcSet,c,null),h&&Se(r,a,"src",c.src,c,null);return;case"input":ne("invalid",r);var R=y=w=m=null,L=null,q=null;for(h in c)if(c.hasOwnProperty(h)){var rt=c[h];if(rt!=null)switch(h){case"name":m=rt;break;case"type":w=rt;break;case"checked":L=rt;break;case"defaultChecked":q=rt;break;case"value":y=rt;break;case"defaultValue":R=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,a));break;default:Se(r,a,h,rt,c,null)}}Ma(r,y,R,L,q,w,m,!1),Da(r);return;case"select":ne("invalid",r),h=w=y=null;for(m in c)if(c.hasOwnProperty(m)&&(R=c[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":h=R;default:Se(r,a,m,R,c,null)}a=y,c=w,r.multiple=!!h,a!=null?de(r,!!h,a,!1):c!=null&&de(r,!!h,c,!0);return;case"textarea":ne("invalid",r),y=m=h=null;for(w in c)if(c.hasOwnProperty(w)&&(R=c[w],R!=null))switch(w){case"value":h=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Se(r,a,w,R,c,null)}Cs(r,h,m,y),Da(r);return;case"option":for(L in c)if(c.hasOwnProperty(L)&&(h=c[L],h!=null))switch(L){case"selected":r.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(r,a,L,h,c,null)}return;case"dialog":ne("cancel",r),ne("close",r);break;case"iframe":case"object":ne("load",r);break;case"video":case"audio":for(h=0;h<Hc.length;h++)ne(Hc[h],r);break;case"image":ne("error",r),ne("load",r);break;case"details":ne("toggle",r);break;case"embed":case"source":case"link":ne("error",r),ne("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in c)if(c.hasOwnProperty(q)&&(h=c[q],h!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Se(r,a,q,h,c,null)}return;default:if(ac(a)){for(rt in c)c.hasOwnProperty(rt)&&(h=c[rt],h!==void 0&&ip(r,a,rt,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&Se(r,a,R,h,c,null))}function NC(r,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,w=null,R=null,L=null,q=null,rt=null;for(it in c){var ut=c[it];if(c.hasOwnProperty(it)&&ut!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":L=ut;default:h.hasOwnProperty(it)||Se(r,a,it,null,h,ut)}}for(var Z in h){var it=h[Z];if(ut=c[Z],h.hasOwnProperty(Z)&&(it!=null||ut!=null))switch(Z){case"type":y=it;break;case"name":m=it;break;case"checked":q=it;break;case"defaultChecked":rt=it;break;case"value":w=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:it!==ut&&Se(r,a,Z,it,h,ut)}}Rs(r,w,R,L,q,rt,y,m);return;case"select":it=w=R=Z=null;for(y in c)if(L=c[y],c.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":it=L;default:h.hasOwnProperty(y)||Se(r,a,y,null,h,L)}for(m in h)if(y=h[m],L=c[m],h.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":Z=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==L&&Se(r,a,m,y,h,L)}a=R,c=w,h=it,Z!=null?de(r,!!c,Z,!1):!!h!=!!c&&(a!=null?de(r,!!c,a,!0):de(r,!!c,c?[]:"",!1));return;case"textarea":it=Z=null;for(R in c)if(m=c[R],c.hasOwnProperty(R)&&m!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Se(r,a,R,null,h,m)}for(w in h)if(m=h[w],y=c[w],h.hasOwnProperty(w)&&(m!=null||y!=null))switch(w){case"value":Z=m;break;case"defaultValue":it=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==y&&Se(r,a,w,m,h,y)}Oa(r,Z,it);return;case"option":for(var Mt in c)if(Z=c[Mt],c.hasOwnProperty(Mt)&&Z!=null&&!h.hasOwnProperty(Mt))switch(Mt){case"selected":r.selected=!1;break;default:Se(r,a,Mt,null,h,Z)}for(L in h)if(Z=h[L],it=c[L],h.hasOwnProperty(L)&&Z!==it&&(Z!=null||it!=null))switch(L){case"selected":r.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Se(r,a,L,Z,h,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in c)Z=c[qt],c.hasOwnProperty(qt)&&Z!=null&&!h.hasOwnProperty(qt)&&Se(r,a,qt,null,h,Z);for(q in h)if(Z=h[q],it=c[q],h.hasOwnProperty(q)&&Z!==it&&(Z!=null||it!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Se(r,a,q,Z,h,it)}return;default:if(ac(a)){for(var Fe in c)Z=c[Fe],c.hasOwnProperty(Fe)&&Z!==void 0&&!h.hasOwnProperty(Fe)&&ip(r,a,Fe,void 0,h,Z);for(rt in h)Z=h[rt],it=c[rt],!h.hasOwnProperty(rt)||Z===it||Z===void 0&&it===void 0||ip(r,a,rt,Z,h,it);return}}for(var Y in c)Z=c[Y],c.hasOwnProperty(Y)&&Z!=null&&!h.hasOwnProperty(Y)&&Se(r,a,Y,null,h,Z);for(ut in h)Z=h[ut],it=c[ut],!h.hasOwnProperty(ut)||Z===it||Z==null&&it==null||Se(r,a,ut,Z,h,it)}var rp=null,sp=null;function pf(r){return r.nodeType===9?r:r.ownerDocument}function qb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gb(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function ap(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var op=null;function LC(){var r=window.event;return r&&r.type==="popstate"?r===op?!1:(op=r,!0):(op=null,!1)}var $b=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,UC=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(r){return Kb.resolve(null).then(r).catch(zC)}:$b;function zC(r){setTimeout(function(){throw r})}function lp(r,a){var c=a,h=0;do{var m=c.nextSibling;if(r.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(h===0){r.removeChild(m),Zc(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=m}while(c);Zc(a)}function cp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":cp(c),oi(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}r.removeChild(c)}}function jC(r,a,c,h){for(;r.nodeType===1;){var m=c;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(h){if(!r[qn])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Yi(r.nextSibling),r===null)break}return null}function BC(r,a,c){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!c||(r=Yi(r.nextSibling),r===null))return null;return r}function Yi(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return r}function Wb(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}function Yb(r,a,c){switch(a=pf(c),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var ki=new Map,Qb=new Set;function yf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ns=ft.d;ft.d={f:FC,r:HC,D:qC,C:GC,L:$C,m:KC,X:YC,S:WC,M:QC};function FC(){var r=ns.f(),a=cf();return r||a}function HC(r){var a=Qe(r);a!==null&&a.tag===5&&a.type==="form"?T0(a):ns.r(r)}var yl=typeof document>"u"?null:document;function Xb(r,a,c){var h=yl;if(h&&typeof a=="string"&&a){var m=ze(a);m='link[rel="'+r+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),Qb.has(m)||(Qb.add(m),r={rel:r,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),Dn(a,"link",r),pe(a),h.head.appendChild(a)))}}function qC(r){ns.D(r),Xb("dns-prefetch",r,null)}function GC(r,a){ns.C(r,a),Xb("preconnect",r,a)}function $C(r,a,c){ns.L(r,a,c);var h=yl;if(h&&r&&a){var m='link[rel="preload"][as="'+ze(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+ze(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+ze(c.imageSizes)+'"]')):m+='[href="'+ze(r)+'"]';var y=m;switch(a){case"style":y=_l(r);break;case"script":y=vl(r)}ki.has(y)||(r=M({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:r,as:a},c),ki.set(y,r),h.querySelector(m)!==null||a==="style"&&h.querySelector(Gc(y))||a==="script"&&h.querySelector($c(y))||(a=h.createElement("link"),Dn(a,"link",r),pe(a),h.head.appendChild(a)))}}function KC(r,a){ns.m(r,a);var c=yl;if(c&&r){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+ze(h)+'"][href="'+ze(r)+'"]',y=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=vl(r)}if(!ki.has(y)&&(r=M({rel:"modulepreload",href:r},a),ki.set(y,r),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($c(y)))return}h=c.createElement("link"),Dn(h,"link",r),pe(h),c.head.appendChild(h)}}}function WC(r,a,c){ns.S(r,a,c);var h=yl;if(h&&r){var m=Xn(h).hoistableStyles,y=_l(r);a=a||"default";var w=m.get(y);if(!w){var R={loading:0,preload:null};if(w=h.querySelector(Gc(y)))R.loading=5;else{r=M({rel:"stylesheet",href:r,"data-precedence":a},c),(c=ki.get(y))&&up(r,c);var L=w=h.createElement("link");pe(L),Dn(L,"link",r),L._p=new Promise(function(q,rt){L.onload=q,L.onerror=rt}),L.addEventListener("load",function(){R.loading|=1}),L.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_f(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:R},m.set(y,w)}}}function YC(r,a){ns.X(r,a);var c=yl;if(c&&r){var h=Xn(c).hoistableScripts,m=vl(r),y=h.get(m);y||(y=c.querySelector($c(m)),y||(r=M({src:r,async:!0},a),(a=ki.get(m))&&hp(r,a),y=c.createElement("script"),pe(y),Dn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function QC(r,a){ns.M(r,a);var c=yl;if(c&&r){var h=Xn(c).hoistableScripts,m=vl(r),y=h.get(m);y||(y=c.querySelector($c(m)),y||(r=M({src:r,async:!0,type:"module"},a),(a=ki.get(m))&&hp(r,a),y=c.createElement("script"),pe(y),Dn(y,"link",r),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(m,y))}}function Zb(r,a,c,h){var m=(m=Ye.current)?yf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=_l(c.href),c=Xn(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){r=_l(c.href);var y=Xn(m).hoistableStyles,w=y.get(r);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,w),(y=m.querySelector(Gc(r)))&&!y._p&&(w.instance=y,w.state.loading=5),ki.has(r)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},ki.set(r,c),y||XC(m,r,c,w.state))),a&&h===null)throw Error(i(528,""));return w}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=vl(c),c=Xn(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function _l(r){return'href="'+ze(r)+'"'}function Gc(r){return'link[rel="stylesheet"]['+r+"]"}function Jb(r){return M({},r,{"data-precedence":r.precedence,precedence:null})}function XC(r,a,c,h){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=r.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Dn(a,"link",c),pe(a),r.head.appendChild(a))}function vl(r){return'[src="'+ze(r)+'"]'}function $c(r){return"script[async]"+r}function tE(r,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=r.querySelector('style[data-href~="'+ze(c.href)+'"]');if(h)return a.instance=h,pe(h),h;var m=M({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(r.ownerDocument||r).createElement("style"),pe(h),Dn(h,"style",m),_f(h,c.precedence,r),a.instance=h;case"stylesheet":m=_l(c.href);var y=r.querySelector(Gc(m));if(y)return a.state.loading|=4,a.instance=y,pe(y),y;h=Jb(c),(m=ki.get(m))&&up(h,m),y=(r.ownerDocument||r).createElement("link"),pe(y);var w=y;return w._p=new Promise(function(R,L){w.onload=R,w.onerror=L}),Dn(y,"link",h),a.state.loading|=4,_f(y,c.precedence,r),a.instance=y;case"script":return y=vl(c.src),(m=r.querySelector($c(y)))?(a.instance=m,pe(m),m):(h=c,(m=ki.get(y))&&(h=M({},c),hp(h,m)),r=r.ownerDocument||r,m=r.createElement("script"),pe(m),Dn(m,"link",h),r.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,_f(h,c.precedence,r));return a.instance}function _f(r,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,y=m,w=0;w<h.length;w++){var R=h[w];if(R.dataset.precedence===a)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(r,a.firstChild))}function up(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function hp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var vf=null;function eE(r,a,c){if(vf===null){var h=new Map,m=vf=new Map;m.set(c,h)}else m=vf,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(r))return h;for(h.set(r,null),c=c.getElementsByTagName(r),m=0;m<c.length;m++){var y=c[m];if(!(y[qn]||y[Tt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=r+w;var R=h.get(w);R?R.push(y):h.set(w,[y])}}return h}function nE(r,a,c){r=r.ownerDocument||r,r.head.insertBefore(c,a==="title"?r.querySelector("head > title"):null)}function ZC(r,a,c){if(c===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function iE(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Kc=null;function JC(){}function tI(r,a,c){if(Kc===null)throw Error(i(475));var h=Kc;if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=_l(c.href),y=r.querySelector(Gc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(h.count++,h=bf.bind(h),r.then(h,h)),a.state.loading|=4,a.instance=y,pe(y);return}y=r.ownerDocument||r,c=Jb(c),(m=ki.get(m))&&up(c,m),y=y.createElement("link"),pe(y);var w=y;w._p=new Promise(function(R,L){w.onload=R,w.onerror=L}),Dn(y,"link",c),a.instance=y}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=bf.bind(h),r.addEventListener("load",a),r.addEventListener("error",a))}}function eI(){if(Kc===null)throw Error(i(475));var r=Kc;return r.stylesheets&&r.count===0&&fp(r,r.stylesheets),0<r.count?function(a){var c=setTimeout(function(){if(r.stylesheets&&fp(r,r.stylesheets),r.unsuspend){var h=r.unsuspend;r.unsuspend=null,h()}},6e4);return r.unsuspend=a,function(){r.unsuspend=null,clearTimeout(c)}}:null}function bf(){if(this.count--,this.count===0){if(this.stylesheets)fp(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Ef=null;function fp(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Ef=new Map,a.forEach(nI,r),Ef=null,bf.call(r))}function nI(r,a){if(!(a.state.loading&4)){var c=Ef.get(r);if(c)var h=c.get(null);else{c=new Map,Ef.set(r,c);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var w=m[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),h=w)}h&&c.set(null,h)}m=a.instance,w=m.getAttribute("data-precedence"),y=c.get(w)||h,y===h&&c.set(null,m),c.set(w,m),this.count++,h=bf.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),a.state.loading|=4}}var Wc={$$typeof:T,Provider:null,Consumer:null,_currentValue:It,_currentValue2:It,_threadCount:0};function iI(r,a,c,h,m,y,w,R){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=J(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=J(0),this.hiddenUpdates=J(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function rE(r,a,c,h,m,y,w,R,L,q,rt,ut){return r=new iI(r,a,c,w,R,L,q,ut),a=1,y===!0&&(a|=24),y=Mi(3,null,null,a),r.current=y,y.stateNode=r,a=qg(),a.refCount++,r.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},Sm(y),r}function sE(r){return r?(r=Xo,r):Xo}function aE(r,a,c,h,m,y){m=sE(m),h.context===null?h.context=m:h.pendingContext=m,h=Vs(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Us(r,h,a),c!==null&&(Wn(c,r,a),Mc(c,r,a))}function oE(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function dp(r,a){oE(r,a),(r=r.alternate)&&oE(r,a)}function lE(r){if(r.tag===13){var a=Ds(r,67108864);a!==null&&Wn(a,r,67108864),dp(r,67108864)}}var wf=!0;function rI(r,a,c,h){var m=A.T;A.T=null;var y=ft.p;try{ft.p=2,gp(r,a,c,h)}finally{ft.p=y,A.T=m}}function sI(r,a,c,h){var m=A.T;A.T=null;var y=ft.p;try{ft.p=8,gp(r,a,c,h)}finally{ft.p=y,A.T=m}}function gp(r,a,c,h){if(wf){var m=mp(h);if(m===null)np(r,a,h,Tf,c),uE(r,h);else if(oI(m,r,a,c,h))h.stopPropagation();else if(uE(r,h),a&4&&-1<aI.indexOf(r)){for(;m!==null;){var y=Qe(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=Pn(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var L=1<<31-pn(w);R.entanglements[1]|=L,w&=~L}_r(y),(Ve&6)===0&&(af=gn()+500,Fc(0))}}break;case 13:R=Ds(y,2),R!==null&&Wn(R,y,2),cf(),dp(y,2)}if(y=mp(h),y===null&&np(r,a,h,Tf,c),y===m)break;m=y}m!==null&&h.stopPropagation()}else np(r,a,h,null,c)}}function mp(r){return r=zo(r),pp(r)}var Tf=null;function pp(r){if(Tf=null,r=Ge(r),r!==null){var a=ht(r);if(a===null)r=null;else{var c=a.tag;if(c===13){if(r=bt(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Tf=r,null}function cE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(si()){case Ee:return 2;case qe:return 8;case ai:case Po:return 32;case Qn:return 268435456;default:return 32}default:return 32}}var yp=!1,Gs=null,$s=null,Ks=null,Yc=new Map,Qc=new Map,Ws=[],aI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uE(r,a){switch(r){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Yc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(a.pointerId)}}function Xc(r,a,c,h,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},a!==null&&(a=Qe(a),a!==null&&lE(a)),r):(r.eventSystemFlags|=h,a=r.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),r)}function oI(r,a,c,h,m){switch(a){case"focusin":return Gs=Xc(Gs,r,a,c,h,m),!0;case"dragenter":return $s=Xc($s,r,a,c,h,m),!0;case"mouseover":return Ks=Xc(Ks,r,a,c,h,m),!0;case"pointerover":var y=m.pointerId;return Yc.set(y,Xc(Yc.get(y)||null,r,a,c,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Qc.set(y,Xc(Qc.get(y)||null,r,a,c,h,m)),!0}return!1}function hE(r){var a=Ge(r.target);if(a!==null){var c=ht(a);if(c!==null){if(a=c.tag,a===13){if(a=bt(c),a!==null){r.blockedOn=a,vt(r.priority,function(){if(c.tag===13){var h=fi(),m=Ds(c,h);m!==null&&Wn(m,c,h),dp(c,h)}});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Sf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=mp(r.nativeEvent);if(c===null){c=r.nativeEvent;var h=new c.constructor(c.type,c);Ei=h,c.target.dispatchEvent(h),Ei=null}else return a=Qe(c),a!==null&&lE(a),r.blockedOn=c,!1;a.shift()}return!0}function fE(r,a,c){Sf(r)&&c.delete(a)}function lI(){yp=!1,Gs!==null&&Sf(Gs)&&(Gs=null),$s!==null&&Sf($s)&&($s=null),Ks!==null&&Sf(Ks)&&(Ks=null),Yc.forEach(fE),Qc.forEach(fE)}function Af(r,a){r.blockedOn===a&&(r.blockedOn=null,yp||(yp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,lI)))}var xf=null;function dE(r){xf!==r&&(xf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xf===r&&(xf=null);for(var a=0;a<r.length;a+=3){var c=r[a],h=r[a+1],m=r[a+2];if(typeof h!="function"){if(pp(h||c)===null)continue;break}var y=Qe(c);y!==null&&(r.splice(a,3),a-=3,am(y,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function Zc(r){function a(L){return Af(L,r)}Gs!==null&&Af(Gs,r),$s!==null&&Af($s,r),Ks!==null&&Af(Ks,r),Yc.forEach(a),Qc.forEach(a);for(var c=0;c<Ws.length;c++){var h=Ws[c];h.blockedOn===r&&(h.blockedOn=null)}for(;0<Ws.length&&(c=Ws[0],c.blockedOn===null);)hE(c),c.blockedOn===null&&Ws.shift();if(c=(r.ownerDocument||r).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],y=c[h+1],w=m[Vt]||null;if(typeof y=="function")w||dE(c);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,w=y[Vt]||null)R=w.formAction;else if(pp(m)!==null)continue}else R=w.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),dE(c)}}}function _p(r){this._internalRoot=r}Rf.prototype.render=_p.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=fi();aE(c,h,r,a,null,null)},Rf.prototype.unmount=_p.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;r.tag===0&&gl(),aE(r.current,2,null,r,null,null),cf(),a[fe]=null}};function Rf(r){this._internalRoot=r}Rf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Dt();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Ws.length&&a!==0&&a<Ws[c].priority;c++);Ws.splice(c,0,r),c===0&&hE(r)}};var gE=t.version;if(gE!=="19.0.0")throw Error(i(527,gE,"19.0.0"));ft.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=lt(a),r=r!==null?pt(r):null,r=r===null?null:r.stateNode,r};var cI={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{Hi=Cf.inject(cI),mn=Cf}catch{}}return tu.createRoot=function(r,a){if(!s(r))throw Error(i(299));var c=!1,h="",m=M0,y=O0,w=k0,R=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks)),a=rE(r,1,!1,null,null,c,h,m,y,w,R,null),r[fe]=a.current,ep(r.nodeType===8?r.parentNode:r),new _p(a)},tu.hydrateRoot=function(r,a,c){if(!s(r))throw Error(i(299));var h=!1,m="",y=M0,w=O0,R=k0,L=null,q=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(L=c.unstable_transitionCallbacks),c.formState!==void 0&&(q=c.formState)),a=rE(r,1,!0,a,c??null,h,m,y,w,R,L,q),a.context=sE(null),c=a.current,h=fi(),m=Vs(h),m.callback=null,Us(c,m,h),a.current.lanes=h,st(a,h),_r(a),r[fe]=a.current,ep(r),new Rf(a)},tu.version="19.0.0",tu}var SE;function EI(){if(SE)return Ep.exports;SE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ep.exports=bI(),Ep.exports}var wI=EI(),eu={},AE;function TI(){if(AE)return eu;AE=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.parse=l,eu.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,T){const S=new o,D=b.length;if(D<2)return S;const C=(T==null?void 0:T.decode)||p;let P=0;do{const U=b.indexOf("=",P);if(U===-1)break;const G=b.indexOf(";",P),tt=G===-1?D:G;if(U>tt){P=b.lastIndexOf(";",U-1)+1;continue}const O=u(b,P,U),K=f(b,U,O),k=b.slice(O,K);if(S[k]===void 0){let x=u(b,U+1,tt),A=f(b,tt,x);const M=C(b.slice(x,A));S[k]=M}P=tt+1}while(P<D);return S}function u(b,T,S){do{const D=b.charCodeAt(T);if(D!==32&&D!==9)return T}while(++T<S);return S}function f(b,T,S){for(;T>S;){const D=b.charCodeAt(--T);if(D!==32&&D!==9)return T+1}return S}function d(b,T,S){const D=(S==null?void 0:S.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const C=D(T);if(!t.test(C))throw new TypeError(`argument val is invalid: ${T}`);let P=b+"="+C;if(!S)return P;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);P+="; Max-Age="+S.maxAge}if(S.domain){if(!e.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);P+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);P+="; Path="+S.path}if(S.expires){if(!_(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);P+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(P+="; HttpOnly"),S.secure&&(P+="; Secure"),S.partitioned&&(P+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return P}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function _(b){return s.call(b)==="[object Date]"}return eu}TI();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VS=n=>{throw TypeError(n)},SI=(n,t,e)=>t.has(n)||VS("Cannot "+e),Ap=(n,t,e)=>(SI(n,t,"read from private field"),e?e.call(n):t.get(n)),AI=(n,t,e)=>t.has(n)?VS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),xE="popstate";function xI(n={}){function t(s,o){let{pathname:l="/",search:u="",hash:f=""}=vs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Mu("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=s.location.href,d=f.indexOf("#");u=d===-1?f:f.slice(0,d)}return u+"#"+(typeof o=="string"?o:ma(o))}function i(s,o){An(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return CI(t,e,i,n)}function re(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function An(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function RI(){return Math.random().toString(36).substring(2,10)}function RE(n,t){return{usr:n.state,key:n.key,idx:t}}function Mu(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?vs(t):t,state:e,key:t&&t.key||i||RI()}}function ma({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function vs(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function CI(n,t,e,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,l=s.history,u="POP",f=null,d=p();d==null&&(d=0,l.replaceState({...l.state,idx:d},""));function p(){return(l.state||{idx:null}).idx}function _(){u="POP";let C=p(),P=C==null?null:C-d;d=C,f&&f({action:u,location:D.location,delta:P})}function b(C,P){u="PUSH";let U=Mu(D.location,C,P);e&&e(U,C),d=p()+1;let G=RE(U,d),tt=D.createHref(U);try{l.pushState(G,"",tt)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(tt)}o&&f&&f({action:u,location:D.location,delta:1})}function T(C,P){u="REPLACE";let U=Mu(D.location,C,P);e&&e(U,C),d=p();let G=RE(U,d),tt=D.createHref(U);l.replaceState(G,"",tt),o&&f&&f({action:u,location:D.location,delta:0})}function S(C){let P=s.location.origin!=="null"?s.location.origin:s.location.href,U=typeof C=="string"?C:ma(C);return U=U.replace(/ $/,"%20"),re(P,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,P)}let D={get action(){return u},get location(){return n(s,l)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(xE,_),f=C,()=>{s.removeEventListener(xE,_),f=null}},createHref(C){return t(s,C)},createURL:S,encodeLocation(C){let P=S(C);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:b,replace:T,go(C){return l.go(C)}};return D}var uu,CE=class{constructor(n){if(AI(this,uu,new Map),n)for(let[t,e]of n)this.set(t,e)}get(n){if(Ap(this,uu).has(n))return Ap(this,uu).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,t){Ap(this,uu).set(n,t)}};uu=new WeakMap;var II=new Set(["lazy","caseSensitive","path","id","index","children"]);function DI(n){return n.index===!0}function md(n,t,e=[],i={}){return n.map((s,o)=>{let l=[...e,String(o)],u=typeof s.id=="string"?s.id:l.join("-");if(re(s.index!==!0||!s.children,"Cannot specify children on an index route"),re(!i[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),DI(s)){let f={...s,...t(s),id:u};return i[u]=f,f}else{let f={...s,...t(s),id:u,children:void 0};return i[u]=f,s.children&&(f.children=md(s.children,t,l,i)),f}})}function ta(n,t,e="/"){return Xf(n,t,e,!1)}function Xf(n,t,e,i){let s=typeof t=="string"?vs(t):t,o=zi(s.pathname||"/",e);if(o==null)return null;let l=US(n);OI(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let d=HI(o);u=BI(l[f],d,i)}return u}function MI(n,t){let{route:e,pathname:i,params:s}=n;return{id:e.id,pathname:i,params:s,data:t[e.id],handle:e.handle}}function US(n,t=[],e=[],i=""){let s=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(re(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let d=Tr([i,f.relativePath]),p=e.concat(f);o.children&&o.children.length>0&&(re(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),US(o.children,t,p,d)),!(o.path==null&&!o.index)&&t.push({path:d,score:zI(d,o.index),routesMeta:p})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let f of zS(o.path))s(o,l,f)}),t}function zS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,s=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let l=zS(i.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...l),u.map(f=>n.startsWith("/")&&f===""?"/":f)}function OI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:jI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var kI=/^:[\w-]+$/,PI=3,NI=2,LI=1,VI=10,UI=-2,IE=n=>n==="*";function zI(n,t){let e=n.split("/"),i=e.length;return e.some(IE)&&(i+=UI),t&&(i+=NI),e.filter(s=>!IE(s)).reduce((s,o)=>s+(kI.test(o)?PI:o===""?LI:VI),i)}function jI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,s)=>i===t[s])?n[n.length-1]-t[t.length-1]:0}function BI(n,t,e=!1){let{routesMeta:i}=n,s={},o="/",l=[];for(let u=0;u<i.length;++u){let f=i[u],d=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",_=Ou({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},p),b=f.route;if(!_&&d&&e&&!i[i.length-1].route.index&&(_=Ou({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},p)),!_)return null;Object.assign(s,_.params),l.push({params:s,pathname:Tr([o,_.pathname]),pathnameBase:$I(Tr([o,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(o=Tr([o,_.pathnameBase]))}return l}function Ou(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=FI(n.path,n.caseSensitive,n.end),s=t.match(e);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:i.reduce((d,{paramName:p,isOptional:_},b)=>{if(p==="*"){let S=u[b]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const T=u[b];return _&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:l,pattern:n}}function FI(n,t=!1,e=!0){An(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(i.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),i]}function HI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return An(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function zi(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function qI(n,t="/"){let{pathname:e,search:i="",hash:s=""}=typeof n=="string"?vs(n):n;return{pathname:e?e.startsWith("/")?e:GI(e,t):t,search:KI(i),hash:WI(s)}}function GI(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?e.length>1&&e.pop():s!=="."&&e.push(s)}),e.length>1?e.join("/"):"/"}function xp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jS(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Fy(n){let t=jS(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function Hy(n,t,e,i=!1){let s;typeof n=="string"?s=vs(n):(s={...n},re(!s.pathname||!s.pathname.includes("?"),xp("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),xp("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),xp("#","search","hash",s)));let o=n===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),_-=1;s.pathname=b.join("/")}u=_>=0?t[_]:"/"}let f=qI(s,u),d=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||p)&&(f.pathname+="/"),f}var Tr=n=>n.join("/").replace(/\/\/+/g,"/"),$I=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),KI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,YI=(n,t=302)=>{let e=t;typeof e=="number"?e={status:e}:typeof e.status>"u"&&(e.status=302);let i=new Headers(e.headers);return i.set("Location",n),new Response(null,{...e,headers:i})},pd=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function ku(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var BS=["POST","PUT","PATCH","DELETE"],QI=new Set(BS),XI=["GET",...BS],ZI=new Set(XI),JI=new Set([301,302,303,307,308]),tD=new Set([307,308]),Rp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},eD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nD=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),FS="remix-router-transitions",HS=Symbol("ResetLoaderData");function iD(n){const t=n.window?n.window:typeof window<"u"?window:void 0,e=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";re(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||nD,s={},o=md(n.routes,i,void 0,s),l,u=n.basename||"/",f=n.dataStrategy||lD,d={unstable_middleware:!1,...n.future},p=null,_=new Set,b=null,T=null,S=null,D=n.hydrationData!=null,C=ta(o,n.history.location,u),P=!1,U=null;if(C==null&&!n.patchRoutesOnNavigation){let B=Ni(404,{pathname:n.history.location.pathname}),{matches:W,route:J}=BE(o);C=W,U={[J.id]:B}}C&&!n.hydrationData&&Pn(C,o,n.history.location.pathname).active&&(C=null);let G;if(C)if(C.some(B=>B.route.lazy))G=!1;else if(!C.some(B=>B.route.loader))G=!0;else{let B=n.hydrationData?n.hydrationData.loaderData:null,W=n.hydrationData?n.hydrationData.errors:null;if(W){let J=C.findIndex(st=>W[st.route.id]!==void 0);G=C.slice(0,J+1).every(st=>!ey(st.route,B,W))}else G=C.every(J=>!ey(J.route,B,W))}else{G=!1,C=[];let B=Pn(null,o,n.history.location.pathname);B.active&&B.matches&&(P=!0,C=B.matches)}let tt,O={historyAction:n.history.action,location:n.history.location,matches:C,initialized:G,navigation:Rp,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||U,fetchers:new Map,blockers:new Map},K="POP",k=!1,x,A=!1,M=new Map,V=null,j=!1,N=!1,Bt=new Set,_t=new Map,nt=0,mt=-1,ht=new Map,bt=new Set,z=new Map,lt=new Map,pt=new Set,dt=new Map,ft,It=null;function Nt(){if(p=n.history.listen(({action:B,location:W,delta:J})=>{if(ft){ft(),ft=void 0;return}An(dt.size===0||J!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let st=pn({currentLocation:O.location,nextLocation:W,historyAction:B});if(st&&J!=null){let yt=new Promise(kt=>{ft=kt});n.history.go(J*-1),Hn(st,{state:"blocked",location:W,proceed(){Hn(st,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),yt.then(()=>n.history.go(J))},reset(){let kt=new Map(O.blockers);kt.set(st,nu),Yt({blockers:kt})}});return}return Ye(B,W)}),e){bD(t,M);let B=()=>ED(t,M);t.addEventListener("pagehide",B),V=()=>t.removeEventListener("pagehide",B)}return O.initialized||Ye("POP",O.location,{initialHydration:!0}),tt}function Ae(){p&&p(),V&&V(),_.clear(),x&&x.abort(),O.fetchers.forEach((B,W)=>ai(W)),O.blockers.forEach((B,W)=>Ss(W))}function se(B){return _.add(B),()=>_.delete(B)}function Yt(B,W={}){O={...O,...B};let J=[],st=[];O.fetchers.forEach((yt,kt)=>{yt.state==="idle"&&(pt.has(kt)?J.push(kt):st.push(kt))}),pt.forEach(yt=>{!O.fetchers.has(yt)&&!_t.has(yt)&&J.push(yt)}),[..._].forEach(yt=>yt(O,{deletedFetchers:J,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),J.forEach(yt=>ai(yt)),st.forEach(yt=>O.fetchers.delete(yt))}function Zt(B,W,{flushSync:J}={}){var vt,wt;let st=O.actionData!=null&&O.navigation.formMethod!=null&&Qi(O.navigation.formMethod)&&O.navigation.state==="loading"&&((vt=B.state)==null?void 0:vt._isRedirect)!==!0,yt;W.actionData?Object.keys(W.actionData).length>0?yt=W.actionData:yt=null:st?yt=O.actionData:yt=null;let kt=W.loaderData?zE(O.loaderData,W.loaderData,W.matches||[],W.errors):O.loaderData,Ot=O.blockers;Ot.size>0&&(Ot=new Map(Ot),Ot.forEach((Tt,Vt)=>Ot.set(Vt,nu)));let Ct=k===!0||O.navigation.formMethod!=null&&Qi(O.navigation.formMethod)&&((wt=B.state)==null?void 0:wt._isRedirect)!==!0;l&&(o=l,l=void 0),j||K==="POP"||(K==="PUSH"?n.history.push(B,B.state):K==="REPLACE"&&n.history.replace(B,B.state));let Dt;if(K==="POP"){let Tt=M.get(O.location.pathname);Tt&&Tt.has(B.pathname)?Dt={currentLocation:O.location,nextLocation:B}:M.has(B.pathname)&&(Dt={currentLocation:B,nextLocation:O.location})}else if(A){let Tt=M.get(O.location.pathname);Tt?Tt.add(B.pathname):(Tt=new Set([B.pathname]),M.set(O.location.pathname,Tt)),Dt={currentLocation:O.location,nextLocation:B}}Yt({...W,actionData:yt,loaderData:kt,historyAction:K,location:B,initialized:!0,navigation:Rp,revalidation:"idle",restoreScrollPosition:qi(B,W.matches||O.matches),preventScrollReset:Ct,blockers:Ot},{viewTransitionOpts:Dt,flushSync:J===!0}),K="POP",k=!1,A=!1,j=!1,N=!1,It==null||It.resolve(),It=null}async function dn(B,W){if(typeof B=="number"){n.history.go(B);return}let J=ty(O.location,O.matches,u,B,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:st,submission:yt,error:kt}=DE(!1,J,W),Ot=O.location,Ct=Mu(O.location,st,W&&W.state);Ct={...Ct,...n.history.encodeLocation(Ct)};let Dt=W&&W.replace!=null?W.replace:void 0,vt="PUSH";Dt===!0?vt="REPLACE":Dt===!1||yt!=null&&Qi(yt.formMethod)&&yt.formAction===O.location.pathname+O.location.search&&(vt="REPLACE");let wt=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,Tt=(W&&W.flushSync)===!0,Vt=pn({currentLocation:Ot,nextLocation:Ct,historyAction:vt});if(Vt){Hn(Vt,{state:"blocked",location:Ct,proceed(){Hn(Vt,{state:"proceeding",proceed:void 0,reset:void 0,location:Ct}),dn(B,W)},reset(){let fe=new Map(O.blockers);fe.set(Vt,nu),Yt({blockers:fe})}});return}await Ye(vt,Ct,{submission:yt,pendingError:kt,preventScrollReset:wt,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:Tt})}function Fi(){It||(It=wD()),gn(),Yt({revalidation:"loading"});let B=It.promise;return O.navigation.state==="submitting"?B:O.navigation.state==="idle"?(Ye(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),B):(Ye(K||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:A===!0}),B)}async function Ye(B,W,J){x&&x.abort(),x=null,K=B,j=(J&&J.startUninterruptedRevalidation)===!0,pi(O.location,O.matches),k=(J&&J.preventScrollReset)===!0,A=(J&&J.enableViewTransition)===!0;let st=l||o,yt=J&&J.overrideNavigation,kt=J!=null&&J.initialHydration&&O.matches&&O.matches.length>0&&!P?O.matches:ta(st,W,u),Ot=(J&&J.flushSync)===!0;if(kt&&O.initialized&&!N&&mD(O.location,W)&&!(J&&J.submission&&Qi(J.submission.formMethod))){Zt(W,{matches:kt},{flushSync:Ot});return}let Ct=Pn(kt,st,W.pathname);if(Ct.active&&Ct.matches&&(kt=Ct.matches),!kt){let{error:xe,notFoundMatches:ue,route:Oe}=kr(W.pathname);Zt(W,{matches:ue,loaderData:{},errors:{[Oe.id]:xe}},{flushSync:Ot});return}x=new AbortController;let Dt=bl(n.history,W,x.signal,J&&J.submission),vt=new CE(n.unstable_getContext?await n.unstable_getContext():void 0),wt;if(J&&J.pendingError)wt=[fo(kt).route.id,{type:"error",error:J.pendingError}];else if(J&&J.submission&&Qi(J.submission.formMethod)){let xe=await er(Dt,W,J.submission,kt,vt,Ct.active,{replace:J.replace,flushSync:Ot});if(xe.shortCircuited)return;if(xe.pendingActionResult){let[ue,Oe]=xe.pendingActionResult;if(di(Oe)&&ku(Oe.error)&&Oe.error.status===404){x=null,Zt(W,{matches:xe.matches,loaderData:{},errors:{[ue]:Oe.error}});return}}kt=xe.matches||kt,wt=xe.pendingActionResult,yt=Cp(W,J.submission),Ot=!1,Ct.active=!1,Dt=bl(n.history,Dt.url,Dt.signal)}let{shortCircuited:Tt,matches:Vt,loaderData:fe,errors:Ne}=await nr(Dt,W,kt,vt,Ct.active,yt,J&&J.submission,J&&J.fetcherSubmission,J&&J.replace,J&&J.initialHydration===!0,Ot,wt);Tt||(x=null,Zt(W,{matches:Vt||kt,...jE(wt),loaderData:fe,errors:Ne}))}async function er(B,W,J,st,yt,kt,Ot={}){gn();let Ct=_D(W,J);if(Yt({navigation:Ct},{flushSync:Ot.flushSync===!0}),kt){let wt=await xn(st,W.pathname,B.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){let Tt=fo(wt.partialMatches).route.id;return{matches:wt.partialMatches,pendingActionResult:[Tt,{type:"error",error:wt.error}]}}else if(wt.matches)st=wt.matches;else{let{notFoundMatches:Tt,error:Vt,route:fe}=kr(W.pathname);return{matches:Tt,pendingActionResult:[fe.id,{type:"error",error:Vt}]}}}let Dt,vt=hu(st,W);if(!vt.route.action&&!vt.route.lazy)Dt={type:"error",error:Ni(405,{method:B.method,pathname:W.pathname,routeId:vt.route.id})};else{let wt=await Or("action",B,[vt],st,yt,null);if(Dt=wt[vt.route.id],!Dt){for(let Tt of st)if(wt[Tt.route.id]){Dt=wt[Tt.route.id];break}}if(B.signal.aborted)return{shortCircuited:!0}}if(go(Dt)){let wt;return Ot&&Ot.replace!=null?wt=Ot.replace:wt=LE(Dt.response.headers.get("Location"),new URL(B.url),u)===O.location.pathname+O.location.search,await Yn(B,Dt,!0,{submission:J,replace:wt}),{shortCircuited:!0}}if(di(Dt)){let wt=fo(st,vt.route.id);return(Ot&&Ot.replace)!==!0&&(K="PUSH"),{matches:st,pendingActionResult:[wt.route.id,Dt]}}return{matches:st,pendingActionResult:[vt.route.id,Dt]}}async function nr(B,W,J,st,yt,kt,Ot,Ct,Dt,vt,wt,Tt){let Vt=kt||Cp(W,Ot),fe=Ot||Ct||HE(Vt),Ne=!j&&!vt;if(yt){if(Ne){let ye=mi(Tt);Yt({navigation:Vt,...ye!==void 0?{actionData:ye}:{}},{flushSync:wt})}let Kt=await xn(J,W.pathname,B.signal);if(Kt.type==="aborted")return{shortCircuited:!0};if(Kt.type==="error"){let ye=fo(Kt.partialMatches).route.id;return{matches:Kt.partialMatches,loaderData:{},errors:{[ye]:Kt.error}}}else if(Kt.matches)J=Kt.matches;else{let{error:ye,notFoundMatches:yn,route:Pr}=kr(W.pathname);return{matches:yn,loaderData:{},errors:{[Pr.id]:ye}}}}let xe=l||o,[ue,Oe]=OE(n.history,O,J,fe,W,vt===!0,N,Bt,pt,z,bt,xe,u,Tt);if(mt=++nt,ue.length===0&&Oe.length===0){let Kt=ir();return Zt(W,{matches:J,loaderData:{},errors:Tt&&di(Tt[1])?{[Tt[0]]:Tt[1].error}:null,...jE(Tt),...Kt?{fetchers:new Map(O.fetchers)}:{}},{flushSync:wt}),{shortCircuited:!0}}if(Ne){let Kt={};if(!yt){Kt.navigation=Vt;let ye=mi(Tt);ye!==void 0&&(Kt.actionData=ye)}Oe.length>0&&(Kt.fetchers=Ra(Oe)),Yt(Kt,{flushSync:wt})}Oe.forEach(Kt=>{Qn(Kt.key),Kt.controller&&_t.set(Kt.key,Kt.controller)});let qn=()=>Oe.forEach(Kt=>Qn(Kt.key));x&&x.signal.addEventListener("abort",qn);let{loaderResults:oi,fetcherResults:Ge}=await Ts(J,ue,Oe,B,st);if(B.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",qn),Oe.forEach(Kt=>_t.delete(Kt.key));let Qe=If(oi);if(Qe)return await Yn(B,Qe.result,!0,{replace:Dt}),{shortCircuited:!0};if(Qe=If(Ge),Qe)return bt.add(Qe.key),await Yn(B,Qe.result,!0,{replace:Dt}),{shortCircuited:!0};let{loaderData:yi,errors:Xn}=UE(O,J,oi,Tt,Oe,Ge);vt&&O.errors&&(Xn={...O.errors,...Xn});let pe=ir(),sr=Hi(mt),Gi=pe||sr||Oe.length>0;return{matches:J,loaderData:yi,errors:Xn,...Gi?{fetchers:new Map(O.fetchers)}:{}}}function mi(B){if(B&&!di(B[1]))return{[B[0]]:B[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Ra(B){return B.forEach(W=>{let J=O.fetchers.get(W.key),st=iu(void 0,J?J.data:void 0);O.fetchers.set(W.key,st)}),new Map(O.fetchers)}async function Es(B,W,J,st){Qn(B);let yt=(st&&st.flushSync)===!0,kt=l||o,Ot=ty(O.location,O.matches,u,J,W,st==null?void 0:st.relative),Ct=ta(kt,Ot,u),Dt=Pn(Ct,kt,Ot);if(Dt.active&&Dt.matches&&(Ct=Dt.matches),!Ct){Ee(B,W,Ni(404,{pathname:Ot}),{flushSync:yt});return}let{path:vt,submission:wt,error:Tt}=DE(!0,Ot,st);if(Tt){Ee(B,W,Tt,{flushSync:yt});return}let Vt=hu(Ct,vt),fe=new CE(n.unstable_getContext?await n.unstable_getContext():void 0),Ne=(st&&st.preventScrollReset)===!0;if(wt&&Qi(wt.formMethod)){await ws(B,W,vt,Vt,Ct,fe,Dt.active,yt,Ne,wt);return}z.set(B,{routeId:W,path:vt}),await Mr(B,W,vt,Vt,Ct,fe,Dt.active,yt,Ne,wt)}async function ws(B,W,J,st,yt,kt,Ot,Ct,Dt,vt){gn(),z.delete(B);function wt(Ie){if(!Ie.route.action&&!Ie.route.lazy){let _i=Ni(405,{method:vt.formMethod,pathname:J,routeId:W});return Ee(B,W,_i,{flushSync:Ct}),!0}return!1}if(!Ot&&wt(st))return;let Tt=O.fetchers.get(B);si(B,vD(vt,Tt),{flushSync:Ct});let Vt=new AbortController,fe=bl(n.history,J,Vt.signal,vt);if(Ot){let Ie=await xn(yt,J,fe.signal,B);if(Ie.type==="aborted")return;if(Ie.type==="error"){Ee(B,W,Ie.error,{flushSync:Ct});return}else if(Ie.matches){if(yt=Ie.matches,st=hu(yt,J),wt(st))return}else{Ee(B,W,Ni(404,{pathname:J}),{flushSync:Ct});return}}_t.set(B,Vt);let Ne=nt,ue=(await Or("action",fe,[st],yt,kt,B))[st.route.id];if(fe.signal.aborted){_t.get(B)===Vt&&_t.delete(B);return}if(pt.has(B)){if(go(ue)||di(ue)){si(B,Js(void 0));return}}else{if(go(ue))if(_t.delete(B),mt>Ne){si(B,Js(void 0));return}else return bt.add(B),si(B,iu(vt)),Yn(fe,ue,!1,{fetcherSubmission:vt,preventScrollReset:Dt});if(di(ue)){Ee(B,W,ue.error);return}}let Oe=O.navigation.location||O.location,qn=bl(n.history,Oe,Vt.signal),oi=l||o,Ge=O.navigation.state!=="idle"?ta(oi,O.navigation.location,u):O.matches;re(Ge,"Didn't find any matches after fetcher action");let Qe=++nt;ht.set(B,Qe);let yi=iu(vt,ue.data);O.fetchers.set(B,yi);let[Xn,pe]=OE(n.history,O,Ge,vt,Oe,!1,N,Bt,pt,z,bt,oi,u,[st.route.id,ue]);pe.filter(Ie=>Ie.key!==B).forEach(Ie=>{let _i=Ie.key,Ia=O.fetchers.get(_i),ar=iu(void 0,Ia?Ia.data:void 0);O.fetchers.set(_i,ar),Qn(_i),Ie.controller&&_t.set(_i,Ie.controller)}),Yt({fetchers:new Map(O.fetchers)});let sr=()=>pe.forEach(Ie=>Qn(Ie.key));Vt.signal.addEventListener("abort",sr);let{loaderResults:Gi,fetcherResults:Kt}=await Ts(Ge,Xn,pe,qn,kt);if(Vt.signal.aborted)return;Vt.signal.removeEventListener("abort",sr),ht.delete(B),_t.delete(B),pe.forEach(Ie=>_t.delete(Ie.key));let ye=If(Gi);if(ye)return Yn(qn,ye.result,!1,{preventScrollReset:Dt});if(ye=If(Kt),ye)return bt.add(ye.key),Yn(qn,ye.result,!1,{preventScrollReset:Dt});let{loaderData:yn,errors:Pr}=UE(O,Ge,Gi,void 0,pe,Kt);if(O.fetchers.has(B)){let Ie=Js(ue.data);O.fetchers.set(B,Ie)}Hi(Qe),O.navigation.state==="loading"&&Qe>mt?(re(K,"Expected pending action"),x&&x.abort(),Zt(O.navigation.location,{matches:Ge,loaderData:yn,errors:Pr,fetchers:new Map(O.fetchers)})):(Yt({errors:Pr,loaderData:zE(O.loaderData,yn,Ge,Pr),fetchers:new Map(O.fetchers)}),N=!1)}async function Mr(B,W,J,st,yt,kt,Ot,Ct,Dt,vt){let wt=O.fetchers.get(B);si(B,iu(vt,wt?wt.data:void 0),{flushSync:Ct});let Tt=new AbortController,Vt=bl(n.history,J,Tt.signal);if(Ot){let ue=await xn(yt,J,Vt.signal,B);if(ue.type==="aborted")return;if(ue.type==="error"){Ee(B,W,ue.error,{flushSync:Ct});return}else if(ue.matches)yt=ue.matches,st=hu(yt,J);else{Ee(B,W,Ni(404,{pathname:J}),{flushSync:Ct});return}}_t.set(B,Tt);let fe=nt,xe=(await Or("loader",Vt,[st],yt,kt,B))[st.route.id];if(_t.get(B)===Tt&&_t.delete(B),!Vt.signal.aborted){if(pt.has(B)){si(B,Js(void 0));return}if(go(xe))if(mt>fe){si(B,Js(void 0));return}else{bt.add(B),await Yn(Vt,xe,!1,{preventScrollReset:Dt});return}if(di(xe)){Ee(B,W,xe.error);return}si(B,Js(xe.data))}}async function Yn(B,W,J,{submission:st,fetcherSubmission:yt,preventScrollReset:kt,replace:Ot}={}){W.response.headers.has("X-Remix-Revalidate")&&(N=!0);let Ct=W.response.headers.get("Location");re(Ct,"Expected a Location header on the redirect Response"),Ct=LE(Ct,new URL(B.url),u);let Dt=Mu(O.location,Ct,{_isRedirect:!0});if(e){let Ne=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Ne=!0;else if(qy.test(Ct)){const xe=n.history.createURL(Ct);Ne=xe.origin!==t.location.origin||zi(xe.pathname,u)==null}if(Ne){Ot?t.location.replace(Ct):t.location.assign(Ct);return}}x=null;let vt=Ot===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:wt,formAction:Tt,formEncType:Vt}=O.navigation;!st&&!yt&&wt&&Tt&&Vt&&(st=HE(O.navigation));let fe=st||yt;if(tD.has(W.response.status)&&fe&&Qi(fe.formMethod))await Ye(vt,Dt,{submission:{...fe,formAction:Ct},preventScrollReset:kt||k,enableViewTransition:J?A:void 0});else{let Ne=Cp(Dt,st);await Ye(vt,Dt,{overrideNavigation:Ne,fetcherSubmission:yt,preventScrollReset:kt||k,enableViewTransition:J?A:void 0})}}async function Or(B,W,J,st,yt,kt){let Ot,Ct={};try{Ot=await uD(f,B,W,J,st,kt,s,i,yt,d.unstable_middleware)}catch(Dt){return J.forEach(vt=>{Ct[vt.route.id]={type:"error",error:Dt}}),Ct}for(let[Dt,vt]of Object.entries(Ot))if(pD(vt)){let wt=vt.result;Ct[Dt]={type:"redirect",response:dD(wt,W,Dt,st,u)}}else Ct[Dt]=await fD(vt);return Ct}async function Ts(B,W,J,st,yt){let kt=Or("loader",st,W,B,yt,null),Ot=Promise.all(J.map(async vt=>{if(vt.matches&&vt.match&&vt.controller){let Tt=(await Or("loader",bl(n.history,vt.path,vt.controller.signal),[vt.match],vt.matches,yt,vt.key))[vt.match.route.id];return{[vt.key]:Tt}}else return Promise.resolve({[vt.key]:{type:"error",error:Ni(404,{pathname:vt.path})}})})),Ct=await kt,Dt=(await Ot).reduce((vt,wt)=>Object.assign(vt,wt),{});return{loaderResults:Ct,fetcherResults:Dt}}function gn(){N=!0,z.forEach((B,W)=>{_t.has(W)&&Bt.add(W),Qn(W)})}function si(B,W,J={}){O.fetchers.set(B,W),Yt({fetchers:new Map(O.fetchers)},{flushSync:(J&&J.flushSync)===!0})}function Ee(B,W,J,st={}){let yt=fo(O.matches,W);ai(B),Yt({errors:{[yt.route.id]:J},fetchers:new Map(O.fetchers)},{flushSync:(st&&st.flushSync)===!0})}function qe(B){return lt.set(B,(lt.get(B)||0)+1),pt.has(B)&&pt.delete(B),O.fetchers.get(B)||eD}function ai(B){let W=O.fetchers.get(B);_t.has(B)&&!(W&&W.state==="loading"&&ht.has(B))&&Qn(B),z.delete(B),ht.delete(B),bt.delete(B),pt.delete(B),Bt.delete(B),O.fetchers.delete(B)}function Po(B){let W=(lt.get(B)||0)-1;W<=0?(lt.delete(B),pt.add(B)):lt.set(B,W),Yt({fetchers:new Map(O.fetchers)})}function Qn(B){let W=_t.get(B);W&&(W.abort(),_t.delete(B))}function No(B){for(let W of B){let J=qe(W),st=Js(J.data);O.fetchers.set(W,st)}}function ir(){let B=[],W=!1;for(let J of bt){let st=O.fetchers.get(J);re(st,`Expected fetcher: ${J}`),st.state==="loading"&&(bt.delete(J),B.push(J),W=!0)}return No(B),W}function Hi(B){let W=[];for(let[J,st]of ht)if(st<B){let yt=O.fetchers.get(J);re(yt,`Expected fetcher: ${J}`),yt.state==="loading"&&(Qn(J),ht.delete(J),W.push(J))}return No(W),W.length>0}function mn(B,W){let J=O.blockers.get(B)||nu;return dt.get(B)!==W&&dt.set(B,W),J}function Ss(B){O.blockers.delete(B),dt.delete(B)}function Hn(B,W){let J=O.blockers.get(B)||nu;re(J.state==="unblocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="blocked"||J.state==="blocked"&&W.state==="proceeding"||J.state==="blocked"&&W.state==="unblocked"||J.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${J.state} -> ${W.state}`);let st=new Map(O.blockers);st.set(B,W),Yt({blockers:st})}function pn({currentLocation:B,nextLocation:W,historyAction:J}){if(dt.size===0)return;dt.size>1&&An(!1,"A router only supports one blocker at a time");let st=Array.from(dt.entries()),[yt,kt]=st[st.length-1],Ot=O.blockers.get(yt);if(!(Ot&&Ot.state==="proceeding")&&kt({currentLocation:B,nextLocation:W,historyAction:J}))return yt}function kr(B){let W=Ni(404,{pathname:B}),J=l||o,{matches:st,route:yt}=BE(J);return{notFoundMatches:st,route:yt,error:W}}function Lo(B,W,J){if(b=B,S=W,T=J||null,!D&&O.navigation===Rp){D=!0;let st=qi(O.location,O.matches);st!=null&&Yt({restoreScrollPosition:st})}return()=>{b=null,S=null,T=null}}function Ca(B,W){return T&&T(B,W.map(st=>MI(st,O.loaderData)))||B.key}function pi(B,W){if(b&&S){let J=Ca(B,W);b[J]=S()}}function qi(B,W){if(b){let J=Ca(B,W),st=b[J];if(typeof st=="number")return st}return null}function Pn(B,W,J){if(n.patchRoutesOnNavigation)if(B){if(Object.keys(B[0].params).length>0)return{active:!0,matches:Xf(W,J,u,!0)}}else return{active:!0,matches:Xf(W,J,u,!0)||[]};return{active:!1,matches:null}}async function xn(B,W,J,st){if(!n.patchRoutesOnNavigation)return{type:"success",matches:B};let yt=B;for(;;){let kt=l==null,Ot=l||o,Ct=s;try{await n.patchRoutesOnNavigation({signal:J,path:W,matches:yt,fetcherKey:st,patch:(wt,Tt)=>{J.aborted||PE(wt,Tt,Ot,Ct,i)}})}catch(wt){return{type:"error",error:wt,partialMatches:yt}}finally{kt&&!J.aborted&&(o=[...o])}if(J.aborted)return{type:"aborted"};let Dt=ta(Ot,W,u);if(Dt)return{type:"success",matches:Dt};let vt=Xf(Ot,W,u,!0);if(!vt||yt.length===vt.length&&yt.every((wt,Tt)=>wt.route.id===vt[Tt].route.id))return{type:"success",matches:null};yt=vt}}function rr(B){s={},l=md(B,i,void 0,s)}function As(B,W){let J=l==null;PE(B,W,l||o,s,i),J&&(o=[...o],Yt({}))}return tt={get basename(){return u},get future(){return d},get state(){return O},get routes(){return o},get window(){return t},initialize:Nt,subscribe:se,enableScrollRestoration:Lo,navigate:dn,fetch:Es,revalidate:Fi,createHref:B=>n.history.createHref(B),encodeLocation:B=>n.history.encodeLocation(B),getFetcher:qe,deleteFetcher:Po,dispose:Ae,getBlocker:mn,deleteBlocker:Ss,patchRoutes:As,_internalFetchControllers:_t,_internalSetRoutes:rr},tt}function rD(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ty(n,t,e,i,s,o){let l,u;if(s){l=[];for(let d of t)if(l.push(d),d.route.id===s){u=d;break}}else l=t,u=t[t.length-1];let f=Hy(i||".",Fy(l),zi(n.pathname,e)||n.pathname,o==="path");if(i==null&&(f.search=n.search,f.hash=n.hash),(i==null||i===""||i===".")&&u){let d=Gy(f.search);if(u.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let p=new URLSearchParams(f.search),_=p.getAll("index");p.delete("index"),_.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();f.search=b?`?${b}`:""}}return e!=="/"&&(f.pathname=f.pathname==="/"?e:Tr([e,f.pathname])),ma(f)}function DE(n,t,e){if(!e||!rD(e))return{path:t};if(e.formMethod&&!yD(e.formMethod))return{path:t,error:Ni(405,{method:e.formMethod})};let i=()=>({path:t,error:Ni(400,{type:"invalid-body"})}),o=(e.formMethod||"get").toUpperCase(),l=$S(t);if(e.body!==void 0){if(e.formEncType==="text/plain"){if(!Qi(o))return i();let _=typeof e.body=="string"?e.body:e.body instanceof FormData||e.body instanceof URLSearchParams?Array.from(e.body.entries()).reduce((b,[T,S])=>`${b}${T}=${S}
`,""):String(e.body);return{path:t,submission:{formMethod:o,formAction:l,formEncType:e.formEncType,formData:void 0,json:void 0,text:_}}}else if(e.formEncType==="application/json"){if(!Qi(o))return i();try{let _=typeof e.body=="string"?JSON.parse(e.body):e.body;return{path:t,submission:{formMethod:o,formAction:l,formEncType:e.formEncType,formData:void 0,json:_,text:void 0}}}catch{return i()}}}re(typeof FormData=="function","FormData is not available in this environment");let u,f;if(e.formData)u=iy(e.formData),f=e.formData;else if(e.body instanceof FormData)u=iy(e.body),f=e.body;else if(e.body instanceof URLSearchParams)u=e.body,f=VE(u);else if(e.body==null)u=new URLSearchParams,f=new FormData;else try{u=new URLSearchParams(e.body),f=VE(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Qi(d.formMethod))return{path:t,submission:d};let p=vs(t);return n&&p.search&&Gy(p.search)&&u.append("index",""),p.search=`?${u}`,{path:ma(p),submission:d}}function ME(n,t,e=!1){let i=n.findIndex(s=>s.route.id===t);return i>=0?n.slice(0,e?i+1:i):n}function OE(n,t,e,i,s,o,l,u,f,d,p,_,b,T){let S=T?di(T[1])?T[1].error:T[1].data:void 0,D=n.createURL(t.location),C=n.createURL(s),P=e;o&&t.errors?P=ME(e,Object.keys(t.errors)[0],!0):T&&di(T[1])&&(P=ME(e,T[0]));let U=T?T[1].statusCode:void 0,G=U&&U>=400,tt=P.filter((K,k)=>{let{route:x}=K;if(x.lazy)return!0;if(x.loader==null)return!1;if(o)return ey(x,t.loaderData,t.errors);if(sD(t.loaderData,t.matches[k],K))return!0;let A=t.matches[k],M=K;return kE(K,{currentUrl:D,currentParams:A.params,nextUrl:C,nextParams:M.params,...i,actionResult:S,actionStatus:U,defaultShouldRevalidate:G?!1:l||D.pathname+D.search===C.pathname+C.search||D.search!==C.search||aD(A,M)})}),O=[];return d.forEach((K,k)=>{if(o||!e.some(j=>j.route.id===K.routeId)||f.has(k))return;let x=ta(_,K.path,b);if(!x){O.push({key:k,routeId:K.routeId,path:K.path,matches:null,match:null,controller:null});return}let A=t.fetchers.get(k),M=hu(x,K.path),V=!1;p.has(k)?V=!1:u.has(k)?(u.delete(k),V=!0):A&&A.state!=="idle"&&A.data===void 0?V=l:V=kE(M,{currentUrl:D,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:e[e.length-1].params,...i,actionResult:S,actionStatus:U,defaultShouldRevalidate:G?!1:l}),V&&O.push({key:k,routeId:K.routeId,path:K.path,matches:x,match:M,controller:new AbortController})}),[tt,O]}function ey(n,t,e){if(n.lazy)return!0;if(!n.loader)return!1;let i=t!=null&&t[n.id]!==void 0,s=e!=null&&e[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function sD(n,t,e){let i=!t||e.route.id!==t.route.id,s=!n.hasOwnProperty(e.route.id);return i||s}function aD(n,t){let e=n.route.path;return n.pathname!==t.pathname||e!=null&&e.endsWith("*")&&n.params["*"]!==t.params["*"]}function kE(n,t){if(n.route.shouldRevalidate){let e=n.route.shouldRevalidate(t);if(typeof e=="boolean")return e}return t.defaultShouldRevalidate}function PE(n,t,e,i,s){let o;if(n){let f=i[n];re(f,`No route found to patch children into: routeId = ${n}`),f.children||(f.children=[]),o=f.children}else o=e;let l=t.filter(f=>!o.some(d=>qS(f,d))),u=md(l,s,[n||"_","patch",String((o==null?void 0:o.length)||"0")],i);o.push(...u)}function qS(n,t){return"id"in n&&"id"in t&&n.id===t.id?!0:n.index===t.index&&n.path===t.path&&n.caseSensitive===t.caseSensitive?(!n.children||n.children.length===0)&&(!t.children||t.children.length===0)?!0:n.children.every((e,i)=>{var s;return(s=t.children)==null?void 0:s.some(o=>qS(e,o))}):!1}async function oD(n,t,e){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=e[n.id];re(s,"No route found in manifest");let o={};for(let l in i){let f=s[l]!==void 0&&l!=="hasErrorBoundary";An(!f,`Route "${s.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!f&&!II.has(l)&&(o[l]=i[l])}Object.assign(s,o),Object.assign(s,{...t(s),lazy:void 0})}async function NE(n){let t=n.matches.filter(s=>s.shouldLoad),e={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,o)=>{e[t[o].route.id]=s}),e}async function lD(n){return n.matches.some(t=>t.route.unstable_middleware)?cD(n,!1,()=>NE(n),t=>({[t.routeId]:{type:"error",result:t.error}})):NE(n)}async function cD(n,t,e,i){let{matches:s,request:o,params:l,context:u}=n,f={handlerResult:void 0,propagateResult:t};try{let d=s.flatMap(_=>_.route.unstable_middleware?_.route.unstable_middleware.map(b=>[_.route.id,b]):[]),p=await GS({request:o,params:l,context:u},d,f,e);return f.propagateResult?p:f.handlerResult}catch(d){if(!(d instanceof ny))throw d;let p=await i(d);return f.handlerResult?Object.assign(f.handlerResult,p):p}}var ny=class{constructor(n,t){this.routeId=n,this.error=t}};async function GS(n,t,e,i,s=0){let{request:o}=n;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=t[s];if(!l)return e.handlerResult=await i(),e.handlerResult;let[u,f]=l,d=!1,p,_=async()=>{if(d)throw new Error("You may only call `next()` once per middleware");d=!0;let b=await GS(n,t,e,i,s+1);if(e.propagateResult)return p=b,p};try{let b=await f({request:n.request,params:n.params,context:n.context},_);return d?b===void 0?p:b:_()}catch(b){throw b instanceof ny?b:new ny(u,b)}}async function uD(n,t,e,i,s,o,l,u,f,d){let p=s.map(T=>T.route.lazy?oD(T.route,u,l):void 0);d&&await Promise.all(p);let _=s.map((T,S)=>{let D=p[S],C=i.some(U=>U.route.id===T.route.id);return{...T,shouldLoad:C,resolve:async U=>(U&&e.method==="GET"&&(T.route.lazy||T.route.loader)&&(C=!0),C?hD(t,e,T,D,U,f):Promise.resolve({type:"data",result:void 0}))}}),b=await n({matches:_,request:e,params:s[0].params,fetcherKey:o,context:f});try{await Promise.all(p)}catch{}return b}async function hD(n,t,e,i,s,o){let l,u,f=d=>{let p,_=new Promise((S,D)=>p=D);u=()=>p(),t.signal.addEventListener("abort",u);let b=S=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${e.route.id}]`)):d({request:t,params:e.params,context:o},...S!==void 0?[S]:[]),T=(async()=>{try{return{type:"data",result:await(s?s(D=>b(D)):b())}}catch(S){return{type:"error",result:S}}})();return Promise.race([T,_])};try{let d=e.route[n];if(i)if(d){let p,[_]=await Promise.all([f(d).catch(b=>{p=b}),i]);if(p!==void 0)throw p;l=_}else if(await i,d=e.route[n],d)l=await f(d);else if(n==="action"){let p=new URL(t.url),_=p.pathname+p.search;throw Ni(405,{method:t.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0};else if(d)l=await f(d);else{let p=new URL(t.url),_=p.pathname+p.search;throw Ni(404,{pathname:_})}}catch(d){return{type:"error",result:d}}finally{u&&t.signal.removeEventListener("abort",u)}return l}async function fD(n){var i,s,o,l,u,f;let{result:t,type:e}=n;if(KS(t)){let d;try{let p=t.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?t.body==null?d=null:d=await t.json():d=await t.text()}catch(p){return{type:"error",error:p}}return e==="error"?{type:"error",error:new pd(t.status,t.statusText,d),statusCode:t.status,headers:t.headers}:{type:"data",data:d,statusCode:t.status,headers:t.headers}}return e==="error"?FE(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(i=t.init)==null?void 0:i.status,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new pd(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:ku(t)?t.status:void 0,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:ku(t)?t.status:void 0}:FE(t)?{type:"data",data:t.data,statusCode:(u=t.init)==null?void 0:u.status,headers:(f=t.init)!=null&&f.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function dD(n,t,e,i,s){let o=n.headers.get("Location");if(re(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!qy.test(o)){let l=i.slice(0,i.findIndex(u=>u.route.id===e)+1);o=ty(new URL(t.url),l,s,o),n.headers.set("Location",o)}return n}function LE(n,t,e){if(qy.test(n)){let i=n,s=i.startsWith("//")?new URL(t.protocol+i):new URL(i),o=zi(s.pathname,e)!=null;if(s.origin===t.origin&&o)return s.pathname+s.search+s.hash}return n}function bl(n,t,e,i){let s=n.createURL($S(t)).toString(),o={signal:e};if(i&&Qi(i.formMethod)){let{formMethod:l,formEncType:u}=i;o.method=l.toUpperCase(),u==="application/json"?(o.headers=new Headers({"Content-Type":u}),o.body=JSON.stringify(i.json)):u==="text/plain"?o.body=i.text:u==="application/x-www-form-urlencoded"&&i.formData?o.body=iy(i.formData):o.body=i.formData}return new Request(s,o)}function iy(n){let t=new URLSearchParams;for(let[e,i]of n.entries())t.append(e,typeof i=="string"?i:i.name);return t}function VE(n){let t=new FormData;for(let[e,i]of n.entries())t.append(e,i);return t}function gD(n,t,e,i=!1,s=!1){let o={},l=null,u,f=!1,d={},p=e&&di(e[1])?e[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in t))return;let b=_.route.id,T=t[b];if(re(!go(T),"Cannot handle redirect results in processLoaderData"),di(T)){let S=T.error;if(p!==void 0&&(S=p,p=void 0),l=l||{},s)l[b]=S;else{let D=fo(n,b);l[D.route.id]==null&&(l[D.route.id]=S)}i||(o[b]=HS),f||(f=!0,u=ku(T.error)?T.error.status:500),T.headers&&(d[b]=T.headers)}else o[b]=T.data,T.statusCode&&T.statusCode!==200&&!f&&(u=T.statusCode),T.headers&&(d[b]=T.headers)}),p!==void 0&&e&&(l={[e[0]]:p},o[e[0]]=void 0),{loaderData:o,errors:l,statusCode:u||200,loaderHeaders:d}}function UE(n,t,e,i,s,o){let{loaderData:l,errors:u}=gD(t,e,i);return s.forEach(f=>{let{key:d,match:p,controller:_}=f,b=o[d];if(re(b,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(di(b)){let T=fo(n.matches,p==null?void 0:p.route.id);u&&u[T.route.id]||(u={...u,[T.route.id]:b.error}),n.fetchers.delete(d)}else if(go(b))re(!1,"Unhandled fetcher revalidation redirect");else{let T=Js(b.data);n.fetchers.set(d,T)}}),{loaderData:l,errors:u}}function zE(n,t,e,i){let s=Object.entries(t).filter(([,o])=>o!==HS).reduce((o,[l,u])=>(o[l]=u,o),{});for(let o of e){let l=o.route.id;if(!t.hasOwnProperty(l)&&n.hasOwnProperty(l)&&o.route.loader&&(s[l]=n[l]),i&&i.hasOwnProperty(l))break}return s}function jE(n){return n?di(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function fo(n,t){return(t?n.slice(0,n.findIndex(i=>i.route.id===t)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function BE(n){let t=n.length===1?n[0]:n.find(e=>e.index||!e.path||e.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Ni(n,{pathname:t,routeId:e,method:i,type:s,message:o}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",i&&t&&e?u=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${e}", so there is no way to handle the request.`:s==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${e}" does not match URL "${t}"`):n===404?(l="Not Found",u=`No route matches URL "${t}"`):n===405&&(l="Method Not Allowed",i&&t&&e?u=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${e}", so there is no way to handle the request.`:i&&(u=`Invalid request method "${i.toUpperCase()}"`)),new pd(n||500,l,new Error(u),!0)}function If(n){let t=Object.entries(n);for(let e=t.length-1;e>=0;e--){let[i,s]=t[e];if(go(s))return{key:i,result:s}}}function $S(n){let t=typeof n=="string"?vs(n):n;return ma({...t,hash:""})}function mD(n,t){return n.pathname!==t.pathname||n.search!==t.search?!1:n.hash===""?t.hash!=="":n.hash===t.hash?!0:t.hash!==""}function pD(n){return KS(n.result)&&JI.has(n.result.status)}function di(n){return n.type==="error"}function go(n){return(n&&n.type)==="redirect"}function FE(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function KS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function yD(n){return ZI.has(n.toUpperCase())}function Qi(n){return QI.has(n.toUpperCase())}function Gy(n){return new URLSearchParams(n).getAll("index").some(t=>t==="")}function hu(n,t){let e=typeof t=="string"?vs(t).search:t.search;if(n[n.length-1].route.index&&Gy(e||""))return n[n.length-1];let i=jS(n);return i[i.length-1]}function HE(n){let{formMethod:t,formAction:e,formEncType:i,text:s,formData:o,json:l}=n;if(!(!t||!e||!i)){if(s!=null)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:t,formAction:e,formEncType:i,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:e,formEncType:i,formData:void 0,json:l,text:void 0}}}function Cp(n,t){return t?{state:"loading",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _D(n,t){return{state:"submitting",location:n,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function iu(n,t){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function vD(n,t){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:t?t.data:void 0}}function Js(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function bD(n,t){try{let e=n.sessionStorage.getItem(FS);if(e){let i=JSON.parse(e);for(let[s,o]of Object.entries(i||{}))o&&Array.isArray(o)&&t.set(s,new Set(o||[]))}}catch{}}function ED(n,t){if(t.size>0){let e={};for(let[i,s]of t)e[i]=[...s];try{n.sessionStorage.setItem(FS,JSON.stringify(e))}catch(i){An(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function wD(){let n,t,e=new Promise((i,s)=>{n=async o=>{i(o);try{await e}catch{}},t=async o=>{s(o);try{await e}catch{}}});return{promise:e,resolve:n,reject:t}}var Ro=$.createContext(null);Ro.displayName="DataRouter";var Yu=$.createContext(null);Yu.displayName="DataRouterState";var $y=$.createContext({isTransitioning:!1});$y.displayName="ViewTransition";var WS=$.createContext(new Map);WS.displayName="Fetchers";var TD=$.createContext(null);TD.displayName="Await";var Ir=$.createContext(null);Ir.displayName="Navigation";var Wd=$.createContext(null);Wd.displayName="Location";var Dr=$.createContext({outlet:null,matches:[],isDataRoute:!1});Dr.displayName="Route";var Ky=$.createContext(null);Ky.displayName="RouteError";function SD(n,{relative:t}={}){re(Qu(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=$.useContext(Ir),{hash:s,pathname:o,search:l}=Xu(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:Tr([e,o])),i.createHref({pathname:u,search:l,hash:s})}function Qu(){return $.useContext(Wd)!=null}function Sa(){return re(Qu(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Wd).location}var YS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QS(n){$.useContext(Ir).static||$.useLayoutEffect(n)}function Yd(){let{isDataRoute:n}=$.useContext(Dr);return n?UD():AD()}function AD(){re(Qu(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Ro),{basename:t,navigator:e}=$.useContext(Ir),{matches:i}=$.useContext(Dr),{pathname:s}=Sa(),o=JSON.stringify(Fy(i)),l=$.useRef(!1);return QS(()=>{l.current=!0}),$.useCallback((f,d={})=>{if(An(l.current,YS),!l.current)return;if(typeof f=="number"){e.go(f);return}let p=Hy(f,JSON.parse(o),s,d.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Tr([t,p.pathname])),(d.replace?e.replace:e.push)(p,d.state,d)},[t,e,o,s,n])}var xD=$.createContext(null);function RD(n){let t=$.useContext(Dr).outlet;return t&&$.createElement(xD.Provider,{value:n},t)}function Xu(n,{relative:t}={}){let{matches:e}=$.useContext(Dr),{pathname:i}=Sa(),s=JSON.stringify(Fy(e));return $.useMemo(()=>Hy(n,JSON.parse(s),i,t==="path"),[n,s,i,t])}function CD(n,t,e,i){re(Qu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=$.useContext(Ir),{matches:l}=$.useContext(Dr),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let U=_&&_.path||"";ZS(d,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let b=Sa(),T;T=b;let S=T.pathname||"/",D=S;if(p!=="/"){let U=p.replace(/^\//,"").split("/");D="/"+S.replace(/^\//,"").split("/").slice(U.length).join("/")}let C=!o&&e&&e.matches&&e.matches.length>0?e.matches:ta(n,{pathname:D});return An(_||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),An(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),kD(C&&C.map(U=>Object.assign({},U,{params:Object.assign({},f,U.params),pathname:Tr([p,s.encodeLocation?s.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?p:Tr([p,s.encodeLocation?s.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),l,e,i)}function ID(){let n=VD(),t=ku(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),e?$.createElement("pre",{style:s},e):null,l)}var DD=$.createElement(ID,null),MD=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?$.createElement(Dr.Provider,{value:this.props.routeContext},$.createElement(Ky.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OD({routeContext:n,match:t,children:e}){let i=$.useContext(Ro);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Dr.Provider,{value:n},e)}function kD(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let s=n,o=e==null?void 0:e.errors;if(o!=null){let f=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);re(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(e)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:_}=e,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!_||_[d.route.id]===void 0);if(d.route.lazy||b){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,p)=>{let _,b=!1,T=null,S=null;e&&(_=o&&d.route.id?o[d.route.id]:void 0,T=d.route.errorElement||DD,l&&(u<0&&p===0?(ZS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):u===p&&(b=!0,S=d.route.hydrateFallbackElement||null)));let D=t.concat(s.slice(0,p+1)),C=()=>{let P;return _?P=T:b?P=S:d.route.Component?P=$.createElement(d.route.Component,null):d.route.element?P=d.route.element:P=f,$.createElement(OD,{match:d,routeContext:{outlet:f,matches:D,isDataRoute:e!=null},children:P})};return e&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?$.createElement(MD,{location:e.location,revalidation:e.revalidation,component:T,error:_,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function Wy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XS(n){let t=$.useContext(Ro);return re(t,Wy(n)),t}function Qd(n){let t=$.useContext(Yu);return re(t,Wy(n)),t}function PD(n){let t=$.useContext(Dr);return re(t,Wy(n)),t}function Xd(n){let t=PD(n),e=t.matches[t.matches.length-1];return re(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function ND(){return Xd("useRouteId")}function LD(){return Qd("useNavigation").navigation}function Yy(){let n=XS("useRevalidator"),t=Qd("useRevalidator");return $.useMemo(()=>({async revalidate(){await n.router.revalidate()},state:t.revalidation}),[n.router,t.revalidation])}function Co(){let n=Qd("useLoaderData"),t=Xd("useLoaderData");return n.loaderData[t]}function VD(){var i;let n=$.useContext(Ky),t=Qd("useRouteError"),e=Xd("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function UD(){let{router:n}=XS("useNavigate"),t=Xd("useNavigate"),e=$.useRef(!1);return QS(()=>{e.current=!0}),$.useCallback(async(s,o={})=>{An(e.current,YS),e.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:t,...o}))},[n,t])}var qE={};function ZS(n,t,e){!t&&!qE[n]&&(qE[n]=!0,An(!1,e))}var GE={};function $E(n,t){!n&&!GE[t]&&(GE[t]=!0,console.warn(t))}function zD(n){let t={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:$.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:$.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:$.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),t}var jD=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",t(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",e(i))}})}};function BD({router:n,flushSync:t}){let[e,i]=$.useState(n.state),[s,o]=$.useState(),[l,u]=$.useState({isTransitioning:!1}),[f,d]=$.useState(),[p,_]=$.useState(),[b,T]=$.useState(),S=$.useRef(new Map),D=$.useCallback((G,{deletedFetchers:tt,flushSync:O,viewTransitionOpts:K})=>{G.fetchers.forEach((x,A)=>{x.data!==void 0&&S.current.set(A,x.data)}),tt.forEach(x=>S.current.delete(x)),$E(O===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if($E(K==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!K||!k){t&&O?t(()=>i(G)):$.startTransition(()=>i(G));return}if(t&&O){t(()=>{p&&(f&&f.resolve(),p.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:K.currentLocation,nextLocation:K.nextLocation})});let x=n.window.document.startViewTransition(()=>{t(()=>i(G))});x.finished.finally(()=>{t(()=>{d(void 0),_(void 0),o(void 0),u({isTransitioning:!1})})}),t(()=>_(x));return}p?(f&&f.resolve(),p.skipTransition(),T({state:G,currentLocation:K.currentLocation,nextLocation:K.nextLocation})):(o(G),u({isTransitioning:!0,flushSync:!1,currentLocation:K.currentLocation,nextLocation:K.nextLocation}))},[n.window,t,p,f]);$.useLayoutEffect(()=>n.subscribe(D),[n,D]),$.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new jD)},[l]),$.useEffect(()=>{if(f&&s&&n.window){let G=s,tt=f.promise,O=n.window.document.startViewTransition(async()=>{$.startTransition(()=>i(G)),await tt});O.finished.finally(()=>{d(void 0),_(void 0),o(void 0),u({isTransitioning:!1})}),_(O)}},[s,f,n.window]),$.useEffect(()=>{f&&s&&e.location.key===s.location.key&&f.resolve()},[f,p,e.location,s]),$.useEffect(()=>{!l.isTransitioning&&b&&(o(b.state),u({isTransitioning:!0,flushSync:!1,currentLocation:b.currentLocation,nextLocation:b.nextLocation}),T(void 0))},[l.isTransitioning,b]);let C=$.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:G=>n.navigate(G),push:(G,tt,O)=>n.navigate(G,{state:tt,preventScrollReset:O==null?void 0:O.preventScrollReset}),replace:(G,tt,O)=>n.navigate(G,{replace:!0,state:tt,preventScrollReset:O==null?void 0:O.preventScrollReset})}),[n]),P=n.basename||"/",U=$.useMemo(()=>({router:n,navigator:C,static:!1,basename:P}),[n,C,P]);return $.createElement($.Fragment,null,$.createElement(Ro.Provider,{value:U},$.createElement(Yu.Provider,{value:e},$.createElement(WS.Provider,{value:S.current},$.createElement($y.Provider,{value:l},$.createElement(qD,{basename:P,location:e.location,navigationType:e.historyAction,navigator:C},$.createElement(FD,{routes:n.routes,future:n.future,state:e})))))),null)}var FD=$.memo(HD);function HD({routes:n,future:t,state:e}){return CD(n,void 0,e,t)}function Qy(n){return RD(n.context)}function qD({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:s,static:o=!1}){re(!Qu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:o,future:{}}),[l,s,o]);typeof e=="string"&&(e=vs(e));let{pathname:f="/",search:d="",hash:p="",state:_=null,key:b="default"}=e,T=$.useMemo(()=>{let S=zi(f,l);return S==null?null:{location:{pathname:S,search:d,hash:p,state:_,key:b},navigationType:i}},[l,f,d,p,_,b,i]);return An(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:$.createElement(Ir.Provider,{value:u},$.createElement(Wd.Provider,{children:t,value:T}))}var Zf="get",Jf="application/x-www-form-urlencoded";function Zd(n){return n!=null&&typeof n.tagName=="string"}function GD(n){return Zd(n)&&n.tagName.toLowerCase()==="button"}function $D(n){return Zd(n)&&n.tagName.toLowerCase()==="form"}function KD(n){return Zd(n)&&n.tagName.toLowerCase()==="input"}function WD(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function YD(n,t){return n.button===0&&(!t||t==="_self")&&!WD(n)}var Df=null;function QD(){if(Df===null)try{new FormData(document.createElement("form"),0),Df=!1}catch{Df=!0}return Df}var XD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ip(n){return n!=null&&!XD.has(n)?(An(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jf}"`),null):n}function ZD(n,t){let e,i,s,o,l;if($D(n)){let u=n.getAttribute("action");i=u?zi(u,t):null,e=n.getAttribute("method")||Zf,s=Ip(n.getAttribute("enctype"))||Jf,o=new FormData(n)}else if(GD(n)||KD(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||u.getAttribute("action");if(i=f?zi(f,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||Zf,s=Ip(n.getAttribute("formenctype"))||Ip(u.getAttribute("enctype"))||Jf,o=new FormData(u,n),!QD()){let{name:d,type:p,value:_}=n;if(p==="image"){let b=d?`${d}.`:"";o.append(`${b}x`,"0"),o.append(`${b}y`,"0")}else d&&o.append(d,_)}}else{if(Zd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Zf,i=null,s=Jf,l=n}return o&&s==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:s,formData:o,body:l}}function Xy(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function JD(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function eM(n,t,e){let i=await Promise.all(n.map(async s=>{let o=t.routes[s.route.id];if(o){let l=await JD(o,e);return l.links?l.links():[]}return[]}));return sM(i.flat(1).filter(tM).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function KE(n,t,e,i,s,o){let l=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,u=(f,d)=>{var p;return e[d].pathname!==f.pathname||((p=e[d].route.path)==null?void 0:p.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,d)=>l(f,d)||u(f,d)):o==="data"?t.filter((f,d)=>{var _;let p=i.routes[f.route.id];if(!p||!p.hasLoader)return!1;if(l(f,d)||u(f,d))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=e[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nM(n,t,{includeHydrateFallback:e}={}){return iM(n.map(i=>{let s=t.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),e&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function iM(n){return[...new Set(n)]}function rM(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function sM(n,t){let e=new Set;return new Set(t),n.reduce((i,s)=>{let o=JSON.stringify(rM(s));return e.has(o)||(e.add(o),i.push({key:o,link:s})),i},[])}function aM(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&zi(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function JS(){let n=$.useContext(Ro);return Xy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oM(){let n=$.useContext(Yu);return Xy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zy=$.createContext(void 0);Zy.displayName="FrameworkContext";function tA(){let n=$.useContext(Zy);return Xy(n,"You must render this element inside a <HydratedRouter> element"),n}function lM(n,t){let e=$.useContext(Zy),[i,s]=$.useState(!1),[o,l]=$.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:d,onMouseLeave:p,onTouchStart:_}=t,b=$.useRef(null);$.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let D=P=>{P.forEach(U=>{l(U.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return b.current&&C.observe(b.current),()=>{C.disconnect()}}},[n]),$.useEffect(()=>{if(i){let D=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(D)}}},[i]);let T=()=>{s(!0)},S=()=>{s(!1),l(!1)};return e?n!=="intent"?[o,b,{}]:[o,b,{onFocus:ru(u,T),onBlur:ru(f,S),onMouseEnter:ru(d,T),onMouseLeave:ru(p,S),onTouchStart:ru(_,T)}]:[!1,b,{}]}function ru(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function cM({page:n,...t}){let{router:e}=JS(),i=$.useMemo(()=>ta(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?$.createElement(hM,{page:n,matches:i,...t}):null}function uM(n){let{manifest:t,routeModules:e}=tA(),[i,s]=$.useState([]);return $.useEffect(()=>{let o=!1;return eM(n,t,e).then(l=>{o||s(l)}),()=>{o=!0}},[n,t,e]),i}function hM({page:n,matches:t,...e}){let i=Sa(),{manifest:s,routeModules:o}=tA(),{basename:l}=JS(),{loaderData:u,matches:f}=oM(),d=$.useMemo(()=>KE(n,t,f,s,i,"data"),[n,t,f,s,i]),p=$.useMemo(()=>KE(n,t,f,s,i,"assets"),[n,t,f,s,i]),_=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let S=new Set,D=!1;if(t.forEach(P=>{var G;let U=s.routes[P.route.id];!U||!U.hasLoader||(!d.some(tt=>tt.route.id===P.route.id)&&P.route.id in u&&((G=o[P.route.id])!=null&&G.shouldRevalidate)||U.hasClientLoader?D=!0:S.add(P.route.id))}),S.size===0)return[];let C=aM(n,l);return D&&S.size>0&&C.searchParams.set("_routes",t.filter(P=>S.has(P.route.id)).map(P=>P.route.id).join(",")),[C.pathname+C.search]},[l,u,i,s,d,t,n,o]),b=$.useMemo(()=>nM(p,s),[p,s]),T=uM(p);return $.createElement($.Fragment,null,_.map(S=>$.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...e})),b.map(S=>$.createElement("link",{key:S,rel:"modulepreload",href:S,...e})),T.map(({key:S,link:D})=>$.createElement("link",{key:S,...D})))}function fM(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var eA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eA&&(window.__reactRouterVersion="7.3.0")}catch{}function dM(n,t){return iD({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:xI({window:t==null?void 0:t.window}),hydrationData:gM(),routes:n,mapRouteProperties:zD,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function gM(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:mM(n.errors)}),n}function mM(n){if(!n)return null;let t=Object.entries(n),e={};for(let[i,s]of t)if(s&&s.__type==="RouteErrorResponse")e[i]=new pd(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let l=new o(s.message);l.stack="",e[i]=l}catch{}}if(e[i]==null){let o=new Error(s.message);o.stack="",e[i]=o}}else e[i]=s;return e}var nA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zu=$.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:s,reloadDocument:o,replace:l,state:u,target:f,to:d,preventScrollReset:p,viewTransition:_,...b},T){let{basename:S}=$.useContext(Ir),D=typeof d=="string"&&nA.test(d),C,P=!1;if(typeof d=="string"&&D&&(C=d,eA))try{let A=new URL(window.location.href),M=d.startsWith("//")?new URL(A.protocol+d):new URL(d),V=zi(M.pathname,S);M.origin===A.origin&&V!=null?d=V+M.search+M.hash:P=!0}catch{An(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=SD(d,{relative:s}),[G,tt,O]=lM(i,b),K=vM(d,{replace:l,state:u,target:f,preventScrollReset:p,relative:s,viewTransition:_});function k(A){t&&t(A),A.defaultPrevented||K(A)}let x=$.createElement("a",{...b,...O,href:C||U,onClick:P||o?t:k,ref:fM(T,tt),target:f,"data-discover":!D&&e==="render"?"true":void 0});return G&&!D?$.createElement($.Fragment,null,x,$.createElement(cM,{page:U})):x});Zu.displayName="Link";var pM=$.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:u,children:f,...d},p){let _=Xu(l,{relative:d.relative}),b=Sa(),T=$.useContext(Yu),{navigator:S,basename:D}=$.useContext(Ir),C=T!=null&&SM(_)&&u===!0,P=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,U=b.pathname,G=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;e||(U=U.toLowerCase(),G=G?G.toLowerCase():null,P=P.toLowerCase()),G&&D&&(G=zi(G,D)||G);const tt=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let O=U===P||!s&&U.startsWith(P)&&U.charAt(tt)==="/",K=G!=null&&(G===P||!s&&G.startsWith(P)&&G.charAt(P.length)==="/"),k={isActive:O,isPending:K,isTransitioning:C},x=O?t:void 0,A;typeof i=="function"?A=i(k):A=[i,O?"active":null,K?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(k):o;return $.createElement(Zu,{...d,"aria-current":x,className:A,ref:p,style:M,to:l,viewTransition:u},typeof f=="function"?f(k):f)});pM.displayName="NavLink";var yM=$.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:s,state:o,method:l=Zf,action:u,onSubmit:f,relative:d,preventScrollReset:p,viewTransition:_,...b},T)=>{let S=wM(),D=TM(u,{relative:d}),C=l.toLowerCase()==="get"?"get":"post",P=typeof u=="string"&&nA.test(u),U=G=>{if(f&&f(G),G.defaultPrevented)return;G.preventDefault();let tt=G.nativeEvent.submitter,O=(tt==null?void 0:tt.getAttribute("formmethod"))||l;S(tt||G.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:s,state:o,relative:d,preventScrollReset:p,viewTransition:_})};return $.createElement("form",{ref:T,method:C,action:D,onSubmit:i?f:U,...b,"data-discover":!P&&n==="render"?"true":void 0})});yM.displayName="Form";function _M(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(n){let t=$.useContext(Ro);return re(t,_M(n)),t}function vM(n,{target:t,replace:e,state:i,preventScrollReset:s,relative:o,viewTransition:l}={}){let u=Yd(),f=Sa(),d=Xu(n,{relative:o});return $.useCallback(p=>{if(YD(p,t)){p.preventDefault();let _=e!==void 0?e:ma(f)===ma(d);u(n,{replace:_,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[f,u,d,e,i,t,n,s,o,l])}var bM=0,EM=()=>`__${String(++bM)}__`;function wM(){let{router:n}=iA("useSubmit"),{basename:t}=$.useContext(Ir),e=ND();return $.useCallback(async(i,s={})=>{let{action:o,method:l,encType:u,formData:f,body:d}=ZD(i,t);if(s.navigate===!1){let p=s.fetcherKey||EM();await n.fetch(p,e,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:d,formMethod:s.method||l,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:e,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,t,e])}function TM(n,{relative:t}={}){let{basename:e}=$.useContext(Ir),i=$.useContext(Dr);re(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...Xu(n||".",{relative:t})},l=Sa();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),f=u.getAll("index");if(f.some(p=>p==="")){u.delete("index"),f.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Tr([e,o.pathname])),ma(o)}function SM(n,t={}){let e=$.useContext($y);re(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=iA("useViewTransitionState"),s=Xu(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=zi(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=zi(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Ou(s.pathname,l)!=null||Ou(s.pathname,o)!=null}new TextEncoder;function AM(){return F.jsx("div",{className:"container",children:F.jsx(Qy,{})})}function rA(n){var t,e,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(t=0;t<s;t++)n[t]&&(e=rA(n[t]))&&(i&&(i+=" "),i+=e)}else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function xM(){for(var n,t,e=0,i="",s=arguments.length;e<s;e++)(n=arguments[e])&&(t=rA(n))&&(i&&(i+=" "),i+=t);return i}const Jy="-",RM=n=>{const t=IM(n),{conflictingClassGroups:e,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:l=>{const u=l.split(Jy);return u[0]===""&&u.length!==1&&u.shift(),sA(u,t)||CM(l)},getConflictingClassGroupIds:(l,u)=>{const f=e[l]||[];return u&&i[l]?[...f,...i[l]]:f}}},sA=(n,t)=>{var l;if(n.length===0)return t.classGroupId;const e=n[0],i=t.nextPart.get(e),s=i?sA(n.slice(1),i):void 0;if(s)return s;if(t.validators.length===0)return;const o=n.join(Jy);return(l=t.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},WE=/^\[(.+)\]$/,CM=n=>{if(WE.test(n)){const t=WE.exec(n)[1],e=t==null?void 0:t.substring(0,t.indexOf(":"));if(e)return"arbitrary.."+e}},IM=n=>{const{theme:t,classGroups:e}=n,i={nextPart:new Map,validators:[]};for(const s in e)ry(e[s],i,s,t);return i},ry=(n,t,e,i)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?t:YE(t,s);o.classGroupId=e;return}if(typeof s=="function"){if(DM(s)){ry(s(i),t,e,i);return}t.validators.push({validator:s,classGroupId:e});return}Object.entries(s).forEach(([o,l])=>{ry(l,YE(t,o),e,i)})})},YE=(n,t)=>{let e=n;return t.split(Jy).forEach(i=>{e.nextPart.has(i)||e.nextPart.set(i,{nextPart:new Map,validators:[]}),e=e.nextPart.get(i)}),e},DM=n=>n.isThemeGetter,MM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let t=0,e=new Map,i=new Map;const s=(o,l)=>{e.set(o,l),t++,t>n&&(t=0,i=e,e=new Map)};return{get(o){let l=e.get(o);if(l!==void 0)return l;if((l=i.get(o))!==void 0)return s(o,l),l},set(o,l){e.has(o)?e.set(o,l):s(o,l)}}},sy="!",ay=":",OM=ay.length,kM=n=>{const{prefix:t,experimentalParseClassName:e}=n;let i=s=>{const o=[];let l=0,u=0,f=0,d;for(let S=0;S<s.length;S++){let D=s[S];if(l===0&&u===0){if(D===ay){o.push(s.slice(f,S)),f=S+OM;continue}if(D==="/"){d=S;continue}}D==="["?l++:D==="]"?l--:D==="("?u++:D===")"&&u--}const p=o.length===0?s:s.substring(f),_=PM(p),b=_!==p,T=d&&d>f?d-f:void 0;return{modifiers:o,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:T}};if(t){const s=t+ay,o=i;i=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(e){const s=i;i=o=>e({className:o,parseClassName:s})}return i},PM=n=>n.endsWith(sy)?n.substring(0,n.length-1):n.startsWith(sy)?n.substring(1):n,NM=n=>{const t=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const s=[];let o=[];return i.forEach(l=>{l[0]==="["||t[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},LM=n=>({cache:MM(n.cacheSize),parseClassName:kM(n),sortModifiers:NM(n),...RM(n)}),VM=/\s+/,UM=(n,t)=>{const{parseClassName:e,getClassGroupId:i,getConflictingClassGroupIds:s,sortModifiers:o}=t,l=[],u=n.trim().split(VM);let f="";for(let d=u.length-1;d>=0;d-=1){const p=u[d],{isExternal:_,modifiers:b,hasImportantModifier:T,baseClassName:S,maybePostfixModifierPosition:D}=e(p);if(_){f=p+(f.length>0?" "+f:f);continue}let C=!!D,P=i(C?S.substring(0,D):S);if(!P){if(!C){f=p+(f.length>0?" "+f:f);continue}if(P=i(S),!P){f=p+(f.length>0?" "+f:f);continue}C=!1}const U=o(b).join(":"),G=T?U+sy:U,tt=G+P;if(l.includes(tt))continue;l.push(tt);const O=s(P,C);for(let K=0;K<O.length;++K){const k=O[K];l.push(G+k)}f=p+(f.length>0?" "+f:f)}return f};function zM(){let n=0,t,e,i="";for(;n<arguments.length;)(t=arguments[n++])&&(e=aA(t))&&(i&&(i+=" "),i+=e);return i}const aA=n=>{if(typeof n=="string")return n;let t,e="";for(let i=0;i<n.length;i++)n[i]&&(t=aA(n[i]))&&(e&&(e+=" "),e+=t);return e};function jM(n,...t){let e,i,s,o=l;function l(f){const d=t.reduce((p,_)=>_(p),n());return e=LM(d),i=e.cache.get,s=e.cache.set,o=u,u(f)}function u(f){const d=i(f);if(d)return d;const p=UM(f,e);return s(f,p),p}return function(){return o(zM.apply(null,arguments))}}const Tn=n=>{const t=e=>e[n]||[];return t.isThemeGetter=!0,t},oA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,lA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BM=/^\d+\/\d+$/,FM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,GM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,El=n=>BM.test(n),Jt=n=>!!n&&!Number.isNaN(Number(n)),ro=n=>!!n&&Number.isInteger(Number(n)),QE=n=>n.endsWith("%")&&Jt(n.slice(0,-1)),Qs=n=>FM.test(n),KM=()=>!0,WM=n=>HM.test(n)&&!qM.test(n),t_=()=>!1,YM=n=>GM.test(n),QM=n=>$M.test(n),XM=n=>!xt(n)&&!Rt(n),ZM=n=>Gl(n,hA,t_),xt=n=>oA.test(n),so=n=>Gl(n,fA,WM),Dp=n=>Gl(n,cO,Jt),JM=n=>Gl(n,cA,t_),tO=n=>Gl(n,uA,QM),eO=n=>Gl(n,t_,YM),Rt=n=>lA.test(n),Mf=n=>$l(n,fA),nO=n=>$l(n,uO),iO=n=>$l(n,cA),rO=n=>$l(n,hA),sO=n=>$l(n,uA),aO=n=>$l(n,hO,!0),Gl=(n,t,e)=>{const i=oA.exec(n);return i?i[1]?t(i[1]):e(i[2]):!1},$l=(n,t,e=!1)=>{const i=lA.exec(n);return i?i[1]?t(i[1]):e:!1},cA=n=>n==="position",oO=new Set(["image","url"]),uA=n=>oO.has(n),lO=new Set(["length","size","percentage"]),hA=n=>lO.has(n),fA=n=>n==="length",cO=n=>n==="number",uO=n=>n==="family-name",hO=n=>n==="shadow",fO=()=>{const n=Tn("color"),t=Tn("font"),e=Tn("text"),i=Tn("font-weight"),s=Tn("tracking"),o=Tn("leading"),l=Tn("breakpoint"),u=Tn("container"),f=Tn("spacing"),d=Tn("radius"),p=Tn("shadow"),_=Tn("inset-shadow"),b=Tn("drop-shadow"),T=Tn("blur"),S=Tn("perspective"),D=Tn("aspect"),C=Tn("ease"),P=Tn("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],tt=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],K=()=>[Rt,xt,f],k=()=>[El,"full","auto",...K()],x=()=>[ro,"none","subgrid",Rt,xt],A=()=>["auto",{span:["full",ro,Rt,xt]},Rt,xt],M=()=>[ro,"auto",Rt,xt],V=()=>["auto","min","max","fr",Rt,xt],j=()=>["start","end","center","between","around","evenly","stretch","baseline"],N=()=>["start","end","center","stretch"],Bt=()=>["auto",...K()],_t=()=>[El,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],nt=()=>[n,Rt,xt],mt=()=>[QE,so],ht=()=>["","none","full",d,Rt,xt],bt=()=>["",Jt,Mf,so],z=()=>["solid","dashed","dotted","double"],lt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pt=()=>["","none",T,Rt,xt],dt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt,xt],ft=()=>["none",Jt,Rt,xt],It=()=>["none",Jt,Rt,xt],Nt=()=>[Jt,Rt,xt],Ae=()=>[El,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[KM],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[XM],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",Jt],text:[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",El,xt,Rt,D]}],container:["container"],columns:[{columns:[Jt,xt,Rt,u]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),xt,Rt]}],overflow:[{overflow:tt()}],"overflow-x":[{"overflow-x":tt()}],"overflow-y":[{"overflow-y":tt()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[ro,"auto",Rt,xt]}],basis:[{basis:[El,"full","auto",u,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Jt,El,"auto","initial","none",xt]}],grow:[{grow:["",Jt,Rt,xt]}],shrink:[{shrink:["",Jt,Rt,xt]}],order:[{order:[ro,"first","last","none",Rt,xt]}],"grid-cols":[{"grid-cols":x()}],"col-start-end":[{col:A()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":x()}],"row-start-end":[{row:A()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":V()}],"auto-rows":[{"auto-rows":V()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...N(),"normal"]}],"justify-self":[{"justify-self":["auto",...N()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...N(),"baseline"]}],"align-self":[{self:["auto",...N(),"baseline"]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...N(),"baseline"]}],"place-self":[{"place-self":["auto",...N()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:Bt()}],mx:[{mx:Bt()}],my:[{my:Bt()}],ms:[{ms:Bt()}],me:[{me:Bt()}],mt:[{mt:Bt()}],mr:[{mr:Bt()}],mb:[{mb:Bt()}],ml:[{ml:Bt()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:_t()}],w:[{w:[u,"screen",..._t()]}],"min-w":[{"min-w":[u,"screen","none",..._t()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},..._t()]}],h:[{h:["screen",..._t()]}],"min-h":[{"min-h":["screen","none",..._t()]}],"max-h":[{"max-h":["screen",..._t()]}],"font-size":[{text:["base",e,Mf,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,Rt,Dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",QE,xt]}],"font-family":[{font:[nO,xt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Rt,xt]}],"line-clamp":[{"line-clamp":[Jt,"none",Rt,Dp]}],leading:[{leading:[o,...K()]}],"list-image":[{"list-image":["none",Rt,xt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Rt,xt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:nt()}],"text-color":[{text:nt()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Jt,"from-font","auto",Rt,so]}],"text-decoration-color":[{decoration:nt()}],"underline-offset":[{"underline-offset":[Jt,"auto",Rt,xt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt,xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt,xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),iO,JM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",rO,ZM]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ro,Rt,xt],radial:["",Rt,xt],conic:[ro,Rt,xt]},sO,tO]}],"bg-color":[{bg:nt()}],"gradient-from-pos":[{from:mt()}],"gradient-via-pos":[{via:mt()}],"gradient-to-pos":[{to:mt()}],"gradient-from":[{from:nt()}],"gradient-via":[{via:nt()}],"gradient-to":[{to:nt()}],rounded:[{rounded:ht()}],"rounded-s":[{"rounded-s":ht()}],"rounded-e":[{"rounded-e":ht()}],"rounded-t":[{"rounded-t":ht()}],"rounded-r":[{"rounded-r":ht()}],"rounded-b":[{"rounded-b":ht()}],"rounded-l":[{"rounded-l":ht()}],"rounded-ss":[{"rounded-ss":ht()}],"rounded-se":[{"rounded-se":ht()}],"rounded-ee":[{"rounded-ee":ht()}],"rounded-es":[{"rounded-es":ht()}],"rounded-tl":[{"rounded-tl":ht()}],"rounded-tr":[{"rounded-tr":ht()}],"rounded-br":[{"rounded-br":ht()}],"rounded-bl":[{"rounded-bl":ht()}],"border-w":[{border:bt()}],"border-w-x":[{"border-x":bt()}],"border-w-y":[{"border-y":bt()}],"border-w-s":[{"border-s":bt()}],"border-w-e":[{"border-e":bt()}],"border-w-t":[{"border-t":bt()}],"border-w-r":[{"border-r":bt()}],"border-w-b":[{"border-b":bt()}],"border-w-l":[{"border-l":bt()}],"divide-x":[{"divide-x":bt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":bt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:nt()}],"border-color-x":[{"border-x":nt()}],"border-color-y":[{"border-y":nt()}],"border-color-s":[{"border-s":nt()}],"border-color-e":[{"border-e":nt()}],"border-color-t":[{"border-t":nt()}],"border-color-r":[{"border-r":nt()}],"border-color-b":[{"border-b":nt()}],"border-color-l":[{"border-l":nt()}],"divide-color":[{divide:nt()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Jt,Rt,xt]}],"outline-w":[{outline:["",Jt,Mf,so]}],"outline-color":[{outline:[n]}],shadow:[{shadow:["","none",p,aO,eO]}],"shadow-color":[{shadow:nt()}],"inset-shadow":[{"inset-shadow":["none",Rt,xt,_]}],"inset-shadow-color":[{"inset-shadow":nt()}],"ring-w":[{ring:bt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:nt()}],"ring-offset-w":[{"ring-offset":[Jt,so]}],"ring-offset-color":[{"ring-offset":nt()}],"inset-ring-w":[{"inset-ring":bt()}],"inset-ring-color":[{"inset-ring":nt()}],opacity:[{opacity:[Jt,Rt,xt]}],"mix-blend":[{"mix-blend":[...lt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":lt()}],filter:[{filter:["","none",Rt,xt]}],blur:[{blur:pt()}],brightness:[{brightness:[Jt,Rt,xt]}],contrast:[{contrast:[Jt,Rt,xt]}],"drop-shadow":[{"drop-shadow":["","none",b,Rt,xt]}],grayscale:[{grayscale:["",Jt,Rt,xt]}],"hue-rotate":[{"hue-rotate":[Jt,Rt,xt]}],invert:[{invert:["",Jt,Rt,xt]}],saturate:[{saturate:[Jt,Rt,xt]}],sepia:[{sepia:["",Jt,Rt,xt]}],"backdrop-filter":[{"backdrop-filter":["","none",Rt,xt]}],"backdrop-blur":[{"backdrop-blur":pt()}],"backdrop-brightness":[{"backdrop-brightness":[Jt,Rt,xt]}],"backdrop-contrast":[{"backdrop-contrast":[Jt,Rt,xt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Jt,Rt,xt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Jt,Rt,xt]}],"backdrop-invert":[{"backdrop-invert":["",Jt,Rt,xt]}],"backdrop-opacity":[{"backdrop-opacity":[Jt,Rt,xt]}],"backdrop-saturate":[{"backdrop-saturate":[Jt,Rt,xt]}],"backdrop-sepia":[{"backdrop-sepia":["",Jt,Rt,xt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Rt,xt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Jt,"initial",Rt,xt]}],ease:[{ease:["linear","initial",C,Rt,xt]}],delay:[{delay:[Jt,Rt,xt]}],animate:[{animate:["none",P,Rt,xt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Rt,xt]}],"perspective-origin":[{"perspective-origin":dt()}],rotate:[{rotate:ft()}],"rotate-x":[{"rotate-x":ft()}],"rotate-y":[{"rotate-y":ft()}],"rotate-z":[{"rotate-z":ft()}],scale:[{scale:It()}],"scale-x":[{"scale-x":It()}],"scale-y":[{"scale-y":It()}],"scale-z":[{"scale-z":It()}],"scale-3d":["scale-3d"],skew:[{skew:Nt()}],"skew-x":[{"skew-x":Nt()}],"skew-y":[{"skew-y":Nt()}],transform:[{transform:[Rt,xt,"","none","gpu","cpu"]}],"transform-origin":[{origin:dt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:nt()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:nt()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt,xt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt,xt]}],fill:[{fill:["none",...nt()]}],"stroke-w":[{stroke:[Jt,Mf,so,Dp]}],stroke:[{stroke:["none",...nt()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},dO=jM(fO);function pa(...n){return dO(xM(n))}const He=({label:n,type:t,id:e,name:i,className:s,defaultValue:o,...l})=>{const[u,f]=$.useState(o||"");return F.jsxs("div",{className:pa("flex flex-col mb-2",s),children:[n&&F.jsx("label",{htmlFor:e,children:n}),F.jsx("input",{value:u,onChange:d=>f(d.target.value),className:"border border-gray-300 rounded-md p-2 h-full",type:t,id:e,name:i,...l})]})},Jd=({children:n,className:t,...e})=>F.jsx("button",{className:pa("bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",t),...e,children:n});/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dA=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim();/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=$.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:l,...u},f)=>$.createElement("svg",{ref:f,...mO,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:dA("lucide",s),...u},[...l.map(([d,p])=>$.createElement(d,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=(n,t)=>{const e=$.forwardRef(({className:i,...s},o)=>$.createElement(pO,{ref:o,iconNode:t,className:dA(`lucide-${gO(n)}`,i),...s}));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_O=Ju("ArrowLeft",yO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bO=Ju("ArrowRight",vO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],gA=Ju("Loader",EO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}]],TO=Ju("SquareMinus",wO);/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],AO=Ju("SquarePlus",SO);var xO=LS();const _o=({children:n,...t})=>{const e=xO.useFormStatus();return F.jsx(Jd,{disabled:e.pending,...t,children:e.pending?F.jsxs("span",{children:["loading... ",F.jsx(gA,{className:"animate-spin inline"})]}):F.jsx("p",{children:n})})},RO=()=>{};var XE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?t[e++]=s:s<2048?(t[e++]=s>>6|192,t[e++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=s>>18|240,t[e++]=s>>12&63|128,t[e++]=s>>6&63|128,t[e++]=s&63|128):(t[e++]=s>>12|224,t[e++]=s>>6&63|128,t[e++]=s&63|128)}return t},CO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const s=n[e++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[e++];t[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[e++],l=n[e++],u=n[e++],f=((s&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return t.join("")},pA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],l=s+1<n.length,u=l?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,p=o>>2,_=(o&3)<<4|u>>4;let b=(u&15)<<2|d>>6,T=d&63;f||(T=64,l||(b=64)),i.push(e[p],e[_],e[b],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(mA(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):CO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=e[n.charAt(s++)],u=s<n.length?e[n.charAt(s)]:0;++s;const d=s<n.length?e[n.charAt(s)]:64;++s;const _=s<n.length?e[n.charAt(s)]:64;if(++s,o==null||u==null||d==null||_==null)throw new IO;const b=o<<2|u>>4;if(i.push(b),d!==64){const T=u<<4&240|d>>2;if(i.push(T),_!==64){const S=d<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DO=function(n){const t=mA(n);return pA.encodeByteArray(t,!0)},yd=function(n){return DO(n).replace(/\./g,"")},yA=function(n){try{return pA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=()=>MO().__FIREBASE_DEFAULTS__,kO=()=>{if(typeof process>"u"||typeof XE>"u")return;const n=XE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&yA(n[1]);return t&&JSON.parse(t)},tg=()=>{try{return RO()||OO()||kO()||PO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},_A=n=>{var t,e;return(e=(t=tg())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},NO=n=>{const t=_A(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},vA=()=>{var n;return(n=tg())===null||n===void 0?void 0:n.config},bA=n=>{var t;return(t=tg())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yd(JSON.stringify(e)),yd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fn())}function zO(){var n;const t=(n=tg())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function BO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function FO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HO(){const n=Fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function qO(){return!zO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GO(){try{return typeof indexedDB=="object"}catch{return!1}}function $O(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{e=!1},s.onerror=()=>{var o;t(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="FirebaseError";class bs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=KO,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},s=`${this.service}/${t}`,o=this.errors[t],l=o?WO(o,i):"Error",u=`${this.serviceName}: ${l} (${s}).`;return new bs(s,u,i)}}function WO(n,t){return n.replace(YO,(e,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const YO=/\{\$([^}]+)}/g;function QO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function vo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const s of e){if(!i.includes(s))return!1;const o=n[s],l=t[s];if(ZE(o)&&ZE(l)){if(!vo(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!e.includes(s))return!1;return!0}function ZE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function fu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(o)}}),t}function du(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function XO(n,t){const e=new ZO(n,t);return e.subscribe.bind(e)}class ZO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let s;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");JO(t,["next","error","complete"])?s=t:s={next:t,error:e,complete:i},s.next===void 0&&(s.next=Mp),s.error===void 0&&(s.error=Mp),s.complete===void 0&&(s.complete=Mp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Mp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(n){return n&&n._delegate?n._delegate:n}class bo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new LO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:e});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(n2(t))try{this.getOrInitializeService({instanceIdentifier:uo})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(t=uo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=uo){return this.instances.has(t)}getOptions(t=uo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(s)}return s}onInit(t,e){var i;const s=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&t(l,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const s of i)try{s(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=uo){return this.component?this.component.multipleInstances?t:uo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e2(n){return n===uo?void 0:n}function n2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new t2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(te||(te={}));const r2={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},s2=te.INFO,a2={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},o2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),s=a2[t];if(s)console[s](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class e_{constructor(t){this.name=t,this._logLevel=s2,this._logHandler=o2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?r2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...t),this._logHandler(this,te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...t),this._logHandler(this,te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,te.INFO,...t),this._logHandler(this,te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,te.WARN,...t),this._logHandler(this,te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...t),this._logHandler(this,te.ERROR,...t)}}const l2=(n,t)=>t.some(e=>n instanceof e);let JE,tw;function c2(){return JE||(JE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u2(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EA=new WeakMap,oy=new WeakMap,wA=new WeakMap,Op=new WeakMap,n_=new WeakMap;function h2(n){const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(la(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&EA.set(e,n)}).catch(()=>{}),n_.set(t,n),t}function f2(n){if(oy.has(n))return;const t=new Promise((e,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});oy.set(n,t)}let ly={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return oy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||wA.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return la(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function d2(n){ly=n(ly)}function g2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(kp(this),t,...e);return wA.set(i,t.sort?t.sort():[t]),la(i)}:u2().includes(n)?function(...t){return n.apply(kp(this),t),la(EA.get(this))}:function(...t){return la(n.apply(kp(this),t))}}function m2(n){return typeof n=="function"?g2(n):(n instanceof IDBTransaction&&f2(n),l2(n,c2())?new Proxy(n,ly):n)}function la(n){if(n instanceof IDBRequest)return h2(n);if(Op.has(n))return Op.get(n);const t=m2(n);return t!==n&&(Op.set(n,t),n_.set(t,n)),t}const kp=n=>n_.get(n);function p2(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(n,t),u=la(l);return i&&l.addEventListener("upgradeneeded",f=>{i(la(l.result),f.oldVersion,f.newVersion,la(l.transaction),f)}),e&&l.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),u.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const y2=["get","getKey","getAll","getAllKeys","count"],_2=["put","add","delete","clear"],Pp=new Map;function ew(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Pp.get(t))return Pp.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,s=_2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||y2.includes(e)))return;const o=async function(l,...u){const f=this.transaction(l,s?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(u.shift())),(await Promise.all([d[e](...u),s&&f.done]))[0]};return Pp.set(t,o),o}d2(n=>({...n,get:(t,e,i)=>ew(t,e)||n.get(t,e,i),has:(t,e)=>!!ew(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(b2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function b2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const cy="@firebase/app",nw="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new e_("@firebase/app"),E2="@firebase/app-compat",w2="@firebase/analytics-compat",T2="@firebase/analytics",S2="@firebase/app-check-compat",A2="@firebase/app-check",x2="@firebase/auth",R2="@firebase/auth-compat",C2="@firebase/database",I2="@firebase/data-connect",D2="@firebase/database-compat",M2="@firebase/functions",O2="@firebase/functions-compat",k2="@firebase/installations",P2="@firebase/installations-compat",N2="@firebase/messaging",L2="@firebase/messaging-compat",V2="@firebase/performance",U2="@firebase/performance-compat",z2="@firebase/remote-config",j2="@firebase/remote-config-compat",B2="@firebase/storage",F2="@firebase/storage-compat",H2="@firebase/firestore",q2="@firebase/vertexai",G2="@firebase/firestore-compat",$2="firebase",K2="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",W2={[cy]:"fire-core",[E2]:"fire-core-compat",[T2]:"fire-analytics",[w2]:"fire-analytics-compat",[A2]:"fire-app-check",[S2]:"fire-app-check-compat",[x2]:"fire-auth",[R2]:"fire-auth-compat",[C2]:"fire-rtdb",[I2]:"fire-data-connect",[D2]:"fire-rtdb-compat",[M2]:"fire-fn",[O2]:"fire-fn-compat",[k2]:"fire-iid",[P2]:"fire-iid-compat",[N2]:"fire-fcm",[L2]:"fire-fcm-compat",[V2]:"fire-perf",[U2]:"fire-perf-compat",[z2]:"fire-rc",[j2]:"fire-rc-compat",[B2]:"fire-gcs",[F2]:"fire-gcs-compat",[H2]:"fire-fst",[G2]:"fire-fst-compat",[q2]:"fire-vertex","fire-js":"fire-js",[$2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d=new Map,Y2=new Map,hy=new Map;function iw(n,t){try{n.container.addComponent(t)}catch(e){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ll(n){const t=n.name;if(hy.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;hy.set(t,n);for(const e of _d.values())iw(e,n);for(const e of Y2.values())iw(e,n);return!0}function i_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Li(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new th("app","Firebase",Q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=K2;function TA(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:uy,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw ca.create("bad-app-name",{appName:String(s)});if(e||(e=vA()),!e)throw ca.create("no-options");const o=_d.get(s);if(o){if(vo(e,o.options)&&vo(i,o.config))return o;throw ca.create("duplicate-app",{appName:s})}const l=new i2(s);for(const f of hy.values())l.addComponent(f);const u=new X2(e,i,l);return _d.set(s,u),u}function SA(n=uy){const t=_d.get(n);if(!t&&n===uy&&vA())return TA();if(!t)throw ca.create("no-app",{appName:n});return t}function ua(n,t,e){var i;let s=(i=W2[n])!==null&&i!==void 0?i:n;e&&(s+=`-${e}`);const o=s.match(/\s|\//),l=t.match(/\s|\//);if(o||l){const u=[`Unable to register library "${s}" with version "${t}":`];o&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(u.join(" "));return}Ll(new bo(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="firebase-heartbeat-database",J2=1,Pu="firebase-heartbeat-store";let Np=null;function AA(){return Np||(Np=p2(Z2,J2,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Pu)}catch(e){console.warn(e)}}}}).catch(n=>{throw ca.create("idb-open",{originalErrorMessage:n.message})})),Np}async function tk(n){try{const e=(await AA()).transaction(Pu),i=await e.objectStore(Pu).get(xA(n));return await e.done,i}catch(t){if(t instanceof bs)ds.warn(t.message);else{const e=ca.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(e.message)}}}async function rw(n,t){try{const i=(await AA()).transaction(Pu,"readwrite");await i.objectStore(Pu).put(t,xA(n)),await i.done}catch(e){if(e instanceof bs)ds.warn(e.message);else{const i=ca.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ds.warn(i.message)}}}function xA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1024,nk=30;class ik{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new sk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sw();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>nk){const l=ak(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ds.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=sw(),{heartbeatsToSend:i,unsentEntries:s}=rk(this._heartbeatsCache.heartbeats),o=yd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ds.warn(e),""}}}function sw(){return new Date().toISOString().substring(0,10)}function rk(n,t=ek){const e=[];let i=n.slice();for(const s of n){const o=e.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),aw(e)>t){o.dates.pop();break}}else if(e.push({agent:s.agent,dates:[s.date]}),aw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class sk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GO()?$O().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await tk(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return rw(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const s=await this.read();return rw(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function aw(n){return yd(JSON.stringify({version:2,heartbeats:n})).length}function ak(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(n){Ll(new bo("platform-logger",t=>new v2(t),"PRIVATE")),Ll(new bo("heartbeat",t=>new ik(t),"PRIVATE")),ua(cy,nw,n),ua(cy,nw,"esm2017"),ua("fire-js","")}ok("");function r_(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e}function RA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lk=RA,CA=new th("auth","Firebase",RA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new e_("@firebase/auth");function ck(n,...t){vd.logLevel<=te.WARN&&vd.warn(`Auth (${Kl}): ${n}`,...t)}function td(n,...t){vd.logLevel<=te.ERROR&&vd.error(`Auth (${Kl}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(n,...t){throw s_(n,...t)}function Sr(n,...t){return s_(n,...t)}function IA(n,t,e){const i=Object.assign(Object.assign({},lk()),{[t]:e});return new th("auth","Firebase",i).create(t,{appName:n.name})}function hs(n){return IA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function s_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return CA.create(n,...t)}function jt(n,t,...e){if(!n)throw s_(t,...e)}function os(n){const t="INTERNAL ASSERTION FAILED: "+n;throw td(t),new Error(t)}function gs(n,t){n||os(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function uk(){return ow()==="http:"||ow()==="https:"}function ow(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uk()||BO()||"connection"in navigator)?navigator.onLine:!0}function fk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,e){this.shortDelay=t,this.longDelay=e,gs(e>t,"Short delay should be less than long delay!"),this.isMobile=UO()||FO()}get(){return hk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(n,t){gs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new nh(3e4,6e4);function Aa(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function xa(n,t,e,i,s={}){return MA(n,s,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=eh(Object.assign({key:n.config.apiKey},l)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d=Object.assign({method:t,headers:f},o);return jO()||(d.referrerPolicy="no-referrer"),DA.fetch()(OA(n,n.config.apiHost,e,u),d)})}async function MA(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},dk),t);try{const s=new pk(n),o=await Promise.race([e(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Of(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[f,d]=u.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Of(n,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Of(n,"email-already-in-use",l);if(f==="USER_DISABLED")throw Of(n,"user-disabled",l);const p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw IA(n,p,d);Ji(n,p)}}catch(s){if(s instanceof bs)throw s;Ji(n,"network-request-failed",{message:String(s)})}}async function ih(n,t,e,i,s={}){const o=await xa(n,t,e,i,s);return"mfaPendingCredential"in o&&Ji(n,"multi-factor-auth-required",{_serverResponse:o}),o}function OA(n,t,e,i){const s=`${t}${e}?${i}`;return n.config.emulator?a_(n.config,s):`${n.config.apiScheme}://${s}`}function mk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Sr(this.auth,"network-request-failed")),gk.get())})}}function Of(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const s=Sr(n,t,i);return s.customData._tokenResponse=e,s}function lw(n){return n!==void 0&&n.enterprise!==void 0}class yk{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return mk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _k(n,t){return xa(n,"GET","/v2/recaptchaConfig",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(n,t){return xa(n,"POST","/v1/accounts:delete",t)}async function kA(n,t){return xa(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bk(n,t=!1){const e=gi(n),i=await e.getIdToken(t),s=o_(i);jt(s&&s.exp&&s.auth_time&&s.iat,e.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Tu(Lp(s.auth_time)),issuedAtTime:Tu(Lp(s.iat)),expirationTime:Tu(Lp(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Lp(n){return Number(n)*1e3}function o_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{const s=yA(e);return s?JSON.parse(s):(td("Failed to decode base64 JWT payload"),null)}catch(s){return td("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function cw(n){const t=o_(n);return jt(t,"internal-error"),jt(typeof t.exp<"u","internal-error"),jt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof bs&&Ek(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Ek({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tu(this.lastLoginAt),this.creationTime=Tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(n){var t;const e=n.auth,i=await n.getIdToken(),s=await Nu(n,kA(e,{idToken:i}));jt(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const l=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?PA(o.providerUserInfo):[],u=Sk(n.providerData,l),f=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),p=f?d:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dy(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,_)}async function Tk(n){const t=gi(n);await bd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Sk(n,t){return[...n.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function PA(n){return n.map(t=>{var{providerId:e}=t,i=r_(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,t){const e=await MA(n,{},async()=>{const i=eh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,l=OA(n,s,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",DA.fetch()(l,{method:"POST",headers:u,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function xk(n,t){return xa(n,"POST","/v2/accounts:revokeToken",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){jt(t.idToken,"internal-error"),jt(typeof t.idToken<"u","internal-error"),jt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){jt(t.length!==0,"internal-error");const e=cw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(jt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:s,expiresIn:o}=await Ak(t,e);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:s,expirationTime:o}=e,l=new Il;return i&&(jt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),s&&(jt(typeof s=="string","internal-error",{appName:t}),l.accessToken=s),o&&(jt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Il,this.toJSON())}_performRefresh(){return os("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,t){jt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class ls{constructor(t){var{uid:e,auth:i,stsTokenManager:s}=t,o=r_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Nu(this,this.stsTokenManager.getToken(this.auth,t));return jt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return bk(this,t)}reload(){return Tk(this)}_assign(t){this!==t&&(jt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ls(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){jt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await bd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Li(this.auth.app))return Promise.reject(hs(this.auth));const t=await this.getIdToken();return await Nu(this,vk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,s,o,l,u,f,d,p;const _=(i=e.displayName)!==null&&i!==void 0?i:void 0,b=(s=e.email)!==null&&s!==void 0?s:void 0,T=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=e.photoURL)!==null&&l!==void 0?l:void 0,D=(u=e.tenantId)!==null&&u!==void 0?u:void 0,C=(f=e._redirectEventId)!==null&&f!==void 0?f:void 0,P=(d=e.createdAt)!==null&&d!==void 0?d:void 0,U=(p=e.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:G,emailVerified:tt,isAnonymous:O,providerData:K,stsTokenManager:k}=e;jt(G&&k,t,"internal-error");const x=Il.fromJSON(this.name,k);jt(typeof G=="string",t,"internal-error"),Xs(_,t.name),Xs(b,t.name),jt(typeof tt=="boolean",t,"internal-error"),jt(typeof O=="boolean",t,"internal-error"),Xs(T,t.name),Xs(S,t.name),Xs(D,t.name),Xs(C,t.name),Xs(P,t.name),Xs(U,t.name);const A=new ls({uid:G,auth:t,email:b,emailVerified:tt,displayName:_,isAnonymous:O,photoURL:S,phoneNumber:T,tenantId:D,stsTokenManager:x,createdAt:P,lastLoginAt:U});return K&&Array.isArray(K)&&(A.providerData=K.map(M=>Object.assign({},M))),C&&(A._redirectEventId=C),A}static async _fromIdTokenResponse(t,e,i=!1){const s=new Il;s.updateFromServerResponse(e);const o=new ls({uid:e.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await bd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const s=e.users[0];jt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?PA(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),u=new Il;u.updateFromIdToken(i);const f=new ls({uid:s.localId,auth:t,stsTokenManager:u,isAnonymous:l}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new dy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=new Map;function cs(n){gs(n instanceof Function,"Expected a class definition");let t=uw.get(n);return t?(gs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,uw.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}NA.type="NONE";const hw=NA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(n,t,e){return`firebase:${n}:${t}:${e}`}class Dl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=ed(this.userKey,s.apiKey,o),this.fullPersistenceKey=ed("persistence",s.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ls._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Dl(cs(hw),t,i);const s=(await Promise.all(e.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||cs(hw);const l=ed(i,t.config.apiKey,t.name);let u=null;for(const d of e)try{const p=await d._get(l);if(p){const _=ls._fromJSON(t,p);d!==o&&(u=_),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Dl(o,t,i):(o=f[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async d=>{if(d!==o)try{await d._remove(l)}catch{}})),new Dl(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(zA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(LA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BA(t))return"Blackberry";if(FA(t))return"Webos";if(VA(t))return"Safari";if((t.includes("chrome/")||UA(t))&&!t.includes("edge/"))return"Chrome";if(jA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function LA(n=Fn()){return/firefox\//i.test(n)}function VA(n=Fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function UA(n=Fn()){return/crios\//i.test(n)}function zA(n=Fn()){return/iemobile/i.test(n)}function jA(n=Fn()){return/android/i.test(n)}function BA(n=Fn()){return/blackberry/i.test(n)}function FA(n=Fn()){return/webos/i.test(n)}function l_(n=Fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rk(n=Fn()){var t;return l_(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Ck(){return HO()&&document.documentMode===10}function HA(n=Fn()){return l_(n)||jA(n)||FA(n)||BA(n)||/windows phone/i.test(n)||zA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n,t=[]){let e;switch(n){case"Browser":e=fw(Fn());break;case"Worker":e=`${fw(Fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Kl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const f=t(o);l(f)}catch(f){u(f)}});i.onAbort=e,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const s of e)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(n,t={}){return xa(n,"GET","/v2/passwordPolicy",Aa(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=6;class Ok{constructor(t){var e,i,s,o;const l=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=l.minPasswordLength)!==null&&e!==void 0?e:Mk,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,s,o,l,u;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,f),this.validatePasswordCharacterOptions(t,f),f.isValid&&(f.isValid=(e=f.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(u=f.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),f}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),s&&(e.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,e,i,s){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dw(this),this.idTokenSubscription=new dw(this),this.beforeStateQueue=new Ik(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=cs(e)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Dl.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await kA(this,{idToken:t}),i=await ls._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(Li(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,u=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return jt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await bd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Li(this.app))return Promise.reject(hs(this));const e=t?gi(t):null;return e&&jt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&jt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Li(this.app)?Promise.reject(hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Li(this.app)?Promise.reject(hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Dk(this),e=new Ok(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new th("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await xk(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&cs(t)||this._popupRedirectResolver;jt(e,this,"argument-error"),this.redirectPersistenceManager=await Dl.create(this,[cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,s){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(jt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,s);return()=>{l=!0,f()}}else{const f=t.addObserver(e);return()=>{l=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return jt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=qA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var t;if(Li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&ck(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Io(n){return gi(n)}class dw{constructor(t){this.auth=t,this.observer=null,this.addObserver=XO(e=>this.observer=e)}get next(){return jt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pk(n){eg=n}function GA(n){return eg.loadJS(n)}function Nk(){return eg.recaptchaEnterpriseScript}function Lk(){return eg.gapiScript}function Vk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Uk{constructor(){this.enterprise=new zk}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class zk{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const jk="recaptcha-enterprise",$A="NO_RECAPTCHA";class Bk{constructor(t){this.type=jk,this.auth=Io(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{_k(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new yk(f);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,l(d.siteKey)}}).catch(f=>{u(f)})})}function s(o,l,u){const f=window.grecaptcha;lw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(d=>{l(d)}).catch(()=>{l($A)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uk().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&lw(window.grecaptcha))s(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=Nk();f.length!==0&&(f+=u),GA(f).then(()=>{s(u,o,l)}).catch(d=>{l(d)})}}).catch(u=>{l(u)})})}}async function gw(n,t,e,i=!1,s=!1){const o=new Bk(n);let l;if(s)l=$A;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const f=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const f=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function gy(n,t,e,i,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await gw(n,t,e,e==="getOobCode");return i(n,l)}else return i(n,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await gw(n,t,e,e==="getOobCode");return i(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(n,t){const e=i_(n,"auth");if(e.isInitialized()){const s=e.getImmediate(),o=e.getOptions();if(vo(o,t??{}))return s;Ji(s,"already-initialized")}return e.initialize({options:t})}function Hk(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(cs);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function qk(n,t,e){const i=Io(n);jt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,o=KA(t),{host:l,port:u}=Gk(t),f=u===null?"":`:${u}`,d={url:`${o}//${l}${f}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){jt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),jt(vo(d,i.config.emulator)&&vo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,$k()}function KA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Gk(n){const t=KA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:mw(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:mw(l)}}}function mw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function $k(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,e){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function Kk(n,t){return xa(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(n,t){return ih(n,"POST","/v1/accounts:signInWithPassword",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(n,t){return ih(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,t))}async function Qk(n,t){return ih(n,"POST","/v1/accounts:signInWithEmailLink",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends c_{constructor(t,e,i,s=null){super("password",i),this._email=t,this._password=e,this._tenantId=s}static _fromEmailAndPassword(t,e){return new Lu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Lu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,e,"signInWithPassword",Wk);case"emailLink":return Yk(t,{email:this._email,oobCode:this._password});default:Ji(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return gy(t,i,"signUpPassword",Kk);case"emailLink":return Qk(t,{idToken:e,email:this._email,oobCode:this._password});default:Ji(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(n,t){return ih(n,"POST","/v1/accounts:signInWithIdp",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="http://localhost";class Eo extends c_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Eo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ji("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=e,o=r_(e,["providerId","signInMethod"]);if(!i||!s)return null;const l=new Eo(i,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Ml(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ml(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ml(t,e)}buildRequest(){const t={requestUri:Xk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=eh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jk(n){const t=fu(du(n)).link,e=t?fu(du(t)).deep_link_id:null,i=fu(du(n)).deep_link_id;return(i?fu(du(i)).link:null)||i||e||t||n}class u_{constructor(t){var e,i,s,o,l,u;const f=fu(du(t)),d=(e=f.apiKey)!==null&&e!==void 0?e:null,p=(i=f.oobCode)!==null&&i!==void 0?i:null,_=Zk((s=f.mode)!==null&&s!==void 0?s:null);jt(d&&p&&_,"argument-error"),this.apiKey=d,this.operation=_,this.code=p,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=f.tenantId)!==null&&u!==void 0?u:null}static parseLink(t){const e=Jk(t);try{return new u_(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(t,e){return Lu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=u_.parseLink(e);return jt(i,"argument-error"),Lu._fromEmailAndCode(t,i.code,i.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends WA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends rh{constructor(){super("facebook.com")}static credential(t){return Eo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ea.credentialFromTaggedObject(t)}static credentialFromError(t){return ea.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ea.credential(t.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Eo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return na.credentialFromTaggedObject(t)}static credentialFromError(t){return na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return na.credential(e,i)}catch{return null}}}na.GOOGLE_SIGN_IN_METHOD="google.com";na.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends rh{constructor(){super("github.com")}static credential(t){return Eo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ia.credentialFromTaggedObject(t)}static credentialFromError(t){return ia.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ia.credential(t.oauthAccessToken)}catch{return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends rh{constructor(){super("twitter.com")}static credential(t,e){return Eo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ra.credential(e,i)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tP(n,t){return ih(n,"POST","/v1/accounts:signUp",Aa(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,s=!1){const o=await ls._fromIdTokenResponse(t,i,s),l=pw(i);return new wo({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const s=pw(i);return new wo({user:t,providerId:s,_tokenResponse:i,operationType:e})}}function pw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends bs{constructor(t,e,i,s){var o;super(e.code,e.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Ed.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,s){return new Ed(t,e,i,s)}}function YA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ed._fromErrorAndOperation(n,o,t,i):o})}async function eP(n,t,e=!1){const i=await Nu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,t,e=!1){const{auth:i}=n;if(Li(i.app))return Promise.reject(hs(i));const s="reauthenticate";try{const o=await Nu(n,YA(i,s,t,n),e);jt(o.idToken,i,"internal-error");const l=o_(o.idToken);jt(l,i,"internal-error");const{sub:u}=l;return jt(n.uid===u,i,"user-mismatch"),wo._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ji(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n,t,e=!1){if(Li(n.app))return Promise.reject(hs(n));const i="signIn",s=await YA(n,i,t),o=await wo._fromIdTokenResponse(n,i,s);return e||await n._updateCurrentUser(o.user),o}async function iP(n,t){return QA(Io(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(n){const t=Io(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function rP(n,t,e){if(Li(n.app))return Promise.reject(hs(n));const i=Io(n),l=await gy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&XA(n),f}),u=await wo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function sP(n,t,e){return Li(n.app)?Promise.reject(hs(n)):iP(gi(n),Wl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&XA(n),i})}function aP(n,t,e,i){return gi(n).onIdTokenChanged(t,e,i)}function oP(n,t,e){return gi(n).beforeAuthStateChanged(t,e)}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1e3,cP=10;class JA extends ZA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),s=this.localCache[e];i!==s&&t(e,s,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,f)=>{this.notifyListeners(l,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Ck()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,cP):s()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},lP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}JA.type="LOCAL";const uP=JA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends ZA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}tx.type="SESSION";const ex=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(s=>s.isListeningto(t));if(e)return e;const i=new ng(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:s,data:o}=e.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(l).map(async d=>d(e.origin,o)),f=await hP(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ng.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((u,f)=>{const d=h_("",20);s.port1.start();const p=setTimeout(()=>{f(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(_){const b=_;if(b.data.eventId===d)switch(b.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(b.data.response);break;default:clearTimeout(p),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:d,data:e},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function dP(n){Ar().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function gP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function pP(){return nx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="firebaseLocalStorageDb",yP=1,Td="firebaseLocalStorage",rx="fbase_key";class sh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ig(n,t){return n.transaction([Td],t?"readwrite":"readonly").objectStore(Td)}function _P(){const n=indexedDB.deleteDatabase(ix);return new sh(n).toPromise()}function my(){const n=indexedDB.open(ix,yP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Td,{keyPath:rx})}catch(s){e(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Td)?t(i):(i.close(),await _P(),t(await my()))})})}async function yw(n,t,e){const i=ig(n,!0).put({[rx]:t,value:e});return new sh(i).toPromise()}async function vP(n,t){const e=ig(n,!1).get(t),i=await new sh(e).toPromise();return i===void 0?null:i.value}function _w(n,t){const e=ig(n,!0).delete(t);return new sh(e).toPromise()}const bP=800,EP=3;class sx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>EP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ng._getInstance(pP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await gP(),!this.activeServiceWorker)return;this.sender=new fP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await my();return await yw(t,wd,"1"),await _w(t,wd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>yw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>vP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>_w(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const o=ig(s,!1).getAll();return new sh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),e.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),e.push(s));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sx.type="LOCAL";const wP=sx;new nh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(n,t){return t?cs(t):(jt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_ extends c_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ml(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ml(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ml(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function SP(n){return QA(n.auth,new f_(n),n.bypassAuthState)}function AP(n){const{auth:t,user:e}=n;return jt(e,t,"internal-error"),nP(e,new f_(n),n.bypassAuthState)}async function xP(n){const{auth:t,user:e}=n;return jt(e,t,"internal-error"),eP(e,new f_(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(t,e,i,s,o=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:s,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(f))}catch(d){this.reject(d)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SP;case"linkViaPopup":case"linkViaRedirect":return xP;case"reauthViaPopup":case"reauthViaRedirect":return AP;default:Ji(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new nh(2e3,1e4);class Cl extends ax{constructor(t,e,i,s,o){super(t,e,s,o),this.provider=i,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return jt(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=h_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,RP.get())};t()}}Cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="pendingRedirect",nd=new Map;class IP extends ax{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=nd.get(this.auth._key());if(!t){try{const i=await DP(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}nd.set(this.auth._key(),t)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DP(n,t){const e=kP(t),i=OP(n);if(!await i._isAvailable())return!1;const s=await i._get(e)==="true";return await i._remove(e),s}function MP(n,t){nd.set(n._key(),t)}function OP(n){return cs(n._redirectPersistence)}function kP(n){return ed(CP,n.config.apiKey,n.name)}async function PP(n,t,e=!1){if(Li(n.app))return Promise.reject(hs(n));const i=Io(n),s=TP(i,t),l=await new IP(i,s,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=10*60*1e3;class LP{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VP(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!ox(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(Sr(this.auth,s))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=NP&&this.cachedEventUids.clear(),this.cachedEventUids.has(vw(t))}saveEventToCache(t){this.cachedEventUids.add(vw(t)),this.lastProcessedEventTime=Date.now()}}function vw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ox({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function VP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ox(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(n,t={}){return xa(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jP=/^https?/;async function BP(n){if(n.config.emulator)return;const{authorizedDomains:t}=await UP(n);for(const e of t)try{if(FP(e))return}catch{}Ji(n,"unauthorized-domain")}function FP(n){const t=fy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!jP.test(e))return!1;if(zP.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new nh(3e4,6e4);function bw(){const n=Ar().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function qP(n){return new Promise((t,e)=>{var i,s,o;function l(){bw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bw(),e(Sr(n,"network-request-failed"))},timeout:HP.get()})}if(!((s=(i=Ar().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((o=Ar().gapi)===null||o===void 0)&&o.load)l();else{const u=Vk("iframefcb");return Ar()[u]=()=>{gapi.load?l():e(Sr(n,"network-request-failed"))},GA(`${Lk()}?onload=${u}`).catch(f=>e(f))}}).catch(t=>{throw id=null,t})}let id=null;function GP(n){return id=id||qP(n),id}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new nh(5e3,15e3),KP="__/auth/iframe",WP="emulator/auth/iframe",YP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XP(n){const t=n.config;jt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?a_(t,WP):`https://${n.config.authDomain}/${KP}`,i={apiKey:t.apiKey,appName:n.name,v:Kl},s=QP.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${eh(i).slice(1)}`}async function ZP(n){const t=await GP(n),e=Ar().gapi;return jt(e,n,"internal-error"),t.open({where:document.body,url:XP(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YP,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const l=Sr(n,"network-request-failed"),u=Ar().setTimeout(()=>{o(l)},$P.get());function f(){Ar().clearTimeout(u),s(i)}i.ping(f).then(f,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tN=500,eN=600,nN="_blank",iN="http://localhost";class Ew{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(n,t,e,i=tN,s=eN){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const f=Object.assign(Object.assign({},JP),{width:i.toString(),height:s.toString(),top:o,left:l}),d=Fn().toLowerCase();e&&(u=UA(d)?nN:e),LA(d)&&(t=t||iN,f.scrollbars="yes");const p=Object.entries(f).reduce((b,[T,S])=>`${b}${T}=${S},`,"");if(Rk(d)&&u!=="_self")return sN(t||"",u),new Ew(null);const _=window.open(t||"",u,p);jt(_,n,"popup-blocked");try{_.focus()}catch{}return new Ew(_)}function sN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN="__/auth/handler",oN="emulator/auth/handler",lN=encodeURIComponent("fac");async function ww(n,t,e,i,s,o){jt(n.config.authDomain,n,"auth-domain-config-required"),jt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Kl,eventId:s};if(t instanceof WA){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",QO(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(t instanceof rh){const p=t.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const f=await n._getAppCheckToken(),d=f?`#${lN}=${encodeURIComponent(f)}`:"";return`${cN(n)}?${eh(u).slice(1)}${d}`}function cN({config:n}){return n.emulator?a_(n,oN):`https://${n.authDomain}/${aN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ex,this._completeRedirectFn=PP,this._overrideRedirectResult=MP}async _openPopup(t,e,i,s){var o;gs((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await ww(t,e,i,fy(),s);return rN(t,l,h_())}async _openRedirect(t,e,i,s){await this._originValidation(t);const o=await ww(t,e,i,fy(),s);return dP(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:s,promise:o}=this.eventManagers[e];return s?Promise.resolve(s):(gs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await ZP(t),i=new LP(t);return e.register("authEvent",s=>(jt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vp,{type:Vp},s=>{var o;const l=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Vp];l!==void 0&&e(!!l),Ji(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=BP(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return HA()||VA()||l_()}}const hN=uN;var Tw="@firebase/auth",Sw="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){jt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gN(n){Ll(new bo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;jt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qA(n)},d=new kk(i,s,o,f);return Hk(d,e),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ll(new bo("auth-internal",t=>{const e=Io(t.getProvider("auth").getImmediate());return(i=>new fN(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),ua(Tw,Sw,dN(n)),ua(Tw,Sw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=5*60,pN=bA("authIdTokenMaxAge")||mN;let Aw=null;const yN=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>pN)return;const s=e==null?void 0:e.token;Aw!==s&&(Aw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _N(n=SA()){const t=i_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Fk(n,{popupRedirectResolver:hN,persistence:[wP,uP,ex]}),i=bA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=yN(o.toString());oP(e,l,()=>l(e.currentUser)),aP(e,u=>l(u))}}const s=_A("auth");return s&&qk(e,`http://${s}`),e}function vN(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}Pk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=s=>{const o=Sr("internal-error");o.customData=s,e(o)},i.type="text/javascript",i.charset="UTF-8",vN().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gN("Browser");var bN="firebase",EN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ua(bN,EN,"app");var xw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,lx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,x){function A(){}A.prototype=x.prototype,k.D=x.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(M,V,j){for(var N=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)N[Bt-2]=arguments[Bt];return x.prototype[V].apply(M,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,x,A){A||(A=0);var M=Array(16);if(typeof x=="string")for(var V=0;16>V;++V)M[V]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(V=0;16>V;++V)M[V]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=k.g[0],A=k.g[1],V=k.g[2];var j=k.g[3],N=x+(j^A&(V^j))+M[0]+3614090360&4294967295;x=A+(N<<7&4294967295|N>>>25),N=j+(V^x&(A^V))+M[1]+3905402710&4294967295,j=x+(N<<12&4294967295|N>>>20),N=V+(A^j&(x^A))+M[2]+606105819&4294967295,V=j+(N<<17&4294967295|N>>>15),N=A+(x^V&(j^x))+M[3]+3250441966&4294967295,A=V+(N<<22&4294967295|N>>>10),N=x+(j^A&(V^j))+M[4]+4118548399&4294967295,x=A+(N<<7&4294967295|N>>>25),N=j+(V^x&(A^V))+M[5]+1200080426&4294967295,j=x+(N<<12&4294967295|N>>>20),N=V+(A^j&(x^A))+M[6]+2821735955&4294967295,V=j+(N<<17&4294967295|N>>>15),N=A+(x^V&(j^x))+M[7]+4249261313&4294967295,A=V+(N<<22&4294967295|N>>>10),N=x+(j^A&(V^j))+M[8]+1770035416&4294967295,x=A+(N<<7&4294967295|N>>>25),N=j+(V^x&(A^V))+M[9]+2336552879&4294967295,j=x+(N<<12&4294967295|N>>>20),N=V+(A^j&(x^A))+M[10]+4294925233&4294967295,V=j+(N<<17&4294967295|N>>>15),N=A+(x^V&(j^x))+M[11]+2304563134&4294967295,A=V+(N<<22&4294967295|N>>>10),N=x+(j^A&(V^j))+M[12]+1804603682&4294967295,x=A+(N<<7&4294967295|N>>>25),N=j+(V^x&(A^V))+M[13]+4254626195&4294967295,j=x+(N<<12&4294967295|N>>>20),N=V+(A^j&(x^A))+M[14]+2792965006&4294967295,V=j+(N<<17&4294967295|N>>>15),N=A+(x^V&(j^x))+M[15]+1236535329&4294967295,A=V+(N<<22&4294967295|N>>>10),N=x+(V^j&(A^V))+M[1]+4129170786&4294967295,x=A+(N<<5&4294967295|N>>>27),N=j+(A^V&(x^A))+M[6]+3225465664&4294967295,j=x+(N<<9&4294967295|N>>>23),N=V+(x^A&(j^x))+M[11]+643717713&4294967295,V=j+(N<<14&4294967295|N>>>18),N=A+(j^x&(V^j))+M[0]+3921069994&4294967295,A=V+(N<<20&4294967295|N>>>12),N=x+(V^j&(A^V))+M[5]+3593408605&4294967295,x=A+(N<<5&4294967295|N>>>27),N=j+(A^V&(x^A))+M[10]+38016083&4294967295,j=x+(N<<9&4294967295|N>>>23),N=V+(x^A&(j^x))+M[15]+3634488961&4294967295,V=j+(N<<14&4294967295|N>>>18),N=A+(j^x&(V^j))+M[4]+3889429448&4294967295,A=V+(N<<20&4294967295|N>>>12),N=x+(V^j&(A^V))+M[9]+568446438&4294967295,x=A+(N<<5&4294967295|N>>>27),N=j+(A^V&(x^A))+M[14]+3275163606&4294967295,j=x+(N<<9&4294967295|N>>>23),N=V+(x^A&(j^x))+M[3]+4107603335&4294967295,V=j+(N<<14&4294967295|N>>>18),N=A+(j^x&(V^j))+M[8]+1163531501&4294967295,A=V+(N<<20&4294967295|N>>>12),N=x+(V^j&(A^V))+M[13]+2850285829&4294967295,x=A+(N<<5&4294967295|N>>>27),N=j+(A^V&(x^A))+M[2]+4243563512&4294967295,j=x+(N<<9&4294967295|N>>>23),N=V+(x^A&(j^x))+M[7]+1735328473&4294967295,V=j+(N<<14&4294967295|N>>>18),N=A+(j^x&(V^j))+M[12]+2368359562&4294967295,A=V+(N<<20&4294967295|N>>>12),N=x+(A^V^j)+M[5]+4294588738&4294967295,x=A+(N<<4&4294967295|N>>>28),N=j+(x^A^V)+M[8]+2272392833&4294967295,j=x+(N<<11&4294967295|N>>>21),N=V+(j^x^A)+M[11]+1839030562&4294967295,V=j+(N<<16&4294967295|N>>>16),N=A+(V^j^x)+M[14]+4259657740&4294967295,A=V+(N<<23&4294967295|N>>>9),N=x+(A^V^j)+M[1]+2763975236&4294967295,x=A+(N<<4&4294967295|N>>>28),N=j+(x^A^V)+M[4]+1272893353&4294967295,j=x+(N<<11&4294967295|N>>>21),N=V+(j^x^A)+M[7]+4139469664&4294967295,V=j+(N<<16&4294967295|N>>>16),N=A+(V^j^x)+M[10]+3200236656&4294967295,A=V+(N<<23&4294967295|N>>>9),N=x+(A^V^j)+M[13]+681279174&4294967295,x=A+(N<<4&4294967295|N>>>28),N=j+(x^A^V)+M[0]+3936430074&4294967295,j=x+(N<<11&4294967295|N>>>21),N=V+(j^x^A)+M[3]+3572445317&4294967295,V=j+(N<<16&4294967295|N>>>16),N=A+(V^j^x)+M[6]+76029189&4294967295,A=V+(N<<23&4294967295|N>>>9),N=x+(A^V^j)+M[9]+3654602809&4294967295,x=A+(N<<4&4294967295|N>>>28),N=j+(x^A^V)+M[12]+3873151461&4294967295,j=x+(N<<11&4294967295|N>>>21),N=V+(j^x^A)+M[15]+530742520&4294967295,V=j+(N<<16&4294967295|N>>>16),N=A+(V^j^x)+M[2]+3299628645&4294967295,A=V+(N<<23&4294967295|N>>>9),N=x+(V^(A|~j))+M[0]+4096336452&4294967295,x=A+(N<<6&4294967295|N>>>26),N=j+(A^(x|~V))+M[7]+1126891415&4294967295,j=x+(N<<10&4294967295|N>>>22),N=V+(x^(j|~A))+M[14]+2878612391&4294967295,V=j+(N<<15&4294967295|N>>>17),N=A+(j^(V|~x))+M[5]+4237533241&4294967295,A=V+(N<<21&4294967295|N>>>11),N=x+(V^(A|~j))+M[12]+1700485571&4294967295,x=A+(N<<6&4294967295|N>>>26),N=j+(A^(x|~V))+M[3]+2399980690&4294967295,j=x+(N<<10&4294967295|N>>>22),N=V+(x^(j|~A))+M[10]+4293915773&4294967295,V=j+(N<<15&4294967295|N>>>17),N=A+(j^(V|~x))+M[1]+2240044497&4294967295,A=V+(N<<21&4294967295|N>>>11),N=x+(V^(A|~j))+M[8]+1873313359&4294967295,x=A+(N<<6&4294967295|N>>>26),N=j+(A^(x|~V))+M[15]+4264355552&4294967295,j=x+(N<<10&4294967295|N>>>22),N=V+(x^(j|~A))+M[6]+2734768916&4294967295,V=j+(N<<15&4294967295|N>>>17),N=A+(j^(V|~x))+M[13]+1309151649&4294967295,A=V+(N<<21&4294967295|N>>>11),N=x+(V^(A|~j))+M[4]+4149444226&4294967295,x=A+(N<<6&4294967295|N>>>26),N=j+(A^(x|~V))+M[11]+3174756917&4294967295,j=x+(N<<10&4294967295|N>>>22),N=V+(x^(j|~A))+M[2]+718787259&4294967295,V=j+(N<<15&4294967295|N>>>17),N=A+(j^(V|~x))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+x&4294967295,k.g[1]=k.g[1]+(V+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+V&4294967295,k.g[3]=k.g[3]+j&4294967295}i.prototype.u=function(k,x){x===void 0&&(x=k.length);for(var A=x-this.blockSize,M=this.B,V=this.h,j=0;j<x;){if(V==0)for(;j<=A;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<x;)if(M[V++]=k.charCodeAt(j++),V==this.blockSize){s(this,M),V=0;break}}else for(;j<x;)if(M[V++]=k[j++],V==this.blockSize){s(this,M),V=0;break}}this.h=V,this.o+=x},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var x=1;x<k.length-8;++x)k[x]=0;var A=8*this.o;for(x=k.length-8;x<k.length;++x)k[x]=A&255,A/=256;for(this.u(k),k=Array(16),x=A=0;4>x;++x)for(var M=0;32>M;M+=8)k[A++]=this.g[x]>>>M&255;return k};function o(k,x){var A=u;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=x(k)}function l(k,x){this.h=x;for(var A=[],M=!0,V=k.length-1;0<=V;V--){var j=k[V]|0;M&&j==x||(A[V]=j,M=!1)}this.g=A}var u={};function f(k){return-128<=k&&128>k?o(k,function(x){return new l([x|0],0>x?-1:0)}):new l([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return C(d(-k));for(var x=[],A=1,M=0;k>=A;M++)x[M]=k/A|0,A*=4294967296;return new l(x,0)}function p(k,x){if(k.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k.charAt(0)=="-")return C(p(k.substring(1),x));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=d(Math.pow(x,8)),M=_,V=0;V<k.length;V+=8){var j=Math.min(8,k.length-V),N=parseInt(k.substring(V,V+j),x);8>j?(j=d(Math.pow(x,j)),M=M.j(j).add(d(N))):(M=M.j(A),M=M.add(d(N)))}return M}var _=f(0),b=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(D(this))return-C(this).m();for(var k=0,x=1,A=0;A<this.g.length;A++){var M=this.i(A);k+=(0<=M?M:4294967296+M)*x,x*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(D(this))return"-"+C(this).toString(k);for(var x=d(Math.pow(k,6)),A=this,M="";;){var V=tt(A,x).g;A=P(A,V.j(x));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=V,S(A))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(var x=0;x<k.g.length;x++)if(k.g[x]!=0)return!1;return!0}function D(k){return k.h==-1}n.l=function(k){return k=P(this,k),D(k)?-1:S(k)?0:1};function C(k){for(var x=k.g.length,A=[],M=0;M<x;M++)A[M]=~k.g[M];return new l(A,~k.h).add(b)}n.abs=function(){return D(this)?C(this):this},n.add=function(k){for(var x=Math.max(this.g.length,k.g.length),A=[],M=0,V=0;V<=x;V++){var j=M+(this.i(V)&65535)+(k.i(V)&65535),N=(j>>>16)+(this.i(V)>>>16)+(k.i(V)>>>16);M=N>>>16,j&=65535,N&=65535,A[V]=N<<16|j}return new l(A,A[A.length-1]&-2147483648?-1:0)};function P(k,x){return k.add(C(x))}n.j=function(k){if(S(this)||S(k))return _;if(D(this))return D(k)?C(this).j(C(k)):C(C(this).j(k));if(D(k))return C(this.j(C(k)));if(0>this.l(T)&&0>k.l(T))return d(this.m()*k.m());for(var x=this.g.length+k.g.length,A=[],M=0;M<2*x;M++)A[M]=0;for(M=0;M<this.g.length;M++)for(var V=0;V<k.g.length;V++){var j=this.i(M)>>>16,N=this.i(M)&65535,Bt=k.i(V)>>>16,_t=k.i(V)&65535;A[2*M+2*V]+=N*_t,U(A,2*M+2*V),A[2*M+2*V+1]+=j*_t,U(A,2*M+2*V+1),A[2*M+2*V+1]+=N*Bt,U(A,2*M+2*V+1),A[2*M+2*V+2]+=j*Bt,U(A,2*M+2*V+2)}for(M=0;M<x;M++)A[M]=A[2*M+1]<<16|A[2*M];for(M=x;M<2*x;M++)A[M]=0;return new l(A,0)};function U(k,x){for(;(k[x]&65535)!=k[x];)k[x+1]+=k[x]>>>16,k[x]&=65535,x++}function G(k,x){this.g=k,this.h=x}function tt(k,x){if(S(x))throw Error("division by zero");if(S(k))return new G(_,_);if(D(k))return x=tt(C(k),x),new G(C(x.g),C(x.h));if(D(x))return x=tt(k,C(x)),new G(C(x.g),x.h);if(30<k.g.length){if(D(k)||D(x))throw Error("slowDivide_ only works with positive integers.");for(var A=b,M=x;0>=M.l(k);)A=O(A),M=O(M);var V=K(A,1),j=K(M,1);for(M=K(M,2),A=K(A,2);!S(M);){var N=j.add(M);0>=N.l(k)&&(V=V.add(A),j=N),M=K(M,1),A=K(A,1)}return x=P(k,V.j(x)),new G(V,x)}for(V=_;0<=k.l(x);){for(A=Math.max(1,Math.floor(k.m()/x.m())),M=Math.ceil(Math.log(A)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=d(A),N=j.j(x);D(N)||0<N.l(k);)A-=M,j=d(A),N=j.j(x);S(j)&&(j=b),V=V.add(j),k=P(k,N)}return new G(V,k)}n.A=function(k){return tt(this,k).h},n.and=function(k){for(var x=Math.max(this.g.length,k.g.length),A=[],M=0;M<x;M++)A[M]=this.i(M)&k.i(M);return new l(A,this.h&k.h)},n.or=function(k){for(var x=Math.max(this.g.length,k.g.length),A=[],M=0;M<x;M++)A[M]=this.i(M)|k.i(M);return new l(A,this.h|k.h)},n.xor=function(k){for(var x=Math.max(this.g.length,k.g.length),A=[],M=0;M<x;M++)A[M]=this.i(M)^k.i(M);return new l(A,this.h^k.h)};function O(k){for(var x=k.g.length+1,A=[],M=0;M<x;M++)A[M]=k.i(M)<<1|k.i(M-1)>>>31;return new l(A,k.h)}function K(k,x){var A=x>>5;x%=32;for(var M=k.g.length-A,V=[],j=0;j<M;j++)V[j]=0<x?k.i(j+A)>>>x|k.i(j+A+1)<<32-x:k.i(j+A);return new l(V,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lx=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,ha=l}).apply(typeof xw<"u"?xw:typeof self<"u"?self:typeof window<"u"?window:{});var kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cx,gu,ux,rd,py,hx,fx,dx;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,v,E){return g==Array.prototype||g==Object.prototype||(g[v]=E.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof kf=="object"&&kf];for(var v=0;v<g.length;++v){var E=g[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function s(g,v){if(v)t:{var E=i;g=g.split(".");for(var I=0;I<g.length-1;I++){var Q=g[I];if(!(Q in E))break t;E=E[Q]}g=g[g.length-1],I=E[g],v=v(I),v!=I&&v!=null&&t(E,g,{configurable:!0,writable:!0,value:v})}}function o(g,v){g instanceof String&&(g+="");var E=0,I=!1,Q={next:function(){if(!I&&E<g.length){var et=E++;return{value:v(et,g[et]),done:!1}}return I=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(g){return g||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function f(g){var v=typeof g;return v=v!="object"?v:g?Array.isArray(g)?"array":v:"null",v=="array"||v=="object"&&typeof g.length=="number"}function d(g){var v=typeof g;return v=="object"&&g!=null||v=="function"}function p(g,v,E){return g.call.apply(g.bind,arguments)}function _(g,v,E){if(!g)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,I),g.apply(v,Q)}}return function(){return g.apply(v,arguments)}}function b(g,v,E){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:_,b.apply(null,arguments)}function T(g,v){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),g.apply(this,I)}}function S(g,v){function E(){}E.prototype=v.prototype,g.aa=v.prototype,g.prototype=new E,g.prototype.constructor=g,g.Qb=function(I,Q,et){for(var gt=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)gt[ae-2]=arguments[ae];return v.prototype[Q].apply(I,gt)}}function D(g){const v=g.length;if(0<v){const E=Array(v);for(let I=0;I<v;I++)E[I]=g[I];return E}return[]}function C(g,v){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(f(I)){const Q=g.length||0,et=I.length||0;g.length=Q+et;for(let gt=0;gt<et;gt++)g[Q+gt]=I[gt]}else g.push(I)}}class P{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(g){return/^[\s\xa0]*$/.test(g)}function G(){var g=u.navigator;return g&&(g=g.userAgent)?g:""}function tt(g){return tt[" "](g),g}tt[" "]=function(){};var O=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function K(g,v,E){for(const I in g)v.call(E,g[I],I,g)}function k(g,v){for(const E in g)v.call(void 0,g[E],E,g)}function x(g){const v={};for(const E in g)v[E]=g[E];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(g,v){let E,I;for(let Q=1;Q<arguments.length;Q++){I=arguments[Q];for(E in I)g[E]=I[E];for(let et=0;et<A.length;et++)E=A[et],Object.prototype.hasOwnProperty.call(I,E)&&(g[E]=I[E])}}function V(g){var v=1;g=g.split(":");const E=[];for(;0<v&&g.length;)E.push(g.shift()),v--;return g.length&&E.push(g.join(":")),E}function j(g){u.setTimeout(()=>{throw g},0)}function N(){var g=bt;let v=null;return g.g&&(v=g.g,g.g=g.g.next,g.g||(g.h=null),v.next=null),v}class Bt{constructor(){this.h=this.g=null}add(v,E){const I=_t.get();I.set(v,E),this.h?this.h.next=I:this.g=I,this.h=I}}var _t=new P(()=>new nt,g=>g.reset());class nt{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ht=!1,bt=new Bt,z=()=>{const g=u.Promise.resolve(void 0);mt=()=>{g.then(lt)}};var lt=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(E){j(E)}var v=_t;v.j(g),100>v.h&&(v.h++,g.next=v.g,v.g=g)}ht=!1};function pt(){this.s=this.s,this.C=this.C}pt.prototype.s=!1,pt.prototype.ma=function(){this.s||(this.s=!0,this.N())},pt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(g,v){this.type=g,this.g=this.target=v,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var g=!1,v=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const E=()=>{};u.addEventListener("test",E,v),u.removeEventListener("test",E,v)}catch{}return g}();function It(g,v){if(dt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var E=this.type=g.type,I=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=v,v=g.relatedTarget){if(O){t:{try{tt(v.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(v=null)}}else E=="mouseover"?v=g.fromElement:E=="mouseout"&&(v=g.toElement);this.relatedTarget=v,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Nt[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&It.aa.h.call(this)}}S(It,dt);var Nt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),se=0;function Yt(g,v,E,I,Q){this.listener=g,this.proxy=null,this.src=v,this.type=E,this.capture=!!I,this.ha=Q,this.key=++se,this.da=this.fa=!1}function Zt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function dn(g){this.src=g,this.g={},this.h=0}dn.prototype.add=function(g,v,E,I,Q){var et=g.toString();g=this.g[et],g||(g=this.g[et]=[],this.h++);var gt=Ye(g,v,I,Q);return-1<gt?(v=g[gt],E||(v.fa=!1)):(v=new Yt(v,this.src,et,!!I,Q),v.fa=E,g.push(v)),v};function Fi(g,v){var E=v.type;if(E in g.g){var I=g.g[E],Q=Array.prototype.indexOf.call(I,v,void 0),et;(et=0<=Q)&&Array.prototype.splice.call(I,Q,1),et&&(Zt(v),g.g[E].length==0&&(delete g.g[E],g.h--))}}function Ye(g,v,E,I){for(var Q=0;Q<g.length;++Q){var et=g[Q];if(!et.da&&et.listener==v&&et.capture==!!E&&et.ha==I)return Q}return-1}var er="closure_lm_"+(1e6*Math.random()|0),nr={};function mi(g,v,E,I,Q){if(Array.isArray(v)){for(var et=0;et<v.length;et++)mi(g,v[et],E,I,Q);return null}return E=si(E),g&&g[Ae]?g.K(v,E,d(I)?!!I.capture:!1,Q):Ra(g,v,E,!1,I,Q)}function Ra(g,v,E,I,Q,et){if(!v)throw Error("Invalid event type");var gt=d(Q)?!!Q.capture:!!Q,ae=Ts(g);if(ae||(g[er]=ae=new dn(g)),E=ae.add(v,E,I,gt,et),E.proxy)return E;if(I=Es(),E.proxy=I,I.src=g,I.listener=E,g.addEventListener)ft||(Q=gt),Q===void 0&&(Q=!1),g.addEventListener(v.toString(),I,Q);else if(g.attachEvent)g.attachEvent(Yn(v.toString()),I);else if(g.addListener&&g.removeListener)g.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Es(){function g(E){return v.call(g.src,g.listener,E)}const v=Or;return g}function ws(g,v,E,I,Q){if(Array.isArray(v))for(var et=0;et<v.length;et++)ws(g,v[et],E,I,Q);else I=d(I)?!!I.capture:!!I,E=si(E),g&&g[Ae]?(g=g.i,v=String(v).toString(),v in g.g&&(et=g.g[v],E=Ye(et,E,I,Q),-1<E&&(Zt(et[E]),Array.prototype.splice.call(et,E,1),et.length==0&&(delete g.g[v],g.h--)))):g&&(g=Ts(g))&&(v=g.g[v.toString()],g=-1,v&&(g=Ye(v,E,I,Q)),(E=-1<g?v[g]:null)&&Mr(E))}function Mr(g){if(typeof g!="number"&&g&&!g.da){var v=g.src;if(v&&v[Ae])Fi(v.i,g);else{var E=g.type,I=g.proxy;v.removeEventListener?v.removeEventListener(E,I,g.capture):v.detachEvent?v.detachEvent(Yn(E),I):v.addListener&&v.removeListener&&v.removeListener(I),(E=Ts(v))?(Fi(E,g),E.h==0&&(E.src=null,v[er]=null)):Zt(g)}}}function Yn(g){return g in nr?nr[g]:nr[g]="on"+g}function Or(g,v){if(g.da)g=!0;else{v=new It(v,this);var E=g.listener,I=g.ha||g.src;g.fa&&Mr(g),g=E.call(I,v)}return g}function Ts(g){return g=g[er],g instanceof dn?g:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function si(g){return typeof g=="function"?g:(g[gn]||(g[gn]=function(v){return g.handleEvent(v)}),g[gn])}function Ee(){pt.call(this),this.i=new dn(this),this.M=this,this.F=null}S(Ee,pt),Ee.prototype[Ae]=!0,Ee.prototype.removeEventListener=function(g,v,E,I){ws(this,g,v,E,I)};function qe(g,v){var E,I=g.F;if(I)for(E=[];I;I=I.F)E.push(I);if(g=g.M,I=v.type||v,typeof v=="string")v=new dt(v,g);else if(v instanceof dt)v.target=v.target||g;else{var Q=v;v=new dt(I,g),M(v,Q)}if(Q=!0,E)for(var et=E.length-1;0<=et;et--){var gt=v.g=E[et];Q=ai(gt,I,!0,v)&&Q}if(gt=v.g=g,Q=ai(gt,I,!0,v)&&Q,Q=ai(gt,I,!1,v)&&Q,E)for(et=0;et<E.length;et++)gt=v.g=E[et],Q=ai(gt,I,!1,v)&&Q}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var g=this.i,v;for(v in g.g){for(var E=g.g[v],I=0;I<E.length;I++)Zt(E[I]);delete g.g[v],g.h--}}this.F=null},Ee.prototype.K=function(g,v,E,I){return this.i.add(String(g),v,!1,E,I)},Ee.prototype.L=function(g,v,E,I){return this.i.add(String(g),v,!0,E,I)};function ai(g,v,E,I){if(v=g.i.g[String(v)],!v)return!0;v=v.concat();for(var Q=!0,et=0;et<v.length;++et){var gt=v[et];if(gt&&!gt.da&&gt.capture==E){var ae=gt.listener,sn=gt.ha||gt.src;gt.fa&&Fi(g.i,gt),Q=ae.call(sn,I)!==!1&&Q}}return Q&&!I.defaultPrevented}function Po(g,v,E){if(typeof g=="function")E&&(g=b(g,E));else if(g&&typeof g.handleEvent=="function")g=b(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:u.setTimeout(g,v||0)}function Qn(g){g.g=Po(()=>{g.g=null,g.i&&(g.i=!1,Qn(g))},g.l);const v=g.h;g.h=null,g.m.apply(null,v)}class No extends pt{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ir(g){pt.call(this),this.h=g,this.g={}}S(ir,pt);var Hi=[];function mn(g){K(g.g,function(v,E){this.g.hasOwnProperty(E)&&Mr(v)},g),g.g={}}ir.prototype.N=function(){ir.aa.N.call(this),mn(this)},ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ss=u.JSON.stringify,Hn=u.JSON.parse,pn=class{stringify(g){return u.JSON.stringify(g,void 0)}parse(g){return u.JSON.parse(g,void 0)}};function kr(){}kr.prototype.h=null;function Lo(g){return g.h||(g.h=g.i())}function Ca(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qi(){dt.call(this,"d")}S(qi,dt);function Pn(){dt.call(this,"c")}S(Pn,dt);var xn={},rr=null;function As(){return rr=rr||new Ee}xn.La="serverreachability";function B(g){dt.call(this,xn.La,g)}S(B,dt);function W(g){const v=As();qe(v,new B(v))}xn.STAT_EVENT="statevent";function J(g,v){dt.call(this,xn.STAT_EVENT,g),this.stat=v}S(J,dt);function st(g){const v=As();qe(v,new J(v,g))}xn.Ma="timingevent";function yt(g,v){dt.call(this,xn.Ma,g),this.size=v}S(yt,dt);function kt(g,v){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){g()},v)}function Ot(){this.g=!0}Ot.prototype.xa=function(){this.g=!1};function Ct(g,v,E,I,Q,et){g.info(function(){if(g.g)if(et)for(var gt="",ae=et.split("&"),sn=0;sn<ae.length;sn++){var oe=ae[sn].split("=");if(1<oe.length){var vn=oe[0];oe=oe[1];var an=vn.split("_");gt=2<=an.length&&an[1]=="type"?gt+(vn+"="+oe+"&"):gt+(vn+"=redacted&")}}else gt=null;else gt=et;return"XMLHTTP REQ ("+I+") [attempt "+Q+"]: "+v+`
`+E+`
`+gt})}function Dt(g,v,E,I,Q,et,gt){g.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+Q+"]: "+v+`
`+E+`
`+et+" "+gt})}function vt(g,v,E,I){g.info(function(){return"XMLHTTP TEXT ("+v+"): "+Tt(g,E)+(I?" "+I:"")})}function wt(g,v){g.info(function(){return"TIMEOUT: "+v})}Ot.prototype.info=function(){};function Tt(g,v){if(!g.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(g=0;g<E.length;g++)if(Array.isArray(E[g])){var I=E[g];if(!(2>I.length)){var Q=I[1];if(Array.isArray(Q)&&!(1>Q.length)){var et=Q[0];if(et!="noop"&&et!="stop"&&et!="close")for(var gt=1;gt<Q.length;gt++)Q[gt]=""}}}}return Ss(E)}catch{return v}}var Vt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ne;function xe(){}S(xe,kr),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},Ne=new xe;function ue(g,v,E,I){this.j=g,this.i=v,this.l=E,this.R=I||1,this.U=new ir(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}var qn={},oi={};function Ge(g,v,E){g.L=1,g.v=Oa(ze(v)),g.m=E,g.P=!0,Qe(g,null)}function Qe(g,v){g.F=Date.now(),pe(g),g.A=ze(g.v);var E=g.A,I=g.R;Array.isArray(I)||(I=[String(I)]),Vr(E.i,"t",I),g.C=0,E=g.j.J,g.h=new Oe,g.g=Rh(g.j,E?v:null,!g.m),0<g.O&&(g.M=new No(b(g.Y,g,g.g),g.O)),v=g.U,E=g.g,I=g.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Hi[0]=Q.toString()),Q=Hi);for(var et=0;et<Q.length;et++){var gt=mi(E,Q[et],I||v.handleEvent,!1,v.h||v);if(!gt)break;v.g[gt.key]=gt}v=g.H?x(g.H):{},g.m?(g.u||(g.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,v)):(g.u="GET",g.g.ea(g.A,g.u,null,v)),W(),Ct(g.i,g.u,g.A,g.l,g.R,g.m)}ue.prototype.ca=function(g){g=g.target;const v=this.M;v&&Ti(g)==3?v.j():this.Y(g)},ue.prototype.Y=function(g){try{if(g==this.g)t:{const an=Ti(this.g);var v=this.g.Ba();const Br=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||vh(this.g)))){this.J||an!=4||v==7||(v==8||0>=Br?W(3):W(2)),Gi(this);var E=this.g.Z();this.X=E;e:if(yi(this)){var I=vh(this.g);g="";var Q=I.length,et=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ye(this),Kt(this);var gt="";break e}this.h.i=new u.TextDecoder}for(v=0;v<Q;v++)this.h.h=!0,g+=this.h.i.decode(I[v],{stream:!(et&&v==Q-1)});I.length=0,this.h.g+=g,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=E==200,Dt(this.i,this.u,this.A,this.l,this.R,an,E),this.o){if(this.T&&!this.K){e:{if(this.g){var ae,sn=this.g;if((ae=sn.g?sn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(ae)){var oe=ae;break e}}oe=null}if(E=oe)vt(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yn(this,E);else{this.o=!1,this.s=3,st(12),ye(this),Kt(this);break t}}if(this.P){E=!0;let Rn;for(;!this.J&&this.C<gt.length;)if(Rn=Xn(this,gt),Rn==oi){an==4&&(this.s=4,st(14),E=!1),vt(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==qn){this.s=4,st(15),vt(this.i,this.l,gt,"[Invalid Chunk]"),E=!1;break}else vt(this.i,this.l,Rn,null),yn(this,Rn);if(yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||gt.length!=0||this.h.h||(this.s=1,st(16),E=!1),this.o=this.o&&E,!E)vt(this.i,this.l,gt,"[Invalid Chunked Response]"),ye(this),Kt(this);else if(0<gt.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),za(vn),vn.M=!0,st(11))}}else vt(this.i,this.l,gt,null),yn(this,gt);an==4&&ye(this),this.o&&!this.J&&(an==4?Sh(this.j,this):(this.o=!1,pe(this)))}else Cg(this.g),E==400&&0<gt.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),ye(this),Kt(this)}}}catch{}finally{}};function yi(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Xn(g,v){var E=g.C,I=v.indexOf(`
`,E);return I==-1?oi:(E=Number(v.substring(E,I)),isNaN(E)?qn:(I+=1,I+E>v.length?oi:(v=v.slice(I,I+E),g.C=I+E,v)))}ue.prototype.cancel=function(){this.J=!0,ye(this)};function pe(g){g.S=Date.now()+g.I,sr(g,g.I)}function sr(g,v){if(g.B!=null)throw Error("WatchDog timer not null");g.B=kt(b(g.ba,g),v)}function Gi(g){g.B&&(u.clearTimeout(g.B),g.B=null)}ue.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(wt(this.i,this.A),this.L!=2&&(W(),st(17)),ye(this),this.s=2,Kt(this)):sr(this,this.S-g)};function Kt(g){g.j.G==0||g.J||Sh(g.j,g)}function ye(g){Gi(g);var v=g.M;v&&typeof v.ma=="function"&&v.ma(),g.M=null,mn(g.U),g.g&&(v=g.g,g.g=null,v.abort(),v.ma())}function yn(g,v){try{var E=g.j;if(E.G!=0&&(E.g==g||ar(E.h,g))){if(!g.K&&ar(E.h,g)&&E.G==3){try{var I=E.Da.g.parse(v)}catch{I=null}if(Array.isArray(I)&&I.length==3){var Q=I;if(Q[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<g.F)$o(E),qo(E);else break t;fc(E),st(18)}}else E.za=Q[1],0<E.za-E.T&&37500>Q[2]&&E.F&&E.v==0&&!E.C&&(E.C=kt(b(E.Za,E),6e3));if(1>=Ia(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else jr(E,11)}else if((g.K||E.g==g)&&$o(E),!U(v))for(Q=E.Da.g.parse(v),v=0;v<Q.length;v++){let oe=Q[v];if(E.T=oe[0],oe=oe[1],E.G==2)if(oe[0]=="c"){E.K=oe[1],E.ia=oe[2];const vn=oe[3];vn!=null&&(E.la=vn,E.j.info("VER="+E.la));const an=oe[4];an!=null&&(E.Aa=an,E.j.info("SVER="+E.Aa));const Br=oe[5];Br!=null&&typeof Br=="number"&&0<Br&&(I=1.5*Br,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Rn=g.g;if(Rn){const dr=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dr){var et=I.h;et.g||dr.indexOf("spdy")==-1&&dr.indexOf("quic")==-1&&dr.indexOf("h2")==-1||(et.j=et.l,et.g=new Set,et.h&&(xs(et,et.h),et.h=null))}if(I.D){const gc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;gc&&(I.ya=gc,de(I.I,I.D,gc))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-g.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var gt=g;if(I.qa=xh(I,I.J?I.ia:null,I.W),gt.K){vi(I.h,gt);var ae=gt,sn=I.L;sn&&(ae.I=sn),ae.B&&(Gi(ae),pe(ae)),I.g=gt}else wh(I);0<E.i.length&&Go(E)}else oe[0]!="stop"&&oe[0]!="close"||jr(E,7);else E.G==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?jr(E,7):uc(E):oe[0]!="noop"&&E.l&&E.l.ta(oe),E.v=0)}}W(4)}catch{}}var Pr=class{constructor(g,v){this.g=g,this.map=v}};function Ie(g){this.l=g||10,u.PerformanceNavigationTiming?(g=u.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _i(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ia(g){return g.h?1:g.g?g.g.size:0}function ar(g,v){return g.h?g.h==v:g.g?g.g.has(v):!1}function xs(g,v){g.g?g.g.add(v):g.h=v}function vi(g,v){g.h&&g.h==v?g.h=null:g.g&&g.g.has(v)&&g.g.delete(v)}Ie.prototype.cancel=function(){if(this.i=Gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Gn(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let v=g.i;for(const E of g.g.values())v=v.concat(E.D);return v}return D(g.i)}function mh(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(f(g)){for(var v=[],E=g.length,I=0;I<E;I++)v.push(g[I]);return v}v=[],E=0;for(I in g)v[E++]=g[I];return v}function Sg(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(f(g)||typeof g=="string"){var v=[];g=g.length;for(var E=0;E<g;E++)v.push(E);return v}v=[],E=0;for(const I in g)v[E++]=I;return v}}}function Da(g,v){if(g.forEach&&typeof g.forEach=="function")g.forEach(v,void 0);else if(f(g)||typeof g=="string")Array.prototype.forEach.call(g,v,void 0);else for(var E=Sg(g),I=mh(g),Q=I.length,et=0;et<Q;et++)v.call(void 0,I[et],E&&E[et],g)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vo(g,v){if(g){g=g.split("&");for(var E=0;E<g.length;E++){var I=g[E].indexOf("="),Q=null;if(0<=I){var et=g[E].substring(0,I);Q=g[E].substring(I+1)}else et=g[E];v(et,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Nr(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Nr){this.h=g.h,Rs(this,g.j),this.o=g.o,this.g=g.g,Ma(this,g.s),this.l=g.l;var v=g.i,E=new or;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Uo(this,E),this.m=g.m}else g&&(v=String(g).match(rc))?(this.h=!1,Rs(this,v[1]||"",!0),this.o=Cs(v[2]||""),this.g=Cs(v[3]||"",!0),Ma(this,v[4]),this.l=Cs(v[5]||"",!0),Uo(this,v[6]||"",!0),this.m=Cs(v[7]||"")):(this.h=!1,this.i=new or(null,this.h))}Nr.prototype.toString=function(){var g=[],v=this.j;v&&g.push(bi(v,sc,!0),":");var E=this.g;return(E||v=="file")&&(g.push("//"),(v=this.o)&&g.push(bi(v,sc,!0),"@"),g.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&g.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&g.push("/"),g.push(bi(E,E.charAt(0)=="/"?ac:ph,!0))),(E=this.i.toString())&&g.push("?",E),(E=this.m)&&g.push("#",bi(E,Rg)),g.join("")};function ze(g){return new Nr(g)}function Rs(g,v,E){g.j=E?Cs(v,!0):v,g.j&&(g.j=g.j.replace(/:$/,""))}function Ma(g,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);g.s=v}else g.s=null}function Uo(g,v,E){v instanceof or?(g.i=v,oc(g.i,g.h)):(E||(v=bi(v,xg)),g.i=new or(v,g.h))}function de(g,v,E){g.i.set(v,E)}function Oa(g){return de(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Cs(g,v){return g?v?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function bi(g,v,E){return typeof g=="string"?(g=encodeURI(g).replace(v,Ag),E&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Ag(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var sc=/[#\/\?@]/g,ph=/[#\?:]/g,ac=/[#\?]/g,xg=/[#\?@]/g,Rg=/#/g;function or(g,v){this.h=this.g=null,this.i=g||null,this.j=!!v}function Ei(g){g.g||(g.g=new Map,g.h=0,g.i&&Vo(g.i,function(v,E){g.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}n=or.prototype,n.add=function(g,v){Ei(this),this.i=null,g=Ur(this,g);var E=this.g.get(g);return E||this.g.set(g,E=[]),E.push(v),this.h+=1,this};function zo(g,v){Ei(g),v=Ur(g,v),g.g.has(v)&&(g.i=null,g.h-=g.g.get(v).length,g.g.delete(v))}function Lr(g,v){return Ei(g),v=Ur(g,v),g.g.has(v)}n.forEach=function(g,v){Ei(this),this.g.forEach(function(E,I){E.forEach(function(Q){g.call(v,Q,I,this)},this)},this)},n.na=function(){Ei(this);const g=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let I=0;I<v.length;I++){const Q=g[I];for(let et=0;et<Q.length;et++)E.push(v[I])}return E},n.V=function(g){Ei(this);let v=[];if(typeof g=="string")Lr(this,g)&&(v=v.concat(this.g.get(Ur(this,g))));else{g=Array.from(this.g.values());for(let E=0;E<g.length;E++)v=v.concat(g[E])}return v},n.set=function(g,v){return Ei(this),this.i=null,g=Ur(this,g),Lr(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[v]),this.h+=1,this},n.get=function(g,v){return g?(g=this.V(g),0<g.length?String(g[0]):v):v};function Vr(g,v,E){zo(g,v),0<E.length&&(g.i=null,g.g.set(Ur(g,v),D(E)),g.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var I=v[E];const et=encodeURIComponent(String(I)),gt=this.V(I);for(I=0;I<gt.length;I++){var Q=et;gt[I]!==""&&(Q+="="+encodeURIComponent(String(gt[I]))),g.push(Q)}}return this.i=g.join("&")};function Ur(g,v){return v=String(v),g.j&&(v=v.toLowerCase()),v}function oc(g,v){v&&!g.j&&(Ei(g),g.i=null,g.g.forEach(function(E,I){var Q=I.toLowerCase();I!=Q&&(zo(this,I),Vr(this,Q,E))},g)),g.j=v}function yh(g,v){const E=new Ot;if(u.Image){const I=new Image;I.onload=T(wi,E,"TestLoadImage: loaded",!0,v,I),I.onerror=T(wi,E,"TestLoadImage: error",!1,v,I),I.onabort=T(wi,E,"TestLoadImage: abort",!1,v,I),I.ontimeout=T(wi,E,"TestLoadImage: timeout",!1,v,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=g}else v(!1)}function ka(g,v){const E=new Ot,I=new AbortController,Q=setTimeout(()=>{I.abort(),wi(E,"TestPingServer: timeout",!1,v)},1e4);fetch(g,{signal:I.signal}).then(et=>{clearTimeout(Q),et.ok?wi(E,"TestPingServer: ok",!0,v):wi(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Q),wi(E,"TestPingServer: error",!1,v)})}function wi(g,v,E,I,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),I(E)}catch{}}function Pa(){this.g=new pn}function lr(g,v,E){const I=E||"";try{Da(g,function(Q,et){let gt=Q;d(Q)&&(gt=Ss(Q)),v.push(I+et+"="+encodeURIComponent(gt))})}catch(Q){throw v.push(I+"type="+encodeURIComponent("_badmap")),Q}}function Is(g){this.l=g.Ub||null,this.j=g.eb||!1}S(Is,kr),Is.prototype.g=function(){return new zr(this.l,this.j)},Is.prototype.i=function(g){return function(){return g}}({});function zr(g,v){Ee.call(this),this.D=g,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(zr,Ee),n=zr.prototype,n.open=function(g,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=v,this.readyState=1,ur(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(v.body=g),(this.D||u).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ur(this)),this.g&&(this.readyState=3,ur(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function lc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var v=g.value?g.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!g.done}))&&(this.response=this.responseText+=v)}g.done?cr(this):ur(this),this.readyState==3&&lc(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,cr(this))},n.Qa=function(g){this.g&&(this.response=g,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ur(g)}n.setRequestHeader=function(g,v){this.u.append(g,v)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,g.push(E[0]+": "+E[1]),E=v.next();return g.join(`\r
`)};function ur(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function cc(g){let v="";return K(g,function(E,I){v+=I,v+=":",v+=E,v+=`\r
`}),v}function _n(g,v,E){t:{for(I in E){var I=!1;break t}I=!0}I||(E=cc(E),typeof g=="string"?E!=null&&encodeURIComponent(String(E)):de(g,v,E))}function ve(g){Ee.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(ve,Ee);var jo=/^https?$/i,Na=["POST","PUT"];n=ve.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,v,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);v=v?v.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?Lo(this.o):Lo(Ne),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(v,String(g),!0),this.B=!1}catch(et){_h(this,et);return}if(g=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var Q in I)E.set(Q,I[Q]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const et of I.keys())E.set(et,I.get(et));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(et=>et.toLowerCase()=="content-type"),Q=u.FormData&&g instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Na,v,void 0))||I||Q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[et,gt]of E)this.g.setRequestHeader(et,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{La(this),this.u=!0,this.g.send(g),this.u=!1}catch(et){_h(this,et)}};function _h(g,v){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=v,g.m=5,Bo(g),hr(g)}function Bo(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,qe(this,"complete"),qe(this,"abort"),hr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),ve.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},n.bb=function(){Fo(this)};function Fo(g){if(g.h&&typeof l<"u"&&(!g.v[1]||Ti(g)!=4||g.Z()!=2)){if(g.u&&Ti(g)==4)Po(g.Ea,0,g);else if(qe(g,"readystatechange"),Ti(g)==4){g.h=!1;try{const gt=g.Z();t:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var I;if(I=gt===0){var Q=String(g.D).match(rc)[1]||null;!Q&&u.self&&u.self.location&&(Q=u.self.location.protocol.slice(0,-1)),I=!jo.test(Q?Q.toLowerCase():"")}E=I}if(E)qe(g,"complete"),qe(g,"success");else{g.m=6;try{var et=2<Ti(g)?g.g.statusText:""}catch{et=""}g.l=et+" ["+g.Z()+"]",Bo(g)}}finally{hr(g)}}}}function hr(g,v){if(g.g){La(g);const E=g.g,I=g.v[0]?()=>{}:null;g.g=null,g.v=null,v||qe(g,"ready");try{E.onreadystatechange=I}catch{}}}function La(g){g.I&&(u.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function Ti(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var v=this.g.responseText;return g&&v.indexOf(g)==0&&(v=v.substring(g.length)),Hn(v)}};function vh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Cg(g){const v={};g=(g.g&&2<=Ti(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<g.length;I++){if(U(g[I]))continue;var E=V(g[I]);const Q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const et=v[Q]||[];v[Q]=et,et.push(E)}k(v,function(I){return I.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(g,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[g]||v}function Ho(g){this.Aa=0,this.i=[],this.j=new Ot,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,g),this.cb=Va("retryDelaySeedMs",1e4,g),this.Wa=Va("forwardChannelMaxRetries",2,g),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Ie(g&&g.concurrentRequestLimit),this.Da=new Pa,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ho.prototype,n.la=8,n.G=1,n.connect=function(g,v,E,I){st(0),this.W=g,this.H=v||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=xh(this,null,this.W),Go(this)};function uc(g){if(bh(g),g.G==3){var v=g.U++,E=ze(g.I);if(de(E,"SID",g.K),de(E,"RID",v),de(E,"TYPE","terminate"),Ua(g,E),v=new ue(g,g.j,v),v.L=2,v.v=Oa(ze(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&u.Image&&(new Image().src=v.v,E=!0),E||(v.g=Rh(v.j,null),v.g.ea(v.v)),v.F=Date.now(),pe(v)}Ah(g)}function qo(g){g.g&&(za(g),g.g.cancel(),g.g=null)}function bh(g){qo(g),g.u&&(u.clearTimeout(g.u),g.u=null),$o(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&u.clearTimeout(g.s),g.s=null)}function Go(g){if(!_i(g.h)&&!g.s){g.s=!0;var v=g.Ga;mt||z(),ht||(mt(),ht=!0),bt.add(v,g),g.B=0}}function Ig(g,v){return Ia(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=v.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=kt(b(g.Ga,g,v),dc(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const Q=new ue(this,this.j,g);let et=this.o;if(this.S&&(et?(et=x(et),M(et,this.S)):et=this.S),this.m!==null||this.O||(Q.H=et,et=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break e}I=void 0}if(I===void 0)break;if(v+=I,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Eh(this,Q,v),E=ze(this.I),de(E,"RID",g),de(E,"CVER",22),this.D&&de(E,"X-HTTP-Session-Id",this.D),Ua(this,E),et&&(this.O?v="headers="+encodeURIComponent(String(cc(et)))+"&"+v:this.m&&_n(E,this.m,et)),xs(this.h,Q),this.Ua&&de(E,"TYPE","init"),this.P?(de(E,"$req",v),de(E,"SID","null"),Q.T=!0,Ge(Q,E,null)):Ge(Q,E,v),this.G=2}}else this.G==3&&(g?hc(this,g):this.i.length==0||_i(this.h)||hc(this))};function hc(g,v){var E;v?E=v.l:E=g.U++;const I=ze(g.I);de(I,"SID",g.K),de(I,"RID",E),de(I,"AID",g.T),Ua(g,I),g.m&&g.o&&_n(I,g.m,g.o),E=new ue(g,g.j,E,g.B+1),g.m===null&&(E.H=g.o),v&&(g.i=v.D.concat(g.i)),v=Eh(g,E,1e3),E.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),xs(g.h,E),Ge(E,I,v)}function Ua(g,v){g.H&&K(g.H,function(E,I){de(v,I,E)}),g.l&&Da({},function(E,I){de(v,I,E)})}function Eh(g,v,E){E=Math.min(g.i.length,E);var I=g.l?b(g.l.Na,g.l,g):null;t:{var Q=g.i;let et=-1;for(;;){const gt=["count="+E];et==-1?0<E?(et=Q[0].g,gt.push("ofs="+et)):et=0:gt.push("ofs="+et);let ae=!0;for(let sn=0;sn<E;sn++){let oe=Q[sn].g;const vn=Q[sn].map;if(oe-=et,0>oe)et=Math.max(0,Q[sn].g-100),ae=!1;else try{lr(vn,gt,"req"+oe+"_")}catch{I&&I(vn)}}if(ae){I=gt.join("&");break t}}}return g=g.i.splice(0,E),v.D=g,I}function wh(g){if(!g.g&&!g.u){g.Y=1;var v=g.Fa;mt||z(),ht||(mt(),ht=!0),bt.add(v,g),g.v=0}}function fc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=kt(b(g.Fa,g),dc(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Th(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=kt(b(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),qo(this),Th(this))};function za(g){g.A!=null&&(u.clearTimeout(g.A),g.A=null)}function Th(g){g.g=new ue(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var v=ze(g.qa);de(v,"RID","rpc"),de(v,"SID",g.K),de(v,"AID",g.T),de(v,"CI",g.F?"0":"1"),!g.F&&g.ja&&de(v,"TO",g.ja),de(v,"TYPE","xmlhttp"),Ua(g,v),g.m&&g.o&&_n(v,g.m,g.o),g.L&&(g.g.I=g.L);var E=g.g;g=g.ia,E.L=1,E.v=Oa(ze(v)),E.m=null,E.P=!0,Qe(E,g)}n.Za=function(){this.C!=null&&(this.C=null,qo(this),fc(this),st(19))};function $o(g){g.C!=null&&(u.clearTimeout(g.C),g.C=null)}function Sh(g,v){var E=null;if(g.g==v){$o(g),za(g),g.g=null;var I=2}else if(ar(g.h,v))E=v.D,vi(g.h,v),I=1;else return;if(g.G!=0){if(v.o)if(I==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Q=g.B;I=As(),qe(I,new yt(I,E)),Go(g)}else wh(g);else if(Q=v.s,Q==3||Q==0&&0<v.X||!(I==1&&Ig(g,v)||I==2&&fc(g)))switch(E&&0<E.length&&(v=g.h,v.i=v.i.concat(E)),Q){case 1:jr(g,5);break;case 4:jr(g,10);break;case 3:jr(g,6);break;default:jr(g,2)}}}function dc(g,v){let E=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(E*=2),E*v}function jr(g,v){if(g.j.info("Error code "+v),v==2){var E=b(g.fb,g),I=g.Xa;const Q=!I;I=new Nr(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Rs(I,"https"),Oa(I),Q?yh(I.toString(),E):ka(I.toString(),E)}else st(2);g.G=0,g.l&&g.l.sa(v),Ah(g),bh(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ah(g){if(g.G=0,g.ka=[],g.l){const v=Gn(g.h);(v.length!=0||g.i.length!=0)&&(C(g.ka,v),C(g.ka,g.i),g.h.i.length=0,D(g.i),g.i.length=0),g.l.ra()}}function xh(g,v,E){var I=E instanceof Nr?ze(E):new Nr(E);if(I.g!="")v&&(I.g=v+"."+I.g),Ma(I,I.s);else{var Q=u.location;I=Q.protocol,v=v?v+"."+Q.hostname:Q.hostname,Q=+Q.port;var et=new Nr(null);I&&Rs(et,I),v&&(et.g=v),Q&&Ma(et,Q),E&&(et.l=E),I=et}return E=g.D,v=g.ya,E&&v&&de(I,E,v),de(I,"VER",g.la),Ua(g,I),I}function Rh(g,v,E){if(v&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=g.Ca&&!g.pa?new ve(new Is({eb:E})):new ve(g.pa),v.Ha(g.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ch(){}n=Ch.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ko(){}Ko.prototype.g=function(g,v){return new $n(g,v)};function $n(g,v){Ee.call(this),this.g=new Ho(v),this.l=g,this.h=v&&v.messageUrlParams||null,g=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(g?g["X-WebChannel-Content-Type"]=v.messageContentType:g={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(g?g["X-WebChannel-Client-Profile"]=v.va:g={"X-WebChannel-Client-Profile":v.va}),this.g.S=g,(g=v&&v.Sb)&&!U(g)&&(this.g.m=g),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!U(v)&&(this.g.D=v,g=this.h,g!==null&&v in g&&(g=this.h,v in g&&delete g[v])),this.j=new fr(this)}S($n,Ee),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){uc(this.g)},$n.prototype.o=function(g){var v=this.g;if(typeof g=="string"){var E={};E.__data__=g,g=E}else this.u&&(E={},E.__data__=Ss(g),g=E);v.i.push(new Pr(v.Ya++,g)),v.G==3&&Go(v)},$n.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,$n.aa.N.call(this)};function Ih(g){qi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var v=g.__sm__;if(v){t:{for(const E in v){g=E;break t}g=void 0}(this.i=g)&&(g=this.i,v=v!==null&&g in v?v[g]:void 0),this.data=v}else this.data=g}S(Ih,qi);function Dh(){Pn.call(this),this.status=1}S(Dh,Pn);function fr(g){this.g=g}S(fr,Ch),fr.prototype.ua=function(){qe(this.g,"a")},fr.prototype.ta=function(g){qe(this.g,new Ih(g))},fr.prototype.sa=function(g){qe(this.g,new Dh)},fr.prototype.ra=function(){qe(this.g,"b")},Ko.prototype.createWebChannel=Ko.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,dx=function(){return new Ko},fx=function(){return As()},hx=xn,py={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vt.NO_ERROR=0,Vt.TIMEOUT=8,Vt.HTTP_ERROR=6,rd=Vt,fe.COMPLETE="complete",ux=fe,Ca.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,gu=Ca,ve.prototype.listenOnce=ve.prototype.L,ve.prototype.getLastError=ve.prototype.Ka,ve.prototype.getLastErrorCode=ve.prototype.Ba,ve.prototype.getStatus=ve.prototype.Z,ve.prototype.getResponseJson=ve.prototype.Oa,ve.prototype.getResponseText=ve.prototype.oa,ve.prototype.send=ve.prototype.ea,ve.prototype.setWithCredentials=ve.prototype.Ha,cx=ve}).apply(typeof kf<"u"?kf:typeof self<"u"?self:typeof window<"u"?window:{});const Rw="@firebase/firestore",Cw="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}zn.UNAUTHENTICATED=new zn(null),zn.GOOGLE_CREDENTIALS=new zn("google-credentials-uid"),zn.FIRST_PARTY=new zn("first-party-uid"),zn.MOCK_USER=new zn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new e_("@firebase/firestore");function Sl(){return To.logLevel}function Et(n,...t){if(To.logLevel<=te.DEBUG){const e=t.map(d_);To.debug(`Firestore (${Yl}): ${n}`,...e)}}function ms(n,...t){if(To.logLevel<=te.ERROR){const e=t.map(d_);To.error(`Firestore (${Yl}): ${n}`,...e)}}function Vl(n,...t){if(To.logLevel<=te.WARN){const e=t.map(d_);To.warn(`Firestore (${Yl}): ${n}`,...e)}}function d_(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n="Unexpected state"){const t=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+n;throw ms(t),new Error(t)}function be(n,t){n||Ft()}function Gt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends bs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(zn.UNAUTHENTICATED))}shutdown(){}}class TN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class SN{constructor(t){this.t=t,this.currentUser=zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){be(this.o===void 0);let i=this.i;const s=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,t.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=o;t.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},u=f=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>u(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?u(f):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}},0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string"),new gx(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string"),new zn(t)}}class AN{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=zn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class xN{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new AN(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(zn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Iw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RN{constructor(t,e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Li(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,e){be(this.o===void 0);const i=o=>{o.error!=null&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.R;return this.R=o.token,Et("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const s=o=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?s(o):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Iw(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(be(typeof e.token=="string"),this.R=e.token,new Iw(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=CN(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<e&&(i+=t.charAt(s[o]%62))}return i}}function ie(n,t){return n<t?-1:n>t?1:0}function Ul(n,t,e){return n.length===t.length&&n.every((i,s)=>e(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=-62135596800,Mw=1e6;class hn{static now(){return hn.fromMillis(Date.now())}static fromDate(t){return hn.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Mw);return new hn(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new St(ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Dw)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new St(ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mw}_compareTo(t){return this.seconds===t.seconds?ie(this.nanoseconds,t.nanoseconds):ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-Dw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{static fromTimestamp(t){return new Ht(t)}static min(){return new Ht(new hn(0,0))}static max(){return new Ht(new hn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="__name__";class wr{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ft(),i===void 0?i=t.length-e:i>t.length-e&&Ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return wr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof wr?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let s=0;s<i;s++){const o=wr.compareSegments(t.get(s),e.get(s));if(o!==0)return o}return Math.sign(t.length-e.length)}static compareSegments(t,e){const i=wr.isNumericId(t),s=wr.isNumericId(e);return i&&!s?-1:!i&&s?1:i&&s?wr.extractNumericId(t).compare(wr.extractNumericId(e)):t<e?-1:t>e?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ha.fromString(t.substring(4,t.length-2))}}class Pe extends wr{construct(t,e,i){return new Pe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new St(ct.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(s=>s.length>0))}return new Pe(e)}static emptyPath(){return new Pe([])}}const IN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends wr{construct(t,e,i){return new On(t,e,i)}static isValidIdentifier(t){return IN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ow}static keyField(){return new On([Ow])}static fromServerFormat(t){const e=[];let i="",s=0;const o=()=>{if(i.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;s<t.length;){const u=t[s];if(u==="\\"){if(s+1===t.length)throw new St(ct.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new St(ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,s+=2}else u==="`"?(l=!l,s++):u!=="."||l?(i+=u,s++):(o(),s++)}if(o(),l)throw new St(ct.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new On(e)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(t){this.path=t}static fromPath(t){return new Lt(Pe.fromString(t))}static fromName(t){return new Lt(Pe.fromString(t).popFirst(5))}static empty(){return new Lt(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lt(new Pe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function DN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ht.fromTimestamp(i===1e9?new hn(e+1,0):new hn(e,i));return new ya(s,Lt.empty(),t)}function MN(n){return new ya(n.readTime,n.key,Vu)}class ya{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ya(Ht.min(),Lt.empty(),Vu)}static max(){return new ya(Ht.max(),Lt.empty(),Vu)}}function ON(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Lt.comparator(n.documentKey,t.documentKey),e!==0?e:ie(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(n){if(n.code!==ct.FAILED_PRECONDITION||n.message!==kN)throw n;Et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,s)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ot.reject(e)}static resolve(t){return new ot((e,i)=>{e(t)})}static reject(t){return new ot((e,i)=>{i(t)})}static waitFor(t){return new ot((e,i)=>{let s=0,o=0,l=!1;t.forEach(u=>{++s,u.next(()=>{++o,l&&o===s&&e()},f=>i(f))}),l=!0,o===s&&e()})}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next(s=>s?ot.resolve(s):i());return e}static forEach(t,e){const i=[];return t.forEach((s,o)=>{i.push(e.call(this,s,o))}),this.waitFor(i)}static mapArray(t,e){return new ot((i,s)=>{const o=t.length,l=new Array(o);let u=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next(p=>{l[d]=p,++u,u===o&&i(l)},p=>s(p))}})}static doWhile(t,e){return new ot((i,s)=>{const o=()=>{t()===!0?e().next(()=>{o()},s):i()};o()})}}function NN(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Xl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.oe(i),this._e=i=>e.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}rg.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-1;function sg(n){return n==null}function Sd(n){return n===0&&1/n==-1/0}function LN(n){return typeof n=="number"&&Number.isInteger(n)&&!Sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="";function VN(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kw(t)),t=UN(n.get(e),t);return kw(t)}function UN(n,t){let e=t;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":e+="";break;case px:e+="";break;default:e+=o}}return e}function kw(n){return n+px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Do(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(t,e){this.comparator=t,this.root=e||Mn.EMPTY}insert(t,e){return new Ue(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(t){return new Ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return e+i.left.size;s<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pf(this.root,t,this.comparator,!0)}}class Pf{constructor(t,e,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&s&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Mn{constructor(t,e,i,s,o){this.key=t,this.value=e,this.color=i??Mn.RED,this.left=s??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,s,o){return new Mn(t??this.key,e??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,e,i),null):o===0?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),e(t,s.key)===0){if(s.right.isEmpty())return Mn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ft();const t=this.left.check();if(t!==this.right.check())throw Ft();return t+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft()}get value(){throw Ft()}get color(){throw Ft()}get left(){throw Ft()}get right(){throw Ft()}copy(t,e,i,s,o){return this}insert(t,e,i){return new Mn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.comparator=t,this.data=new Ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Nw(this.data.getIterator())}getIteratorFrom(t){return new Nw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof fn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new fn(this.comparator);return e.data=t,e}}class Nw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this.fields=t,t.sort(On.comparator)}static empty(){return new Xi([])}unionWith(t){let e=new fn(On.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Xi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Ul(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _x("Invalid base64 string: "+o):o}}(t);return new kn(e)}static fromUint8Array(t){const e=function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o}(t);return new kn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let s=0;s<e.length;s++)i[s]=e.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}kn.EMPTY_BYTE_STRING=new kn("");const zN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(n){if(be(!!n),typeof n=="string"){let t=0;const e=zN.exec(n);if(be(!!e),e[1]){let s=e[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ke(n.seconds),nanos:Ke(n.nanos)}}function Ke(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function va(n){return typeof n=="string"?kn.fromBase64String(n):kn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="server_timestamp",bx="__type__",Ex="__previous_value__",wx="__local_write_time__";function m_(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[bx])===null||e===void 0?void 0:e.stringValue)===vx}function ag(n){const t=n.mapValue.fields[Ex];return m_(t)?ag(t):t}function Uu(n){const t=_a(n.mapValue.fields[wx].timestampValue);return new hn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t,e,i,s,o,l,u,f,d){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=f,this.useFetchStreams=d}}const Ad="(default)";class zu{constructor(t,e){this.projectId=t,this.database=e||Ad}static empty(){return new zu("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(t){return t instanceof zu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="__type__",BN="__max__",Nf={mapValue:{}},Sx="__vector__",xd="value";function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m_(n)?4:HN(n)?9007199254740991:FN(n)?10:11:Ft()}function Cr(n,t){if(n===t)return!0;const e=ba(n);if(e!==ba(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Uu(n).isEqual(Uu(t));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=_a(s.timestampValue),u=_a(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(s,o){return va(s.bytesValue).isEqual(va(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(s,o){return Ke(s.geoPointValue.latitude)===Ke(o.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(o.geoPointValue.longitude)}(n,t);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ke(s.integerValue)===Ke(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=Ke(s.doubleValue),u=Ke(o.doubleValue);return l===u?Sd(l)===Sd(u):isNaN(l)&&isNaN(u)}return!1}(n,t);case 9:return Ul(n.arrayValue.values||[],t.arrayValue.values||[],Cr);case 10:case 11:return function(s,o){const l=s.mapValue.fields||{},u=o.mapValue.fields||{};if(Pw(l)!==Pw(u))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(u[f]===void 0||!Cr(l[f],u[f])))return!1;return!0}(n,t);default:return Ft()}}function ju(n,t){return(n.values||[]).find(e=>Cr(e,t))!==void 0}function zl(n,t){if(n===t)return 0;const e=ba(n),i=ba(t);if(e!==i)return ie(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return ie(n.booleanValue,t.booleanValue);case 2:return function(o,l){const u=Ke(o.integerValue||o.doubleValue),f=Ke(l.integerValue||l.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,t);case 3:return Lw(n.timestampValue,t.timestampValue);case 4:return Lw(Uu(n),Uu(t));case 5:return ie(n.stringValue,t.stringValue);case 6:return function(o,l){const u=va(o),f=va(l);return u.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(o,l){const u=o.split("/"),f=l.split("/");for(let d=0;d<u.length&&d<f.length;d++){const p=ie(u[d],f[d]);if(p!==0)return p}return ie(u.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,l){const u=ie(Ke(o.latitude),Ke(l.latitude));return u!==0?u:ie(Ke(o.longitude),Ke(l.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return Vw(n.arrayValue,t.arrayValue);case 10:return function(o,l){var u,f,d,p;const _=o.fields||{},b=l.fields||{},T=(u=_[xd])===null||u===void 0?void 0:u.arrayValue,S=(f=b[xd])===null||f===void 0?void 0:f.arrayValue,D=ie(((d=T==null?void 0:T.values)===null||d===void 0?void 0:d.length)||0,((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0);return D!==0?D:Vw(T,S)}(n.mapValue,t.mapValue);case 11:return function(o,l){if(o===Nf.mapValue&&l===Nf.mapValue)return 0;if(o===Nf.mapValue)return 1;if(l===Nf.mapValue)return-1;const u=o.fields||{},f=Object.keys(u),d=l.fields||{},p=Object.keys(d);f.sort(),p.sort();for(let _=0;_<f.length&&_<p.length;++_){const b=ie(f[_],p[_]);if(b!==0)return b;const T=zl(u[f[_]],d[p[_]]);if(T!==0)return T}return ie(f.length,p.length)}(n.mapValue,t.mapValue);default:throw Ft()}}function Lw(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return ie(n,t);const e=_a(n),i=_a(t),s=ie(e.seconds,i.seconds);return s!==0?s:ie(e.nanos,i.nanos)}function Vw(n,t){const e=n.values||[],i=t.values||[];for(let s=0;s<e.length&&s<i.length;++s){const o=zl(e[s],i[s]);if(o)return o}return ie(e.length,i.length)}function jl(n){return yy(n)}function yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=_a(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return va(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return Lt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",s=!0;for(const o of e.values||[])s?s=!1:i+=",",i+=yy(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${yy(e.fields[l])}`;return s+"}"}(n.mapValue):Ft()}function sd(n){switch(ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ag(n);return t?16+sd(t):16;case 5:return 2*n.stringValue.length;case 6:return va(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,o)=>s+sd(o),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Do(i.fields,(o,l)=>{s+=o.length+sd(l)}),s}(n.mapValue);default:throw Ft()}}function Uw(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function _y(n){return!!n&&"integerValue"in n}function p_(n){return!!n&&"arrayValue"in n}function zw(n){return!!n&&"nullValue"in n}function jw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ad(n){return!!n&&"mapValue"in n}function FN(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Tx])===null||e===void 0?void 0:e.stringValue)===Sx}function Su(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Do(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Su(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Su(n.arrayValue.values[e]);return t}return Object.assign({},n)}function HN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===BN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(t){this.value=t}static empty(){return new Vi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ad(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Su(e)}setAll(t){let e=On.emptyPath(),i={},s=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const f=this.getFieldsMap(e);this.applyChanges(f,i,s),i={},s=[],e=u.popLast()}l?i[u.lastSegment()]=Su(l):s.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,s)}delete(t){const e=this.field(t.popLast());ad(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Cr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=e.mapValue.fields[t.get(i)];ad(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=s),e=s}return e.mapValue.fields}applyChanges(t,e,i){Do(e,(s,o)=>t[s]=o);for(const s of i)delete t[s]}clone(){return new Vi(Su(this.value))}}function Ax(n){const t=[];return Do(n.fields,(e,i)=>{const s=new On([e]);if(ad(i)){const o=Ax(i.mapValue).fields;if(o.length===0)t.push(s);else for(const l of o)t.push(s.child(l))}else t.push(s)}),new Xi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,e,i,s,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=s,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new jn(t,0,Ht.min(),Ht.min(),Ht.min(),Vi.empty(),0)}static newFoundDocument(t,e,i,s){return new jn(t,1,e,Ht.min(),i,s,0)}static newNoDocument(t,e){return new jn(t,2,e,Ht.min(),Ht.min(),Vi.empty(),0)}static newUnknownDocument(t,e){return new jn(t,3,e,Ht.min(),Ht.min(),Vi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(t,e){this.position=t,this.inclusive=e}}function Bw(n,t,e){let i=0;for(let s=0;s<n.position.length;s++){const o=t[s],l=n.position[s];if(o.field.isKeyField()?i=Lt.comparator(Lt.fromName(l.referenceValue),e.key):i=zl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function Fw(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Cr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(t,e="asc"){this.field=t,this.dir=e}}function qN(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{}class en extends xx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new $N(t,e,i):e==="array-contains"?new YN(t,i):e==="in"?new QN(t,i):e==="not-in"?new XN(t,i):e==="array-contains-any"?new ZN(t,i):new en(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new KN(t,i):new WN(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(zl(e,this.value)):e!==null&&ba(this.value)===ba(e)&&this.matchesComparison(zl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends xx{constructor(t,e){super(),this.filters=t,this.op=e,this.ce=null}static create(t,e){return new tr(t,e)}matches(t){return Rx(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Rx(n){return n.op==="and"}function Cx(n){return GN(n)&&Rx(n)}function GN(n){for(const t of n.filters)if(t instanceof tr)return!1;return!0}function vy(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+jl(n.value);if(Cx(n))return n.filters.map(t=>vy(t)).join(",");{const t=n.filters.map(e=>vy(e)).join(",");return`${n.op}(${t})`}}function Ix(n,t){return n instanceof en?function(i,s){return s instanceof en&&i.op===s.op&&i.field.isEqual(s.field)&&Cr(i.value,s.value)}(n,t):n instanceof tr?function(i,s){return s instanceof tr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((o,l,u)=>o&&Ix(l,s.filters[u]),!0):!1}(n,t):void Ft()}function Dx(n){return n instanceof en?function(e){return`${e.field.canonicalString()} ${e.op} ${jl(e.value)}`}(n):n instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(Dx).join(" ,")+"}"}(n):"Filter"}class $N extends en{constructor(t,e,i){super(t,e,i),this.key=Lt.fromName(i.referenceValue)}matches(t){const e=Lt.comparator(t.key,this.key);return this.matchesComparison(e)}}class KN extends en{constructor(t,e){super(t,"in",e),this.keys=Mx("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class WN extends en{constructor(t,e){super(t,"not-in",e),this.keys=Mx("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Mx(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>Lt.fromName(i.referenceValue))}class YN extends en{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return p_(e)&&ju(e.arrayValue,this.value)}}class QN extends en{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&ju(this.value.arrayValue,e)}}class XN extends en{constructor(t,e){super(t,"not-in",e)}matches(t){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&!ju(this.value.arrayValue,e)}}class ZN extends en{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!p_(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ju(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(t,e=null,i=[],s=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=l,this.endAt=u,this.le=null}}function Hw(n,t=null,e=[],i=[],s=null,o=null,l=null){return new JN(n,t,e,i,s,o,l)}function y_(n){const t=Gt(n);if(t.le===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>vy(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),sg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>jl(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>jl(i)).join(",")),t.le=e}return t.le}function __(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!qN(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Ix(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Fw(n.startAt,t.startAt)&&Fw(n.endAt,t.endAt)}function by(n){return Lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,e=null,i=[],s=[],o=null,l="F",u=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tL(n,t,e,i,s,o,l,u){return new ah(n,t,e,i,s,o,l,u)}function v_(n){return new ah(n)}function qw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ox(n){return n.collectionGroup!==null}function Au(n){const t=Gt(n);if(t.he===null){t.he=[];const e=new Set;for(const o of t.explicitOrderBy)t.he.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new fn(On.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(d=>{d.isInequality()&&(u=u.add(d.field))})}),u})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.he.push(new Cd(o,i))}),e.has(On.keyField().canonicalString())||t.he.push(new Cd(On.keyField(),i))}return t.he}function xr(n){const t=Gt(n);return t.Pe||(t.Pe=eL(t,Au(n))),t.Pe}function eL(n,t){if(n.limitType==="F")return Hw(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Cd(s.field,o)});const e=n.endAt?new Rd(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Rd(n.startAt.position,n.startAt.inclusive):null;return Hw(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ey(n,t){const e=n.filters.concat([t]);return new ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wy(n,t,e){return new ah(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function og(n,t){return __(xr(n),xr(t))&&n.limitType===t.limitType}function kx(n){return`${y_(xr(n))}|lt:${n.limitType}`}function Al(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(s=>Dx(s)).join(", ")}]`),sg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>jl(s)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>jl(s)).join(",")),`Target(${i})`}(xr(n))}; limitType=${n.limitType})`}function lg(n,t){return t.isFoundDocument()&&function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Lt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,s){for(const o of Au(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0}(n,t)&&function(i,s){return!(i.startAt&&!function(l,u,f){const d=Bw(l,u,f);return l.inclusive?d<=0:d<0}(i.startAt,Au(i),s)||i.endAt&&!function(l,u,f){const d=Bw(l,u,f);return l.inclusive?d>=0:d>0}(i.endAt,Au(i),s))}(n,t)}function nL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Px(n){return(t,e)=>{let i=!1;for(const s of Au(n)){const o=iL(s,t,e);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function iL(n,t,e){const i=n.field.isKeyField()?Lt.comparator(t.key,e.key):function(o,l,u){const f=l.data.field(o),d=u.data.field(o);return f!==null&&d!==null?zl(f,d):Ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return void(s[o]=[t,e]);s.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[e]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){Do(this.inner,(e,i)=>{for(const[s,o]of i)t(s,o)})}isEmpty(){return yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL=new Ue(Lt.comparator);function ps(){return rL}const Nx=new Ue(Lt.comparator);function mu(...n){let t=Nx;for(const e of n)t=t.insert(e.key,e);return t}function Lx(n){let t=Nx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function mo(){return xu()}function Vx(){return xu()}function xu(){return new Mo(n=>n.toString(),(n,t)=>n.isEqual(t))}const sL=new Ue(Lt.comparator),aL=new fn(Lt.comparator);function ee(...n){let t=aL;for(const e of n)t=t.add(e);return t}const oL=new fn(ie);function lL(){return oL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sd(t)?"-0":t}}function Ux(n){return{integerValue:""+n}}function cL(n,t){return LN(t)?Ux(t):b_(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(){this._=void 0}}function uL(n,t,e){return n instanceof Id?function(s,o){const l={fields:{[bx]:{stringValue:vx},[wx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&m_(o)&&(o=ag(o)),o&&(l.fields[Ex]=o),{mapValue:l}}(e,t):n instanceof Bu?jx(n,t):n instanceof Fu?Bx(n,t):function(s,o){const l=zx(s,o),u=Gw(l)+Gw(s.Ie);return _y(l)&&_y(s.Ie)?Ux(u):b_(s.serializer,u)}(n,t)}function hL(n,t,e){return n instanceof Bu?jx(n,t):n instanceof Fu?Bx(n,t):e}function zx(n,t){return n instanceof Dd?function(i){return _y(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class Id extends cg{}class Bu extends cg{constructor(t){super(),this.elements=t}}function jx(n,t){const e=Fx(t);for(const i of n.elements)e.some(s=>Cr(s,i))||e.push(i);return{arrayValue:{values:e}}}class Fu extends cg{constructor(t){super(),this.elements=t}}function Bx(n,t){let e=Fx(t);for(const i of n.elements)e=e.filter(s=>!Cr(s,i));return{arrayValue:{values:e}}}class Dd extends cg{constructor(t,e){super(),this.serializer=t,this.Ie=e}}function Gw(n){return Ke(n.integerValue||n.doubleValue)}function Fx(n){return p_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function fL(n,t){return n.field.isEqual(t.field)&&function(i,s){return i instanceof Bu&&s instanceof Bu||i instanceof Fu&&s instanceof Fu?Ul(i.elements,s.elements,Cr):i instanceof Dd&&s instanceof Dd?Cr(i.Ie,s.Ie):i instanceof Id&&s instanceof Id}(n.transform,t.transform)}class dL{constructor(t,e){this.version=t,this.transformResults=e}}class Zi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Zi}static exists(t){return new Zi(void 0,t)}static updateTime(t){return new Zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function od(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class ug{}function Hx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new E_(n.key,Zi.none()):new oh(n.key,n.data,Zi.none());{const e=n.data,i=Vi.empty();let s=new fn(On.comparator);for(let o of t.fields)if(!s.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),s=s.add(o)}return new Oo(n.key,i,new Xi(s.toArray()),Zi.none())}}function gL(n,t,e){n instanceof oh?function(s,o,l){const u=s.value.clone(),f=Kw(s.fieldTransforms,o,l.transformResults);u.setAll(f),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Oo?function(s,o,l){if(!od(s.precondition,o))return void o.convertToUnknownDocument(l.version);const u=Kw(s.fieldTransforms,o,l.transformResults),f=o.data;f.setAll(qx(s)),f.setAll(u),o.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,t,e):function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,t,e)}function Ru(n,t,e,i){return n instanceof oh?function(o,l,u,f){if(!od(o.precondition,l))return u;const d=o.value.clone(),p=Ww(o.fieldTransforms,f,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(n,t,e,i):n instanceof Oo?function(o,l,u,f){if(!od(o.precondition,l))return u;const d=Ww(o.fieldTransforms,f,l),p=l.data;return p.setAll(qx(o)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,t,e,i):function(o,l,u){return od(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,t,e)}function mL(n,t){let e=null;for(const i of n.fieldTransforms){const s=t.data.field(i.field),o=zx(i.transform,s||null);o!=null&&(e===null&&(e=Vi.empty()),e.set(i.field,o))}return e||null}function $w(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Ul(i,s,(o,l)=>fL(o,l))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class oh extends ug{constructor(t,e,i,s=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oo extends ug{constructor(t,e,i,s,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function Kw(n,t,e){const i=new Map;be(n.length===e.length);for(let s=0;s<e.length;s++){const o=n[s],l=o.transform,u=t.data.field(o.field);i.set(o.field,hL(l,u,e[s]))}return i}function Ww(n,t,e){const i=new Map;for(const s of n){const o=s.transform,l=e.data.field(s.field);i.set(s.field,uL(o,l,t))}return i}class E_ extends ug{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pL extends ug{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t,e,i,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(t.key)&&gL(o,t,i[s])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ru(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ru(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Vx();return this.mutations.forEach(s=>{const o=t.get(s.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(s.key)?null:u;const f=Hx(l,u);f!==null&&i.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(Ht.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ee())}isEqual(t){return this.batchId===t.batchId&&Ul(this.mutations,t.mutations,(e,i)=>$w(e,i))&&Ul(this.baseMutations,t.baseMutations,(e,i)=>$w(e,i))}}class w_{constructor(t,e,i,s){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=s}static from(t,e,i){be(t.mutations.length===i.length);let s=function(){return sL}();const o=t.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,i[l].version);return new w_(t,e,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,ce;function bL(n){switch(n){case ct.OK:return Ft();case ct.CANCELLED:case ct.UNKNOWN:case ct.DEADLINE_EXCEEDED:case ct.RESOURCE_EXHAUSTED:case ct.INTERNAL:case ct.UNAVAILABLE:case ct.UNAUTHENTICATED:return!1;case ct.INVALID_ARGUMENT:case ct.NOT_FOUND:case ct.ALREADY_EXISTS:case ct.PERMISSION_DENIED:case ct.FAILED_PRECONDITION:case ct.ABORTED:case ct.OUT_OF_RANGE:case ct.UNIMPLEMENTED:case ct.DATA_LOSS:return!0;default:return Ft()}}function Gx(n){if(n===void 0)return ms("GRPC error has no .code"),ct.UNKNOWN;switch(n){case tn.OK:return ct.OK;case tn.CANCELLED:return ct.CANCELLED;case tn.UNKNOWN:return ct.UNKNOWN;case tn.DEADLINE_EXCEEDED:return ct.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return ct.RESOURCE_EXHAUSTED;case tn.INTERNAL:return ct.INTERNAL;case tn.UNAVAILABLE:return ct.UNAVAILABLE;case tn.UNAUTHENTICATED:return ct.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return ct.INVALID_ARGUMENT;case tn.NOT_FOUND:return ct.NOT_FOUND;case tn.ALREADY_EXISTS:return ct.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return ct.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return ct.FAILED_PRECONDITION;case tn.ABORTED:return ct.ABORTED;case tn.OUT_OF_RANGE:return ct.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return ct.UNIMPLEMENTED;case tn.DATA_LOSS:return ct.DATA_LOSS;default:return Ft()}}(ce=tn||(tn={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=new ha([4294967295,4294967295],0);function Yw(n){const t=EL().encode(n),e=new lx;return e.update(t),new Uint8Array(e.digest())}function Qw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ha([e,i],0),new ha([s,o],0)]}class T_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pu(`Invalid padding: ${e}`);if(i<0)throw new pu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new pu(`Invalid padding when bitmap length is 0: ${e}`);this.Ee=8*t.length-e,this.de=ha.fromNumber(this.Ee)}Ae(t,e,i){let s=t.add(e.multiply(ha.fromNumber(i)));return s.compare(wL)===1&&(s=new ha([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const e=Yw(t),[i,s]=Qw(e);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);if(!this.Re(l))return!1}return!0}static create(t,e,i){const s=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new T_(o,s,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(this.Ee===0)return;const e=Yw(t),[i,s]=Qw(e);for(let o=0;o<this.hashCount;o++){const l=this.Ae(i,s,o);this.Ve(l)}}Ve(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(t,e,i,s,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const s=new Map;return s.set(t,lh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new hg(Ht.min(),s,new Ue(ie),ps(),ee())}}class lh{constructor(t,e,i,s,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lh(i,e,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,e,i,s){this.me=t,this.removedTargetIds=e,this.key=i,this.fe=s}}class $x{constructor(t,e){this.targetId=t,this.ge=e}}class Kx{constructor(t,e,i=kn.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=s}}class Xw{constructor(){this.pe=0,this.ye=Zw(),this.we=kn.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=ee(),e=ee(),i=ee();return this.ye.forEach((s,o)=>{switch(o){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:i=i.add(s);break;default:Ft()}}),new lh(this.we,this.be,t,e,i)}Me(){this.Se=!1,this.ye=Zw()}xe(t,e){this.Se=!0,this.ye=this.ye.insert(t,e)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,be(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class TL{constructor(t){this.ke=t,this.qe=new Map,this.Qe=ps(),this.$e=Lf(),this.Ke=Lf(),this.Ue=new Ue(ie)}We(t){for(const e of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(e,t.fe):this.ze(e,t.key,t.fe);for(const e of t.removedTargetIds)this.ze(e,t.key,t.fe)}je(t){this.forEachTarget(t,e=>{const i=this.He(e);switch(t.state){case 0:this.Je(e)&&i.Ce(t.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(t.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(e);break;case 3:this.Je(e)&&(i.Le(),i.Ce(t.resumeToken));break;case 4:this.Je(e)&&(this.Ye(e),i.Ce(t.resumeToken));break;default:Ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.qe.forEach((i,s)=>{this.Je(s)&&e(s)})}Ze(t){const e=t.targetId,i=t.ge.count,s=this.Xe(e);if(s){const o=s.target;if(by(o))if(i===0){const l=new Lt(o.path);this.ze(e,l,jn.newNoDocument(l,Ht.min()))}else be(i===1);else{const l=this.et(e);if(l!==i){const u=this.tt(t),f=u?this.nt(u,t,l):1;if(f!==0){this.Ye(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(e,d)}}}}}tt(t){const e=t.ge.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=e;let l,u;try{l=va(i).toUint8Array()}catch(f){if(f instanceof _x)return Vl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{u=new T_(l,s,o)}catch(f){return Vl(f instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return u.Ee===0?null:u}nt(t,e,i){return e.ge.count===i-this.st(t,e.targetId)?0:2}st(t,e){const i=this.ke.getRemoteKeysForTarget(e);let s=0;return i.forEach(o=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.ze(e,o,null),s++)}),s}ot(t){const e=new Map;this.qe.forEach((o,l)=>{const u=this.Xe(l);if(u){if(o.current&&by(u.target)){const f=new Lt(u.target.path);this._t(f).has(l)||this.ut(l,f)||this.ze(l,f,jn.newNoDocument(f,t))}o.ve&&(e.set(l,o.Fe()),o.Me())}});let i=ee();this.Ke.forEach((o,l)=>{let u=!0;l.forEachWhile(f=>{const d=this.Xe(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(i=i.add(o))}),this.Qe.forEach((o,l)=>l.setReadTime(t));const s=new hg(t,e,this.Ue,this.Qe,i);return this.Qe=ps(),this.$e=Lf(),this.Ke=Lf(),this.Ue=new Ue(ie),s}Ge(t,e){if(!this.Je(t))return;const i=this.ut(t,e.key)?2:0;this.He(t).xe(e.key,i),this.Qe=this.Qe.insert(e.key,e),this.$e=this.$e.insert(e.key,this._t(e.key).add(t)),this.Ke=this.Ke.insert(e.key,this.ct(e.key).add(t))}ze(t,e,i){if(!this.Je(t))return;const s=this.He(t);this.ut(t,e)?s.xe(e,1):s.Oe(e),this.Ke=this.Ke.insert(e,this.ct(e).delete(t)),this.Ke=this.Ke.insert(e,this.ct(e).add(t)),i&&(this.Qe=this.Qe.insert(e,i))}removeTarget(t){this.qe.delete(t)}et(t){const e=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let e=this.qe.get(t);return e||(e=new Xw,this.qe.set(t,e)),e}ct(t){let e=this.Ke.get(t);return e||(e=new fn(ie),this.Ke=this.Ke.insert(t,e)),e}_t(t){let e=this.$e.get(t);return e||(e=new fn(ie),this.$e=this.$e.insert(t,e)),e}Je(t){const e=this.Xe(t)!==null;return e||Et("WatchChangeAggregator","Detected inactive target",t),e}Xe(t){const e=this.qe.get(t);return e&&e.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Xw),this.ke.getRemoteKeysForTarget(t).forEach(e=>{this.ze(t,e,null)})}ut(t,e){return this.ke.getRemoteKeysForTarget(t).has(e)}}function Lf(){return new Ue(Lt.comparator)}function Zw(){return new Ue(Lt.comparator)}const SL={asc:"ASCENDING",desc:"DESCENDING"},AL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xL={and:"AND",or:"OR"};class RL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ty(n,t){return n.useProto3Json||sg(t)?t:{value:t}}function Md(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Wx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function CL(n,t){return Md(n,t.toTimestamp())}function Rr(n){return be(!!n),Ht.fromTimestamp(function(e){const i=_a(e);return new hn(i.seconds,i.nanos)}(n))}function S_(n,t){return Sy(n,t).canonicalString()}function Sy(n,t){const e=function(s){return new Pe(["projects",s.projectId,"databases",s.database])}(n).child("documents");return t===void 0?e:e.child(t)}function Yx(n){const t=Pe.fromString(n);return be(tR(t)),t}function Ay(n,t){return S_(n.databaseId,t.path)}function Up(n,t){const e=Yx(t);if(e.get(1)!==n.databaseId.projectId)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new St(ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Lt(Xx(e))}function Qx(n,t){return S_(n.databaseId,t)}function IL(n){const t=Yx(n);return t.length===4?Pe.emptyPath():Xx(t)}function xy(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xx(n){return be(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Jw(n,t,e){return{name:Ay(n,t),fields:e.value.mapValue.fields}}function DL(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ft()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(be(p===void 0||typeof p=="string"),kn.fromBase64String(p||"")):(be(p===void 0||p instanceof Buffer||p instanceof Uint8Array),kn.fromUint8Array(p||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(d){const p=d.code===void 0?ct.UNKNOWN:Gx(d.code);return new St(p,d.message||"")}(l);e=new Kx(i,s,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Up(n,i.document.name),o=Rr(i.document.updateTime),l=i.document.createTime?Rr(i.document.createTime):Ht.min(),u=new Vi({mapValue:{fields:i.document.fields}}),f=jn.newFoundDocument(s,o,l,u),d=i.targetIds||[],p=i.removedTargetIds||[];e=new ld(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Up(n,i.document),o=i.readTime?Rr(i.readTime):Ht.min(),l=jn.newNoDocument(s,o),u=i.removedTargetIds||[];e=new ld([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Up(n,i.document),o=i.removedTargetIds||[];e=new ld([],o,s,null)}else{if(!("filter"in t))return Ft();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,l=new vL(s,o),u=i.targetId;e=new $x(u,l)}}return e}function ML(n,t){let e;if(t instanceof oh)e={update:Jw(n,t.key,t.value)};else if(t instanceof E_)e={delete:Ay(n,t.key)};else if(t instanceof Oo)e={update:Jw(n,t.key,t.data),updateMask:jL(t.fieldMask)};else{if(!(t instanceof pL))return Ft();e={verify:Ay(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,l){const u=l.transform;if(u instanceof Id)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Bu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Dd)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Ft()}(0,i))),t.precondition.isNone||(e.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:CL(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ft()}(n,t.precondition)),e}function OL(n,t){return n&&n.length>0?(be(t!==void 0),n.map(e=>function(s,o){let l=s.updateTime?Rr(s.updateTime):Rr(o);return l.isEqual(Ht.min())&&(l=Rr(o)),new dL(l,s.transformResults||[])}(e,t))):[]}function kL(n,t){return{documents:[Qx(n,t.path)]}}function PL(n,t){const e={structuredQuery:{}},i=t.path;let s;t.collectionGroup!==null?(s=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=Qx(n,s);const o=function(d){if(d.length!==0)return Jx(tr.create(d,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const l=function(d){if(d.length!==0)return d.map(p=>function(b){return{field:xl(b.field),direction:VL(b.dir)}}(p))}(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Ty(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:e,parent:s}}function NL(n){let t=IL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let s=null;if(i>0){be(i===1);const p=e.from[0];p.allDescendants?s=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=function(_){const b=Zx(_);return b instanceof tr&&Cx(b)?b.getFilters():[b]}(e.where));let l=[];e.orderBy&&(l=function(_){return _.map(b=>function(S){return new Cd(Rl(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(b))}(e.orderBy));let u=null;e.limit&&(u=function(_){let b;return b=typeof _=="object"?_.value:_,sg(b)?null:b}(e.limit));let f=null;e.startAt&&(f=function(_){const b=!!_.before,T=_.values||[];return new Rd(T,b)}(e.startAt));let d=null;return e.endAt&&(d=function(_){const b=!_.before,T=_.values||[];return new Rd(T,b)}(e.endAt)),tL(t,s,l,o,u,"F",f,d)}function LL(n,t){const e=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Zx(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Rl(e.unaryFilter.field);return en.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Rl(e.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(e.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Rl(e.unaryFilter.field);return en.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Ft()}}(n):n.fieldFilter!==void 0?function(e){return en.create(Rl(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ft()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return tr.create(e.compositeFilter.filters.map(i=>Zx(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ft()}}(e.compositeFilter.op))}(n):Ft()}function VL(n){return SL[n]}function UL(n){return AL[n]}function zL(n){return xL[n]}function xl(n){return{fieldPath:n.canonicalString()}}function Rl(n){return On.fromServerFormat(n.fieldPath)}function Jx(n){return n instanceof en?function(e){if(e.op==="=="){if(jw(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NAN"}};if(zw(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jw(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NOT_NAN"}};if(zw(e.value))return{unaryFilter:{field:xl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(e.field),op:UL(e.op),value:e.value}}}(n):n instanceof tr?function(e){const i=e.getFilters().map(s=>Jx(s));return i.length===1?i[0]:{compositeFilter:{op:zL(e.op),filters:i}}}(n):Ft()}function jL(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function tR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,e,i,s,o=Ht.min(),l=Ht.min(),u=kn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=f}withSequenceNumber(t){return new sa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(t){this.Tt=t}}function FL(n){const t=NL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(){this.Tn=new qL}addToCollectionParentIndex(t,e){return this.Tn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Tn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(ya.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(ya.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class qL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e]||new fn(Pe.comparator),o=!s.has(i);return this.index[e]=s.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),s=this.index[e];return s&&s.has(i)}getEntries(t){return(this.index[t]||new fn(Pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eR=41943040;class ti{static withCacheSize(t){return new ti(t,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti.DEFAULT_COLLECTION_PERCENTILE=10,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ti.DEFAULT=new ti(eR,ti.DEFAULT_COLLECTION_PERCENTILE,ti.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ti.DISABLED=new ti(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Bl(0)}static Un(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="LruGarbageCollector",GL=1048576;function nT([n,t],[e,i]){const s=ie(n,e);return s===0?ie(t,i):s}class $L{constructor(t){this.Hn=t,this.buffer=new fn(nT),this.Jn=0}Yn(){return++this.Jn}Zn(t){const e=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();nT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class KL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){Et(eT,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xl(e)?Et(eT,"Ignoring IndexedDB error during garbage collection: ",e):await Ql(e)}await this.er(3e5)})}}class WL{constructor(t,e){this.tr=t,this.params=e}calculateTargetCount(t,e){return this.tr.nr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(rg.ae);const i=new $L(e);return this.tr.forEachTarget(t,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(t,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.tr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.tr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(tT)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.ir(t,e))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,e){let i,s,o,l,u,f,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,l=Date.now(),this.nthSequenceNumber(t,s))).next(_=>(i=_,u=Date.now(),this.removeTargets(t,i,e))).next(_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(_=>(d=Date.now(),Sl()<=te.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(u-l)+`ms
	Removed ${o} targets in `+(f-u)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-p}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_})))}}function YL(n,t){return new WL(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(){this.changes=new Mo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,jn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(t,e,i,s){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,e))).next(s=>(i!==null&&Ru(i.mutation,s,Xi.empty(),hn.now()),s))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,ee()).next(()=>i))}getLocalViewOfDocuments(t,e,i=ee()){const s=mo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,i).next(o=>{let l=mu();return o.forEach((u,f)=>{l=l.insert(u,f.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=mo();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,ee()))}populateOverlays(t,e,i){const s=[];return i.forEach(o=>{e.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(t,s).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,s){let o=ps();const l=xu(),u=function(){return xu()}();return e.forEach((f,d)=>{const p=i.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Oo)?o=o.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),Ru(p.mutation,d,p.mutation.getFieldMask(),hn.now())):l.set(d.key,Xi.empty())}),this.recalculateAndSaveOverlays(t,o).next(f=>(f.forEach((d,p)=>l.set(d,p)),e.forEach((d,p)=>{var _;return u.set(d,new XL(p,(_=l.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(t,e){const i=xu();let s=new Ue((l,u)=>l-u),o=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(f=>{const d=e.get(f);if(d===null)return;let p=i.get(f)||Xi.empty();p=u.applyToLocalView(d,p),i.set(f,p);const _=(s.get(u.batchId)||ee()).add(f);s=s.insert(u.batchId,_)})}).next(()=>{const l=[],u=s.getReverseIterator();for(;u.hasNext();){const f=u.getNext(),d=f.key,p=f.value,_=Vx();p.forEach(b=>{if(!o.has(b)){const T=Hx(e.get(b),i.get(b));T!==null&&_.set(b,T),o=o.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(t,d,_))}return ot.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,s){return function(l){return Lt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Ox(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,s):this.getDocumentsMatchingCollectionQuery(t,e,i,s)}getNextDocuments(t,e,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,s).next(o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,s-o.size):ot.resolve(mo());let u=Vu,f=o;return l.next(d=>ot.forEach(d,(p,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(p)?ot.resolve():this.remoteDocumentCache.getEntry(t,p).next(b=>{f=f.insert(p,b)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,f,d,ee())).next(p=>({batchId:u,changes:Lx(p)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Lt(e)).next(i=>{let s=mu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,e,i,s){const o=e.collectionGroup;let l=mu();return this.indexManager.getCollectionParents(t,o).next(u=>ot.forEach(u,f=>{const d=function(_,b){return new ah(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,s).next(p=>{p.forEach((_,b)=>{l=l.insert(_,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(t,e,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,s))).next(l=>{o.forEach((f,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,jn.newInvalidDocument(p)))});let u=mu();return l.forEach((f,d)=>{const p=o.get(f);p!==void 0&&Ru(p.mutation,d,Xi.empty(),hn.now()),lg(e,d)&&(u=u.insert(f,d))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,e){return ot.resolve(this.dr.get(e))}saveBundleMetadata(t,e){return this.dr.set(e.id,function(s){return{id:s.id,version:s.version,createTime:Rr(s.createTime)}}(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Ar.get(e))}saveNamedQuery(t,e){return this.Ar.set(e.name,function(s){return{name:s.name,query:FL(s.bundledQuery),readTime:Rr(s.readTime)}}(e)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(){this.overlays=new Ue(Lt.comparator),this.Rr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=mo();return ot.forEach(e,s=>this.getOverlay(t,s).next(o=>{o!==null&&i.set(s,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((s,o)=>{this.Et(t,e,o)}),ot.resolve()}removeOverlaysForBatchId(t,e,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const s=mo(),o=e.length+1,l=new Lt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const f=u.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&s.set(f.getKey(),f)}return ot.resolve(s)}getOverlaysForCollectionGroup(t,e,i,s){let o=new Ue((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let p=o.get(d.largestBatchId);p===null&&(p=mo(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const u=mo(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((d,p)=>u.set(d,p)),!(u.size()>=s)););return ot.resolve(u)}Et(t,e,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new _L(e,i));let o=this.Rr.get(e);o===void 0&&(o=ee(),this.Rr.set(e,o)),this.Rr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(){this.sessionToken=kn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(){this.Vr=new fn(Sn.mr),this.gr=new fn(Sn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,e){const i=new Sn(t,e);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.wr(new Sn(t,e))}br(t,e){t.forEach(i=>this.removeReference(i,e))}Sr(t){const e=new Lt(new Pe([])),i=new Sn(e,t),s=new Sn(e,t+1),o=[];return this.gr.forEachInRange([i,s],l=>{this.wr(l),o.push(l.key)}),o}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const e=new Lt(new Pe([])),i=new Sn(e,t),s=new Sn(e,t+1);let o=ee();return this.gr.forEachInRange([i,s],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new Sn(t,0),i=this.Vr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Sn{constructor(t,e){this.key=t,this.Cr=e}static mr(t,e){return Lt.comparator(t.key,e.key)||ie(t.Cr,e.Cr)}static pr(t,e){return ie(t.Cr,e.Cr)||Lt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Fr=1,this.Mr=new fn(Sn.mr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,s){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new yL(o,e,i,s);this.mutationQueue.push(l);for(const u of s)this.Mr=this.Mr.add(new Sn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,e){return ot.resolve(this.Or(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,s=this.Nr(i),o=s<0?0:s;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?g_:this.Fr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Sn(e,0),s=new Sn(e,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([i,s],l=>{const u=this.Or(l.Cr);o.push(u)}),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new fn(ie);return e.forEach(s=>{const o=new Sn(s,0),l=new Sn(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,l],u=>{i=i.add(u.Cr)})}),ot.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,s=i.length+1;let o=i;Lt.isDocumentKey(o)||(o=o.child(""));const l=new Sn(new Lt(o),0);let u=new fn(ie);return this.Mr.forEachWhile(f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===s&&(u=u.add(f.Cr)),!0)},l),ot.resolve(this.Br(u))}Br(t){const e=[];return t.forEach(i=>{const s=this.Or(i);s!==null&&e.push(s)}),e}removeMutationBatch(t,e){be(this.Lr(e.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ot.forEach(e.mutations,s=>{const o=new Sn(s.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.Mr=i})}qn(t){}containsKey(t,e){const i=new Sn(e,0),s=this.Mr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Lr(t,e){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const e=this.Nr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(t){this.kr=t,this.docs=function(){return new Ue(Lt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,s=this.docs.get(i),o=s?s.size:0,l=this.kr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():jn.newInvalidDocument(e))}getEntries(t,e){let i=ps();return e.forEach(s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():jn.newInvalidDocument(s))}),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,s){let o=ps();const l=e.path,u=new Lt(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:d,value:{document:p}}=f.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||ON(MN(p),i)<=0||(s.has(p.key)||lg(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,s){Ft()}qr(t,e){return ot.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new rV(this)}getSize(t){return ot.resolve(this.size)}}class rV extends QL{constructor(t){super(),this.Ir=t}applyChanges(t){const e=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?e.push(this.Ir.addEntry(t,s)):this.Ir.removeEntry(i)}),ot.waitFor(e)}getFromCache(t,e){return this.Ir.getEntry(t,e)}getAllFromCache(t,e){return this.Ir.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(t){this.persistence=t,this.Qr=new Mo(e=>y_(e),__),this.lastRemoteSnapshotVersion=Ht.min(),this.highestTargetId=0,this.$r=0,this.Kr=new A_,this.targetCount=0,this.Ur=Bl.Kn()}forEachTarget(t,e){return this.Qr.forEach((i,s)=>e(s)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.$r&&(this.$r=e),ot.resolve()}zn(t){this.Qr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ur=new Bl(e),this.highestTargetId=e),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,e){return this.zn(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.zn(e),ot.resolve()}removeTargetData(t,e){return this.Qr.delete(e.target),this.Kr.Sr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let s=0;const o=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.Qr.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),s++)}),ot.waitFor(o).next(()=>s)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.Qr.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.Kr.yr(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.Kr.br(e,i);const s=this.persistence.referenceDelegate,o=[];return s&&e.forEach(l=>{o.push(s.markPotentiallyOrphaned(t,l))}),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Kr.Sr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Kr.vr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.Kr.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,e){this.Wr={},this.overlays={},this.Gr=new rg(0),this.zr=!1,this.zr=!0,this.jr=new eV,this.referenceDelegate=t(this),this.Hr=new sV(this),this.indexManager=new HL,this.remoteDocumentCache=function(s){return new iV(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new BL(e),this.Yr=new JL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new tV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Wr[t.toKey()];return i||(i=new nV(e,this.referenceDelegate),this.Wr[t.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,e,i){Et("MemoryPersistence","Starting transaction:",t);const s=new aV(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(o=>this.referenceDelegate.Xr(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}ei(t,e){return ot.or(Object.values(this.Wr).map(i=>()=>i.containsKey(t,e)))}}class aV extends PN{constructor(t){super(),this.currentSequenceNumber=t}}class x_{constructor(t){this.persistence=t,this.ti=new A_,this.ni=null}static ri(t){return new x_(t)}get ii(){if(this.ni)return this.ni;throw Ft()}addReference(t,e,i){return this.ti.addReference(i,e),this.ii.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.ti.removeReference(i,e),this.ii.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.ii.add(e.toString()),ot.resolve()}removeTarget(t,e){this.ti.Sr(e.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(s=>{s.forEach(o=>this.ii.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Zr(){this.ni=new Set}Xr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.ii,i=>{const s=Lt.fromPath(i);return this.si(t,s).next(o=>{o||e.removeEntry(s,Ht.min())})}).next(()=>(this.ni=null,e.apply(t)))}updateLimboDocument(t,e){return this.si(t,e).next(i=>{i?this.ii.delete(e.toString()):this.ii.add(e.toString())})}Jr(t){return 0}si(t,e){return ot.or([()=>ot.resolve(this.ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.ei(t,e)])}}class Od{constructor(t,e){this.persistence=t,this.oi=new Mo(i=>VN(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=YL(this,e)}static ri(t,e){return new Od(t,e)}Zr(){}Xr(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}nr(t){const e=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(s=>i+s))}sr(t){let e=0;return this.rr(t,i=>{e++}).next(()=>e)}rr(t,e){return ot.forEach(this.oi,(i,s)=>this.ar(t,i,s).next(o=>o?ot.resolve():e(s)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.qr(t,l=>this.ar(t,l,e).next(u=>{u||(i++,o.removeEntry(l,Ht.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.oi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.oi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.oi.set(e,t.currentSequenceNumber),ot.resolve()}Jr(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sd(t.data.value)),e}ar(t,e,i){return ot.or([()=>this.persistence.ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const s=this.oi.get(e);return ot.resolve(s!==void 0&&s>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(t,e,i,s){this.targetId=t,this.fromCache=e,this.Hi=i,this.Ji=s}static Yi(t,e){let i=ee(),s=ee();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new R_(t,e.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qO()?8:NN(Fn())>0?6:4}()}initialize(t,e){this.ns=t,this.indexManager=e,this.Zi=!0}getDocumentsMatchingQuery(t,e,i,s){const o={result:null};return this.rs(t,e).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ss(t,e,s,i).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new oV;return this._s(t,e,l).next(u=>{if(o.result=u,this.Xi)return this.us(t,e,l,u.size)})}).next(()=>o.result)}us(t,e,i,s){return i.documentReadCount<this.es?(Sl()<=te.DEBUG&&Et("QueryEngine","SDK will not create cache indexes for query:",Al(e),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ot.resolve()):(Sl()<=te.DEBUG&&Et("QueryEngine","Query:",Al(e),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Sl()<=te.DEBUG&&Et("QueryEngine","The SDK decides to create cache indexes for query:",Al(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xr(e))):ot.resolve())}rs(t,e){if(qw(e))return ot.resolve(null);let i=xr(e);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(e.limit!==null&&s===1&&(e=wy(e,null,"F"),i=xr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=ee(...o);return this.ns.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(f=>{const d=this.cs(e,u);return this.ls(e,d,l,f.readTime)?this.rs(t,wy(e,null,"F")):this.hs(t,d,e,f)}))})))}ss(t,e,i,s){return qw(e)||s.isEqual(Ht.min())?ot.resolve(null):this.ns.getDocuments(t,i).next(o=>{const l=this.cs(e,o);return this.ls(e,l,i,s)?ot.resolve(null):(Sl()<=te.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Al(e)),this.hs(t,l,e,DN(s,Vu)).next(u=>u))})}cs(t,e){let i=new fn(Px(t));return e.forEach((s,o)=>{lg(t,o)&&(i=i.add(o))}),i}ls(t,e,i,s){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}_s(t,e,i){return Sl()<=te.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",Al(e)),this.ns.getDocumentsMatchingQuery(t,e,ya.min(),i)}hs(t,e,i,s){return this.ns.getDocumentsMatchingQuery(t,i,s).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LocalStore",cV=3e8;class uV{constructor(t,e,i,s){this.persistence=t,this.Ps=e,this.serializer=s,this.Ts=new Ue(ie),this.Is=new Mo(o=>y_(o),__),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(i)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ZL(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ts))}}function hV(n,t,e,i){return new uV(n,t,e,i)}async function iR(n,t){const e=Gt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let s;return e.mutationQueue.getAllMutationBatches(i).next(o=>(s=o,e.As(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let f=ee();for(const d of s){l.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}for(const d of o){u.push(d.batchId);for(const p of d.mutations)f=f.add(p.key)}return e.localDocuments.getDocuments(i,f).next(d=>({Rs:d,removedBatchIds:l,addedBatchIds:u}))})})}function fV(n,t){const e=Gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),o=e.ds.newChangeBuffer({trackRemovals:!0});return function(u,f,d,p){const _=d.batch,b=_.keys();let T=ot.resolve();return b.forEach(S=>{T=T.next(()=>p.getEntry(f,S)).next(D=>{const C=d.docVersions.get(S);be(C!==null),D.version.compareTo(C)<0&&(_.applyToRemoteDocument(D,d),D.isValidDocument()&&(D.setReadTime(d.commitVersion),p.addEntry(D)))})}),T.next(()=>u.mutationQueue.removeMutationBatch(f,_))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=ee();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(f=f.add(u.batch.mutations[d].key));return f}(t))).next(()=>e.localDocuments.getDocuments(i,s))})}function rR(n){const t=Gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Hr.getLastRemoteSnapshotVersion(e))}function dV(n,t){const e=Gt(n),i=t.snapshotVersion;let s=e.Ts;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.ds.newChangeBuffer({trackRemovals:!0});s=e.Ts;const u=[];t.targetChanges.forEach((p,_)=>{const b=s.get(_);if(!b)return;u.push(e.Hr.removeMatchingKeys(o,p.removedDocuments,_).next(()=>e.Hr.addMatchingKeys(o,p.addedDocuments,_)));let T=b.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(kn.EMPTY_BYTE_STRING,Ht.min()).withLastLimboFreeSnapshotVersion(Ht.min()):p.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(p.resumeToken,i)),s=s.insert(_,T),function(D,C,P){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=cV?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(b,T,p)&&u.push(e.Hr.updateTargetData(o,T))});let f=ps(),d=ee();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))}),u.push(gV(o,l,t.documentUpdates).next(p=>{f=p.Vs,d=p.fs})),!i.isEqual(Ht.min())){const p=e.Hr.getLastRemoteSnapshotVersion(o).next(_=>e.Hr.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(p)}return ot.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,f,d)).next(()=>f)}).then(o=>(e.Ts=s,o))}function gV(n,t,e){let i=ee(),s=ee();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=ps();return e.forEach((u,f)=>{const d=o.get(u);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(u)),f.isNoDocument()&&f.version.isEqual(Ht.min())?(t.removeEntry(u,f.readTime),l=l.insert(u,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),l=l.insert(u,f)):Et(C_,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",f.version)}),{Vs:l,fs:s}})}function mV(n,t){const e=Gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=g_),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function pV(n,t){const e=Gt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return e.Hr.getTargetData(i,t).next(o=>o?(s=o,ot.resolve(s)):e.Hr.allocateTargetId(i).next(l=>(s=new sa(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=e.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Ts=e.Ts.insert(i.targetId,i),e.Is.set(t,i.targetId)),i})}async function Ry(n,t,e){const i=Gt(n),s=i.Ts.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Xl(l))throw l;Et(C_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ts=i.Ts.remove(t),i.Is.delete(s.target)}function iT(n,t,e){const i=Gt(n);let s=Ht.min(),o=ee();return i.persistence.runTransaction("Execute query","readwrite",l=>function(f,d,p){const _=Gt(f),b=_.Is.get(p);return b!==void 0?ot.resolve(_.Ts.get(b)):_.Hr.getTargetData(d,p)}(i,l,xr(t)).next(u=>{if(u)return s=u.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(l,u.targetId).next(f=>{o=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(l,t,e?s:Ht.min(),e?o:ee())).next(u=>(yV(i,nL(t),u),{documents:u,gs:o})))}function yV(n,t,e){let i=n.Es.get(t)||Ht.min();e.forEach((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Es.set(t,i)}class rT{constructor(){this.activeTargetIds=lL()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _V{constructor(){this.ho=new rT,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,e,i){this.Po[t]=e}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new rT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="ConnectivityMonitor";class aT{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Et(sT,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){Et(sT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf=null;function Cy(){return Vf===null?Vf=function(){return 268435456+Math.round(2147483648*Math.random())}():Vf++,"0x"+Vf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="RestConnection",bV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EV{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=e+"://"+t.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Ad?`project_id=${i}`:`project_id=${i}&database_id=${s}`}bo(t,e,i,s,o){const l=Cy(),u=this.So(t,e.toUriEncodedString());Et(zp,`Sending RPC '${t}' ${l}:`,u,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,o),this.vo(t,u,f,i).then(d=>(Et(zp,`Received RPC '${t}' ${l}: `,d),d),d=>{throw Vl(zp,`RPC '${t}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Co(t,e,i,s,o,l){return this.bo(t,e,i,s,o)}Do(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,e){const i=bV[t];return`${this.po}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="WebChannelConnection";class TV extends EV{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,e,i,s){const o=Cy();return new Promise((l,u)=>{const f=new cx;f.setWithCredentials(!0),f.listenOnce(ux.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case rd.NO_ERROR:const p=f.getResponseJson();Et(Vn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(p)),l(p);break;case rd.TIMEOUT:Et(Vn,`RPC '${t}' ${o} timed out`),u(new St(ct.DEADLINE_EXCEEDED,"Request time out"));break;case rd.HTTP_ERROR:const _=f.getStatus();if(Et(Vn,`RPC '${t}' ${o} failed with status:`,_,"response text:",f.getResponseText()),_>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const T=b==null?void 0:b.error;if(T&&T.status&&T.message){const S=function(C){const P=C.toLowerCase().replace(/_/g,"-");return Object.values(ct).indexOf(P)>=0?P:ct.UNKNOWN}(T.status);u(new St(S,T.message))}else u(new St(ct.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new St(ct.UNAVAILABLE,"Connection failed."));break;default:Ft()}}finally{Et(Vn,`RPC '${t}' ${o} completed.`)}});const d=JSON.stringify(s);Et(Vn,`RPC '${t}' ${o} sending request:`,s),f.send(e,"POST",d,i,15)})}Wo(t,e,i){const s=Cy(),o=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=dx(),u=fx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=o.join("");Et(Vn,`Creating RPC '${t}' stream ${s}: ${p}`,f);const _=l.createWebChannel(p,f);let b=!1,T=!1;const S=new wV({Fo:C=>{T?Et(Vn,`Not sending because RPC '${t}' stream ${s} is closed:`,C):(b||(Et(Vn,`Opening RPC '${t}' stream ${s} transport.`),_.open(),b=!0),Et(Vn,`RPC '${t}' stream ${s} sending:`,C),_.send(C))},Mo:()=>_.close()}),D=(C,P,U)=>{C.listen(P,G=>{try{U(G)}catch(tt){setTimeout(()=>{throw tt},0)}})};return D(_,gu.EventType.OPEN,()=>{T||(Et(Vn,`RPC '${t}' stream ${s} transport opened.`),S.Qo())}),D(_,gu.EventType.CLOSE,()=>{T||(T=!0,Et(Vn,`RPC '${t}' stream ${s} transport closed`),S.Ko())}),D(_,gu.EventType.ERROR,C=>{T||(T=!0,Vl(Vn,`RPC '${t}' stream ${s} transport errored:`,C),S.Ko(new St(ct.UNAVAILABLE,"The operation could not be completed")))}),D(_,gu.EventType.MESSAGE,C=>{var P;if(!T){const U=C.data[0];be(!!U);const G=U,tt=(G==null?void 0:G.error)||((P=G[0])===null||P===void 0?void 0:P.error);if(tt){Et(Vn,`RPC '${t}' stream ${s} received error:`,tt);const O=tt.status;let K=function(A){const M=tn[A];if(M!==void 0)return Gx(M)}(O),k=tt.message;K===void 0&&(K=ct.INTERNAL,k="Unknown error status: "+O+" with message "+tt.message),T=!0,S.Ko(new St(K,k)),_.close()}else Et(Vn,`RPC '${t}' stream ${s} received:`,U),S.Uo(U)}}),D(u,hx.STAT_EVENT,C=>{C.stat===py.PROXY?Et(Vn,`RPC '${t}' stream ${s} detected buffering proxy`):C.stat===py.NOPROXY&&Et(Vn,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(n){return new RL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,e,i=1e3,s=1.5,o=6e4){this.Ti=t,this.timerId=e,this.Go=i,this.zo=s,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const e=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,e-i);s>0&&Et("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="PersistentStream";class aR{constructor(t,e,i,s,o,l,u,f){this.Ti=t,this.n_=i,this.r_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sR(t,e)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,e){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():e&&e.code===ct.RESOURCE_EXHAUSTED?(ms(e.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):e&&e.code===ct.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(e)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),e=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===e&&this.V_(i,s)},i=>{t(()=>{const s=new St(ct.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(t,e){const i=this.R_(this.i_);this.stream=this.f_(t,e),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return Et(oT,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return e=>{this.Ti.enqueueAndForget(()=>this.i_===t?e():(Et(oT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SV extends aR{constructor(t,e,i,s,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}f_(t,e){return this.connection.Wo("Listen",t,e)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const e=DL(this.serializer,t),i=function(o){if(!("targetChange"in o))return Ht.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Ht.min():l.readTime?Rr(l.readTime):Ht.min()}(t);return this.listener.p_(e,i)}y_(t){const e={};e.database=xy(this.serializer),e.addTarget=function(o,l){let u;const f=l.target;if(u=by(f)?{documents:kL(o,f)}:{query:PL(o,f).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=Wx(o,l.resumeToken);const d=Ty(o,l.expectedCount);d!==null&&(u.expectedCount=d)}else if(l.snapshotVersion.compareTo(Ht.min())>0){u.readTime=Md(o,l.snapshotVersion.toTimestamp());const d=Ty(o,l.expectedCount);d!==null&&(u.expectedCount=d)}return u}(this.serializer,t);const i=LL(this.serializer,t);i&&(e.labels=i),this.I_(e)}w_(t){const e={};e.database=xy(this.serializer),e.removeTarget=t,this.I_(e)}}class AV extends aR{constructor(t,e,i,s,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,s,l),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,e){return this.connection.Wo("Write",t,e)}g_(t){return be(!!t.streamToken),this.lastStreamToken=t.streamToken,be(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){be(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const e=OL(t.writeResults,t.commitTime),i=Rr(t.commitTime);return this.listener.v_(i,e)}C_(){const t={};t.database=xy(this.serializer),this.I_(t)}S_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ML(this.serializer,i))};this.I_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{}class RV extends xV{constructor(t,e,i,s){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,e,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.bo(t,Sy(e,i),s,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new St(ct.UNKNOWN,o.toString())})}Co(t,e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(t,Sy(e,i),s,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(ct.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class CV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ms(e),this.N_=!1):Et("OnlineStateTracker",e)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class IV{constructor(t,e,i,s,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(l=>{i.enqueueAndForget(async()=>{ko(this)&&(Et(So,"Restarting streams for network reachability change."),await async function(f){const d=Gt(f);d.W_.add(4),await ch(d),d.j_.set("Unknown"),d.W_.delete(4),await dg(d)}(this))})}),this.j_=new CV(i,s)}}async function dg(n){if(ko(n))for(const t of n.G_)await t(!0)}async function ch(n){for(const t of n.G_)await t(!1)}function oR(n,t){const e=Gt(n);e.U_.has(t.targetId)||(e.U_.set(t.targetId,t),O_(e)?M_(e):Zl(e).c_()&&D_(e,t))}function I_(n,t){const e=Gt(n),i=Zl(e);e.U_.delete(t),i.c_()&&lR(e,t),e.U_.size===0&&(i.c_()?i.P_():ko(e)&&e.j_.set("Unknown"))}function D_(n,t){if(n.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ht.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Zl(n).y_(t)}function lR(n,t){n.H_.Ne(t),Zl(n).w_(t)}function M_(n){n.H_=new TL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>n.U_.get(t)||null,it:()=>n.datastore.serializer.databaseId}),Zl(n).start(),n.j_.B_()}function O_(n){return ko(n)&&!Zl(n).u_()&&n.U_.size>0}function ko(n){return Gt(n).W_.size===0}function cR(n){n.H_=void 0}async function DV(n){n.j_.set("Online")}async function MV(n){n.U_.forEach((t,e)=>{D_(n,t)})}async function OV(n,t){cR(n),O_(n)?(n.j_.q_(t),M_(n)):n.j_.set("Unknown")}async function kV(n,t,e){if(n.j_.set("Online"),t instanceof Kx&&t.state===2&&t.cause)try{await async function(s,o){const l=o.cause;for(const u of o.targetIds)s.U_.has(u)&&(await s.remoteSyncer.rejectListen(u,l),s.U_.delete(u),s.H_.removeTarget(u))}(n,t)}catch(i){Et(So,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await kd(n,i)}else if(t instanceof ld?n.H_.We(t):t instanceof $x?n.H_.Ze(t):n.H_.je(t),!e.isEqual(Ht.min()))try{const i=await rR(n.localStore);e.compareTo(i)>=0&&await function(o,l){const u=o.H_.ot(l);return u.targetChanges.forEach((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const p=o.U_.get(d);p&&o.U_.set(d,p.withResumeToken(f.resumeToken,l))}}),u.targetMismatches.forEach((f,d)=>{const p=o.U_.get(f);if(!p)return;o.U_.set(f,p.withResumeToken(kn.EMPTY_BYTE_STRING,p.snapshotVersion)),lR(o,f);const _=new sa(p.target,f,d,p.sequenceNumber);D_(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,e)}catch(i){Et(So,"Failed to raise snapshot:",i),await kd(n,i)}}async function kd(n,t,e){if(!Xl(t))throw t;n.W_.add(1),await ch(n),n.j_.set("Offline"),e||(e=()=>rR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Et(So,"Retrying IndexedDB access"),await e(),n.W_.delete(1),await dg(n)})}function uR(n,t){return t().catch(e=>kd(n,e,t))}async function gg(n){const t=Gt(n),e=Ea(t);let i=t.K_.length>0?t.K_[t.K_.length-1].batchId:g_;for(;PV(t);)try{const s=await mV(t.localStore,i);if(s===null){t.K_.length===0&&e.P_();break}i=s.batchId,NV(t,s)}catch(s){await kd(t,s)}hR(t)&&fR(t)}function PV(n){return ko(n)&&n.K_.length<10}function NV(n,t){n.K_.push(t);const e=Ea(n);e.c_()&&e.b_&&e.S_(t.mutations)}function hR(n){return ko(n)&&!Ea(n).u_()&&n.K_.length>0}function fR(n){Ea(n).start()}async function LV(n){Ea(n).C_()}async function VV(n){const t=Ea(n);for(const e of n.K_)t.S_(e.mutations)}async function UV(n,t,e){const i=n.K_.shift(),s=w_.from(i,t,e);await uR(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await gg(n)}async function zV(n,t){t&&Ea(n).b_&&await async function(i,s){if(function(l){return bL(l)&&l!==ct.ABORTED}(s.code)){const o=i.K_.shift();Ea(i).h_(),await uR(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),await gg(i)}}(n,t),hR(n)&&fR(n)}async function lT(n,t){const e=Gt(n);e.asyncQueue.verifyOperationInProgress(),Et(So,"RemoteStore received new credentials");const i=ko(e);e.W_.add(3),await ch(e),i&&e.j_.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.W_.delete(3),await dg(e)}async function jV(n,t){const e=Gt(n);t?(e.W_.delete(2),await dg(e)):t||(e.W_.add(2),await ch(e),e.j_.set("Unknown"))}function Zl(n){return n.J_||(n.J_=function(e,i,s){const o=Gt(e);return o.M_(),new SV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:DV.bind(null,n),No:MV.bind(null,n),Lo:OV.bind(null,n),p_:kV.bind(null,n)}),n.G_.push(async t=>{t?(n.J_.h_(),O_(n)?M_(n):n.j_.set("Unknown")):(await n.J_.stop(),cR(n))})),n.J_}function Ea(n){return n.Y_||(n.Y_=function(e,i,s){const o=Gt(e);return o.M_(),new AV(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:LV.bind(null,n),Lo:zV.bind(null,n),D_:VV.bind(null,n),v_:UV.bind(null,n)}),n.G_.push(async t=>{t?(n.Y_.h_(),await gg(n)):(await n.Y_.stop(),n.K_.length>0&&(Et(So,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,e,i,s,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,s,o){const l=Date.now()+i,u=new k_(t,e,l,s,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(ct.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function P_(n,t){if(ms("AsyncQueue",`${t}: ${n}`),Xl(n))return new St(ct.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{static emptySet(t){return new Ol(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Lt.comparator(e.key,i.key):(e,i)=>Lt.comparator(e.key,i.key),this.keyedMap=mu(),this.sortedSet=new Ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Ol)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const s=e.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Ol;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.Z_=new Ue(Lt.comparator)}track(t){const e=t.doc.key,i=this.Z_.get(e);i?t.type!==0&&i.type===3?this.Z_=this.Z_.insert(e,t):t.type===3&&i.type!==1?this.Z_=this.Z_.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Z_=this.Z_.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Z_=this.Z_.remove(e):t.type===1&&i.type===2?this.Z_=this.Z_.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Z_=this.Z_.insert(e,{type:2,doc:t.doc}):Ft():this.Z_=this.Z_.insert(e,t)}X_(){const t=[];return this.Z_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Fl{constructor(t,e,i,s,o,l,u,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,s,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Fl(t,e,Ol.emptySet(e),l,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&og(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let s=0;s<e.length;s++)if(e[s].type!==i[s].type||!e[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class FV{constructor(){this.queries=uT(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(e,i){const s=Gt(e),o=s.queries;s.queries=uT(),o.forEach((l,u)=>{for(const f of u.ta)f.onError(i)})})(this,new St(ct.ABORTED,"Firestore shutting down"))}}function uT(){return new Mo(n=>kx(n),og)}async function dR(n,t){const e=Gt(n);let i=3;const s=t.query;let o=e.queries.get(s);o?!o.na()&&t.ra()&&(i=2):(o=new BV,i=t.ra()?0:1);try{switch(i){case 0:o.ea=await e.onListen(s,!0);break;case 1:o.ea=await e.onListen(s,!1);break;case 2:await e.onFirstRemoteStoreListen(s)}}catch(l){const u=P_(l,`Initialization of query '${Al(t.query)}' failed`);return void t.onError(u)}e.queries.set(s,o),o.ta.push(t),t.sa(e.onlineState),o.ea&&t.oa(o.ea)&&N_(e)}async function gR(n,t){const e=Gt(n),i=t.query;let s=3;const o=e.queries.get(i);if(o){const l=o.ta.indexOf(t);l>=0&&(o.ta.splice(l,1),o.ta.length===0?s=t.ra()?0:1:!o.na()&&t.ra()&&(s=2))}switch(s){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function HV(n,t){const e=Gt(n);let i=!1;for(const s of t){const o=s.query,l=e.queries.get(o);if(l){for(const u of l.ta)u.oa(s)&&(i=!0);l.ea=s}}i&&N_(e)}function qV(n,t,e){const i=Gt(n),s=i.queries.get(t);if(s)for(const o of s.ta)o.onError(e);i.queries.delete(t)}function N_(n){n.ia.forEach(t=>{t.next()})}var Iy,hT;(hT=Iy||(Iy={}))._a="default",hT.Cache="cache";class mR{constructor(t,e,i){this.query=t,this.aa=e,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Fl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ua?this.la(t)&&(this.aa.next(t),e=!0):this.ha(t,this.onlineState)&&(this.Pa(t),e=!0),this.ca=t,e}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let e=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),e=!0),e}ha(t,e){if(!t.fromCache||!this.ra())return!0;const i=e!=="Offline";return(!this.options.Ta||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}la(t){if(t.docChanges.length>0)return!0;const e=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Pa(t){t=Fl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.key=t}}class yR{constructor(t){this.key=t}}class GV{constructor(t,e){this.query=t,this.fa=e,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ee(),this.mutatedKeys=ee(),this.ya=Px(t),this.wa=new Ol(this.ya)}get ba(){return this.fa}Sa(t,e){const i=e?e.Da:new cT,s=e?e.wa:this.wa;let o=e?e.mutatedKeys:this.mutatedKeys,l=s,u=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((p,_)=>{const b=s.get(p),T=lg(this.query,_)?_:null,S=!!b&&this.mutatedKeys.has(b.key),D=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;b&&T?b.data.isEqual(T.data)?S!==D&&(i.track({type:3,doc:T}),C=!0):this.va(b,T)||(i.track({type:2,doc:T}),C=!0,(f&&this.ya(T,f)>0||d&&this.ya(T,d)<0)&&(u=!0)):!b&&T?(i.track({type:0,doc:T}),C=!0):b&&!T&&(i.track({type:1,doc:b}),C=!0,(f||d)&&(u=!0)),C&&(T?(l=l.add(T),o=D?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{wa:l,Da:i,ls:u,mutatedKeys:o}}va(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,s){const o=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const l=t.Da.X_();l.sort((p,_)=>function(T,S){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft()}};return D(T)-D(S)}(p.type,_.type)||this.ya(p.doc,_.doc)),this.Ca(i),s=s!=null&&s;const u=e&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,d=f!==this.ga;return this.ga=f,l.length!==0||d?{snapshot:new Fl(this.query,t.wa,o,l,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cT,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(e=>this.fa=this.fa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.fa=this.fa.delete(e)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=ee(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const e=[];return t.forEach(i=>{this.pa.has(i)||e.push(new yR(i))}),this.pa.forEach(i=>{t.has(i)||e.push(new pR(i))}),e}Oa(t){this.fa=t.gs,this.pa=ee();const e=this.Sa(t.documents);return this.applyChanges(e,!0)}Na(){return Fl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const L_="SyncEngine";class $V{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class KV{constructor(t){this.key=t,this.Ba=!1}}class WV{constructor(t,e,i,s,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new Mo(u=>kx(u),og),this.qa=new Map,this.Qa=new Set,this.$a=new Ue(Lt.comparator),this.Ka=new Map,this.Ua=new A_,this.Wa={},this.Ga=new Map,this.za=Bl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YV(n,t,e=!0){const i=TR(n);let s;const o=i.ka.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.Na()):s=await _R(i,t,e,!0),s}async function QV(n,t){const e=TR(n);await _R(e,t,!0,!1)}async function _R(n,t,e,i){const s=await pV(n.localStore,xr(t)),o=s.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await XV(n,t,o,l==="current",s.resumeToken)),n.isPrimaryClient&&e&&oR(n.remoteStore,s),u}async function XV(n,t,e,i,s){n.Ha=(_,b,T)=>async function(D,C,P,U){let G=C.view.Sa(P);G.ls&&(G=await iT(D.localStore,C.query,!1).then(({documents:k})=>C.view.Sa(k,G)));const tt=U&&U.targetChanges.get(C.targetId),O=U&&U.targetMismatches.get(C.targetId)!=null,K=C.view.applyChanges(G,D.isPrimaryClient,tt,O);return dT(D,C.targetId,K.Ma),K.snapshot}(n,_,b,T);const o=await iT(n.localStore,t,!0),l=new GV(t,o.gs),u=l.Sa(o.documents),f=lh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",s),d=l.applyChanges(u,n.isPrimaryClient,f);dT(n,e,d.Ma);const p=new $V(t,e,l);return n.ka.set(t,p),n.qa.has(e)?n.qa.get(e).push(t):n.qa.set(e,[t]),d.snapshot}async function ZV(n,t,e){const i=Gt(n),s=i.ka.get(t),o=i.qa.get(s.targetId);if(o.length>1)return i.qa.set(s.targetId,o.filter(l=>!og(l,t))),void i.ka.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ry(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),e&&I_(i.remoteStore,s.targetId),Dy(i,s.targetId)}).catch(Ql)):(Dy(i,s.targetId),await Ry(i.localStore,s.targetId,!0))}async function JV(n,t){const e=Gt(n),i=e.ka.get(t),s=e.qa.get(i.targetId);e.isPrimaryClient&&s.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),I_(e.remoteStore,i.targetId))}async function tU(n,t,e){const i=oU(n);try{const s=await function(l,u){const f=Gt(l),d=hn.now(),p=u.reduce((T,S)=>T.add(S.key),ee());let _,b;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let S=ps(),D=ee();return f.ds.getEntries(T,p).next(C=>{S=C,S.forEach((P,U)=>{U.isValidDocument()||(D=D.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,S)).next(C=>{_=C;const P=[];for(const U of u){const G=mL(U,_.get(U.key).overlayedDocument);G!=null&&P.push(new Oo(U.key,G,Ax(G.value.mapValue),Zi.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,P,u)}).next(C=>{b=C;const P=C.applyToLocalDocumentSet(_,D);return f.documentOverlayCache.saveOverlays(T,C.batchId,P)})}).then(()=>({batchId:b.batchId,changes:Lx(_)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(l,u,f){let d=l.Wa[l.currentUser.toKey()];d||(d=new Ue(ie)),d=d.insert(u,f),l.Wa[l.currentUser.toKey()]=d}(i,s.batchId,e),await uh(i,s.changes),await gg(i.remoteStore)}catch(s){const o=P_(s,"Failed to persist write");e.reject(o)}}async function vR(n,t){const e=Gt(n);try{const i=await dV(e.localStore,t);t.targetChanges.forEach((s,o)=>{const l=e.Ka.get(o);l&&(be(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?be(l.Ba):s.removedDocuments.size>0&&(be(l.Ba),l.Ba=!1))}),await uh(e,i,t)}catch(i){await Ql(i)}}function fT(n,t,e){const i=Gt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const s=[];i.ka.forEach((o,l)=>{const u=l.view.sa(t);u.snapshot&&s.push(u.snapshot)}),function(l,u){const f=Gt(l);f.onlineState=u;let d=!1;f.queries.forEach((p,_)=>{for(const b of _.ta)b.sa(u)&&(d=!0)}),d&&N_(f)}(i.eventManager,t),s.length&&i.La.p_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function eU(n,t,e){const i=Gt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const s=i.Ka.get(t),o=s&&s.key;if(o){let l=new Ue(Lt.comparator);l=l.insert(o,jn.newNoDocument(o,Ht.min()));const u=ee().add(o),f=new hg(Ht.min(),new Map,new Ue(ie),l,u);await vR(i,f),i.$a=i.$a.remove(o),i.Ka.delete(t),V_(i)}else await Ry(i.localStore,t,!1).then(()=>Dy(i,t,e)).catch(Ql)}async function nU(n,t){const e=Gt(n),i=t.batch.batchId;try{const s=await fV(e.localStore,t);ER(e,i,null),bR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await uh(e,s)}catch(s){await Ql(s)}}async function iU(n,t,e){const i=Gt(n);try{const s=await function(l,u){const f=Gt(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return f.mutationQueue.lookupMutationBatch(d,u).next(_=>(be(_!==null),p=_.keys(),f.mutationQueue.removeMutationBatch(d,_))).next(()=>f.mutationQueue.performConsistencyCheck(d)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(d,p,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>f.localDocuments.getDocuments(d,p))})}(i.localStore,t);ER(i,t,e),bR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await uh(i,s)}catch(s){await Ql(s)}}function bR(n,t){(n.Ga.get(t)||[]).forEach(e=>{e.resolve()}),n.Ga.delete(t)}function ER(n,t,e){const i=Gt(n);let s=i.Wa[i.currentUser.toKey()];if(s){const o=s.get(t);o&&(e?o.reject(e):o.resolve(),s=s.remove(t)),i.Wa[i.currentUser.toKey()]=s}}function Dy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.qa.get(t))n.ka.delete(i),e&&n.La.Ja(i,e);n.qa.delete(t),n.isPrimaryClient&&n.Ua.Sr(t).forEach(i=>{n.Ua.containsKey(i)||wR(n,i)})}function wR(n,t){n.Qa.delete(t.path.canonicalString());const e=n.$a.get(t);e!==null&&(I_(n.remoteStore,e),n.$a=n.$a.remove(t),n.Ka.delete(e),V_(n))}function dT(n,t,e){for(const i of e)i instanceof pR?(n.Ua.addReference(i.key,t),rU(n,i)):i instanceof yR?(Et(L_,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,t),n.Ua.containsKey(i.key)||wR(n,i.key)):Ft()}function rU(n,t){const e=t.key,i=e.path.canonicalString();n.$a.get(e)||n.Qa.has(i)||(Et(L_,"New document in limbo: "+e),n.Qa.add(i),V_(n))}function V_(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const t=n.Qa.values().next().value;n.Qa.delete(t);const e=new Lt(Pe.fromString(t)),i=n.za.next();n.Ka.set(i,new KV(e)),n.$a=n.$a.insert(e,i),oR(n.remoteStore,new sa(xr(v_(e.path)),i,"TargetPurposeLimboResolution",rg.ae))}}async function uh(n,t,e){const i=Gt(n),s=[],o=[],l=[];i.ka.isEmpty()||(i.ka.forEach((u,f)=>{l.push(i.Ha(f,t,e).then(d=>{var p;if((d||e)&&i.isPrimaryClient){const _=d?!d.fromCache:(p=e==null?void 0:e.targetChanges.get(f.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){s.push(d);const _=R_.Yi(f.targetId,d);o.push(_)}}))}),await Promise.all(l),i.La.p_(s),await async function(f,d){const p=Gt(f);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ot.forEach(d,b=>ot.forEach(b.Hi,T=>p.persistence.referenceDelegate.addReference(_,b.targetId,T)).next(()=>ot.forEach(b.Ji,T=>p.persistence.referenceDelegate.removeReference(_,b.targetId,T)))))}catch(_){if(!Xl(_))throw _;Et(C_,"Failed to update sequence numbers: "+_)}for(const _ of d){const b=_.targetId;if(!_.fromCache){const T=p.Ts.get(b),S=T.snapshotVersion,D=T.withLastLimboFreeSnapshotVersion(S);p.Ts=p.Ts.insert(b,D)}}}(i.localStore,o))}async function sU(n,t){const e=Gt(n);if(!e.currentUser.isEqual(t)){Et(L_,"User change. New user:",t.toKey());const i=await iR(e.localStore,t);e.currentUser=t,function(o,l){o.Ga.forEach(u=>{u.forEach(f=>{f.reject(new St(ct.CANCELLED,l))})}),o.Ga.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await uh(e,i.Rs)}}function aU(n,t){const e=Gt(n),i=e.Ka.get(t);if(i&&i.Ba)return ee().add(i.key);{let s=ee();const o=e.qa.get(t);if(!o)return s;for(const l of o){const u=e.ka.get(l);s=s.unionWith(u.view.ba)}return s}}function TR(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eU.bind(null,t),t.La.p_=HV.bind(null,t.eventManager),t.La.Ja=qV.bind(null,t.eventManager),t}function oU(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iU.bind(null,t),t}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=fg(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,e){return null}nu(t,e){return null}eu(t){return hV(this.persistence,new lV,t.initialUser,this.serializer)}Xa(t){return new nR(x_.ri,this.serializer)}Za(t){return new _V}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class lU extends Pd{constructor(t){super(),this.cacheSizeBytes=t}tu(t,e){be(this.persistence.referenceDelegate instanceof Od);const i=this.persistence.referenceDelegate.garbageCollector;return new KL(i,t.asyncQueue,e)}Xa(t){const e=this.cacheSizeBytes!==void 0?ti.withCacheSize(this.cacheSizeBytes):ti.DEFAULT;return new nR(i=>Od.ri(i,e),this.serializer)}}class My{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=sU.bind(null,this.syncEngine),await jV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new FV}()}createDatastore(t){const e=fg(t.databaseInfo.databaseId),i=function(o){return new TV(o)}(t.databaseInfo);return function(o,l,u,f){return new RV(o,l,u,f)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,s,o,l,u){return new IV(i,s,o,l,u)}(this.localStore,this.datastore,t.asyncQueue,e=>fT(this.syncEngine,e,0),function(){return aT.D()?new aT:new vV}())}createSyncEngine(t,e){return function(s,o,l,u,f,d,p){const _=new WV(s,o,l,u,f,d);return p&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(s){const o=Gt(s);Et(So,"RemoteStore shutting down."),o.W_.add(5),await ch(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}My.provider={build:()=>new My};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ms("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class cU{constructor(t,e,i,s,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=s,this.user=zn.UNAUTHENTICATED,this.clientId=mx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async l=>{Et(wa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Et(wa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=P_(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Bp(n,t){n.asyncQueue.verifyOperationInProgress(),Et(wa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await iR(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function gT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await uU(n);Et(wa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>lT(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>lT(t.remoteStore,s)),n._onlineComponents=t}async function uU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Et(wa,"Using user provided OfflineComponentProvider");try{await Bp(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(s){return s.name==="FirebaseError"?s.code===ct.FAILED_PRECONDITION||s.code===ct.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(e))throw e;Vl("Error using user provided cache. Falling back to memory cache: "+e),await Bp(n,new Pd)}}else Et(wa,"Using default OfflineComponentProvider"),await Bp(n,new lU(void 0));return n._offlineComponents}async function AR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Et(wa,"Using user provided OnlineComponentProvider"),await gT(n,n._uninitializedComponentsProvider._online)):(Et(wa,"Using default OnlineComponentProvider"),await gT(n,new My))),n._onlineComponents}function hU(n){return AR(n).then(t=>t.syncEngine)}async function xR(n){const t=await AR(n),e=t.eventManager;return e.onListen=YV.bind(null,t.syncEngine),e.onUnlisten=ZV.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=QV.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=JV.bind(null,t.syncEngine),e}function fU(n,t,e={}){const i=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,d){const p=new SR({next:b=>{p.su(),l.enqueueAndForget(()=>gR(o,_));const T=b.docs.has(u);!T&&b.fromCache?d.reject(new St(ct.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&b.fromCache&&f&&f.source==="server"?d.reject(new St(ct.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new mR(v_(u.path),p,{includeMetadataChanges:!0,Ta:!0});return dR(o,_)}(await xR(n),n.asyncQueue,t,e,i)),i.promise}function dU(n,t,e={}){const i=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,f,d){const p=new SR({next:b=>{p.su(),l.enqueueAndForget(()=>gR(o,_)),b.fromCache&&f.source==="server"?d.reject(new St(ct.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(b)},error:b=>d.reject(b)}),_=new mR(u,p,{includeMetadataChanges:!0,Ta:!0});return dR(o,_)}(await xR(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(n,t,e){if(!e)throw new St(ct.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gU(n,t,e,i){if(t===!0&&i===!0)throw new St(ct.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function pT(n){if(!Lt.isDocumentKey(n))throw new St(ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function yT(n){if(Lt.isDocumentKey(n))throw new St(ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ft()}function ys(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new St(ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=mg(n);throw new St(ct.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="firestore.googleapis.com",_T=!0;class vT{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new St(ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IR,this.ssl=_T}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:_T;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<GL)throw new St(ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gU("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RR((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new St(ct.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class pg{constructor(t,e,i,s){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new St(ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new wN;switch(i.type){case"firstParty":return new xN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new St(ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=mT.get(e);i&&(Et("ComponentProvider","Removing Datastore"),mT.delete(e),i.terminate())}(this),Promise.resolve()}}function mU(n,t,e,i={}){var s;const o=(n=ys(n,pg))._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),u=`${t}:${e}`;o.host!==IR&&o.host!==u&&Vl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},o),{host:u,ssl:!1,emulatorOptions:i});if(!vo(f,l)&&(n._setSettings(f),i.mockUserToken)){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=zn.MOCK_USER;else{d=VO(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new St(ct.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zn(_)}n._authCredentials=new TN(new gx(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Jl(this.firestore,t,this._query)}}class ri{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ri(this.firestore,t,this._key)}}class fa extends Jl{constructor(t,e,i){super(t,e,v_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ri(this.firestore,null,new Lt(t))}withConverter(t){return new fa(this.firestore,t,this._path)}}function DR(n,t,...e){if(n=gi(n),CR("collection","path",t),n instanceof pg){const i=Pe.fromString(t,...e);return yT(i),new fa(n,null,i)}{if(!(n instanceof ri||n instanceof fa))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pe.fromString(t,...e));return yT(i),new fa(n.firestore,null,i)}}function yg(n,t,...e){if(n=gi(n),arguments.length===1&&(t=mx.newId()),CR("doc","path",t),n instanceof pg){const i=Pe.fromString(t,...e);return pT(i),new ri(n,null,new Lt(i))}{if(!(n instanceof ri||n instanceof fa))throw new St(ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pe.fromString(t,...e));return pT(i),new ri(n.firestore,n instanceof fa?n.converter:null,new Lt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="AsyncQueue";class ET{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sR(this,"async_queue_retry"),this.bu=()=>{const i=jp();i&&Et(bT,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.Su=t;const e=jp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const e=jp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const e=new fs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Xl(t))throw t;Et(bT,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const e=this.Su.then(()=>(this.pu=!0,t().catch(i=>{this.gu=i,this.pu=!1;const s=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(i);throw ms("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.Su=e,e}enqueueAfterDelay(t,e,i){this.Du(),this.wu.indexOf(t)>-1&&(e=0);const s=k_.createAndSchedule(this,t,e,i,o=>this.Fu(o));return this.fu.push(s),s}Du(){this.gu&&Ft()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const e of this.fu)if(e.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.fu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const e=this.fu.indexOf(t);this.fu.splice(e,1)}}class tc extends pg{constructor(t,e,i,s){super(t,e,i,s),this.type="firestore",this._queue=new ET,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ET(t),this._firestoreClient=void 0,await t}}}function pU(n,t){const e=typeof n=="object"?n:SA(),i=typeof n=="string"?n:Ad,s=i_(e,"firestore").getImmediate({identifier:i});if(!s._initialized){const o=NO("firestore");o&&mU(s,...o)}return s}function U_(n){if(n._terminated)throw new St(ct.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||yU(n),n._firestoreClient}function yU(n){var t,e,i;const s=n._freezeSettings(),o=function(u,f,d,p){return new jN(u,f,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,RR(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((e=s.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new cU(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const f=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Hl(kn.fromBase64String(t))}catch(e){throw new St(ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Hl(kn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new St(ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new St(ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new St(ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ie(this._lat,t._lat)||ie(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=/^__.*__$/;class vU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Oo(t,this.data,this.fieldMask,e,this.fieldTransforms):new oh(t,this.data,e,this.fieldTransforms)}}function OR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft()}}class F_{constructor(t,e,i,s,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new F_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.$u(t),s}Ku(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Nd(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(OR(this.Lu)&&_U.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class bU{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||fg(t)}ju(t,e,i,s=!1){return new F_({Lu:t,methodName:e,zu:i,path:On.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H_(n){const t=n._freezeSettings(),e=fg(n._databaseId);return new bU(n._databaseId,!!t.ignoreUndefinedProperties,e)}function kR(n,t,e,i,s,o={}){const l=n.ju(o.merge||o.mergeFields?2:0,t,e,s);LR("Data must be an object, but it was:",l,i);const u=PR(i,l);let f,d;if(o.merge)f=new Xi(l.fieldMask),d=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const b=wU(t,_,e);if(!l.contains(b))throw new St(ct.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);SU(p,b)||p.push(b)}f=new Xi(p),d=l.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,d=l.fieldTransforms;return new vU(new Vi(u),f,d)}function EU(n,t,e,i=!1){return q_(e,n.ju(i?4:3,t))}function q_(n,t){if(NR(n=gi(n)))return LR("Unsupported field value:",t,n),PR(n,t);if(n instanceof MR)return function(i,s){if(!OR(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(i,s){const o=[];let l=0;for(const u of i){let f=q_(u,s.Uu(l));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),l++}return{arrayValue:{values:o}}}(n,t)}return function(i,s){if((i=gi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return cL(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=hn.fromDate(i);return{timestampValue:Md(s.serializer,o)}}if(i instanceof hn){const o=new hn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Md(s.serializer,o)}}if(i instanceof j_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Hl)return{bytesValue:Wx(s.serializer,i._byteString)};if(i instanceof ri){const o=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:S_(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof B_)return function(l,u){return{mapValue:{fields:{[Tx]:{stringValue:Sx},[xd]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw u.Wu("VectorValues must only contain numeric values.");return b_(u.serializer,d)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${mg(i)}`)}(n,t)}function PR(n,t){const e={};return yx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Do(n,(i,s)=>{const o=q_(s,t.qu(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function NR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof hn||n instanceof j_||n instanceof Hl||n instanceof ri||n instanceof MR||n instanceof B_)}function LR(n,t,e){if(!NR(e)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(e)){const i=mg(e);throw i==="an object"?t.Wu(n+" a custom object"):t.Wu(n+" "+i)}}function wU(n,t,e){if((t=gi(t))instanceof z_)return t._internalPath;if(typeof t=="string")return VR(n,t);throw Nd("Field path arguments must be of type string or ",n,!1,void 0,e)}const TU=new RegExp("[~\\*/\\[\\]]");function VR(n,t,e){if(t.search(TU)>=0)throw Nd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new z_(...t.split("."))._internalPath}catch{throw Nd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Nd(n,t,e,i,s){const o=i&&!i.isEmpty(),l=s!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let f="";return(o||l)&&(f+=" (found",o&&(f+=` in field ${i}`),l&&(f+=` in document ${s}`),f+=")"),new St(ct.INVALID_ARGUMENT,u+n+f)}function SU(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,e,i,s,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new AU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(G_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class AU extends UR{data(){return super.data()}}function G_(n,t){return typeof t=="string"?VR(n,t):t instanceof z_?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new St(ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $_{}class RU extends $_{}function CU(n,t,...e){let i=[];t instanceof $_&&i.push(t),i=i.concat(e),function(o){const l=o.filter(f=>f instanceof K_).length,u=o.filter(f=>f instanceof _g).length;if(l>1||l>0&&u>0)throw new St(ct.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class _g extends RU{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new _g(t,e,i)}_apply(t){const e=this._parse(t);return jR(t._query,e),new Jl(t.firestore,t.converter,Ey(t._query,e))}_parse(t){const e=H_(t.firestore);return function(o,l,u,f,d,p,_){let b;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new St(ct.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){TT(_,p);const S=[];for(const D of _)S.push(wT(f,o,D));b={arrayValue:{values:S}}}else b=wT(f,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||TT(_,p),b=EU(u,l,_,p==="in"||p==="not-in");return en.create(d,p,b)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function zR(n,t,e){const i=t,s=G_("where",n);return _g._create(s,i,e)}class K_ extends $_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new K_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return e.length===1?e[0]:tr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(s,o){let l=s;const u=o.getFlattenedFilters();for(const f of u)jR(l,f),l=Ey(l,f)}(t._query,e),new Jl(t.firestore,t.converter,Ey(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wT(n,t,e){if(typeof(e=gi(e))=="string"){if(e==="")throw new St(ct.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(t)&&e.indexOf("/")!==-1)throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Pe.fromString(e));if(!Lt.isDocumentKey(i))throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Uw(n,new Lt(i))}if(e instanceof ri)return Uw(n,e._key);throw new St(ct.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mg(e)}.`)}function TT(n,t){if(!Array.isArray(n)||n.length===0)throw new St(ct.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jR(n,t){const e=function(s,o){for(const l of s)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new St(ct.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class IU{convertValue(t,e="none"){switch(ba(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ke(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(va(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Do(t,(s,o)=>{i[s]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,s;const o=(s=(i=(e=t.fields)===null||e===void 0?void 0:e[xd].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Ke(l.doubleValue));return new B_(o)}convertGeoPoint(t){return new j_(Ke(t.latitude),Ke(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ag(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Uu(t));default:return null}}convertTimestamp(t){const e=_a(t);return new hn(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Pe.fromString(t);be(tR(i));const s=new zu(i.get(1),i.get(3)),o=new Lt(i.popFirst(5));return s.isEqual(e)||ms(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class FR extends UR{constructor(t,e,i,s,o,l){super(t,e,i,s,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(G_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class cd extends FR{data(t={}){return super.data(t)}}class DU{constructor(t,e,i,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new yu(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new cd(this._firestore,this._userDataWriter,i.key,i,new yu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new St(ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(u=>{const f=new cd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new yu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);return u.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const f=new cd(s._firestore,s._userDataWriter,u.doc.key,u.doc,new yu(s._snapshot.mutatedKeys.has(u.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return u.type!==0&&(d=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:MU(u.type),doc:f,oldIndex:d,newIndex:p}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(n){n=ys(n,ri);const t=ys(n.firestore,tc);return fU(U_(t),n._key).then(e=>VU(t,n,e))}class HR extends IU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,e)}}function kU(n){n=ys(n,Jl);const t=ys(n.firestore,tc),e=U_(t),i=new HR(t);return xU(n._query),dU(e,n._query).then(s=>new DU(t,i,n,s))}function PU(n,t,e){n=ys(n,ri);const i=ys(n.firestore,tc),s=BR(n.converter,t,e);return W_(i,[kR(H_(i),"setDoc",n._key,s,n.converter!==null,e).toMutation(n._key,Zi.none())])}function NU(n){return W_(ys(n.firestore,tc),[new E_(n._key,Zi.none())])}function LU(n,t){const e=ys(n.firestore,tc),i=yg(n),s=BR(n.converter,t);return W_(e,[kR(H_(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,Zi.exists(!1))]).then(()=>i)}function W_(n,t){return function(i,s){const o=new fs;return i.asyncQueue.enqueueAndForget(async()=>tU(await hU(i),s,o)),o.promise}(U_(n),t)}function VU(n,t,e){const i=e.docs.get(t._key),s=new HR(n);return new FR(n,s,t._key,i,new yu(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(s){Yl=s})(Kl),Ll(new bo("firestore",(i,{instanceIdentifier:s,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new tc(new SN(i.getProvider("auth-internal")),new RN(l,i.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new St(ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(d.options.projectId,p)}(l,s),l);return o=Object.assign({useFetchStreams:e},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),ua(Rw,Cw,t),ua(Rw,Cw,"esm2017")})();const UU={authDomain:"e-commerce-a87ac.firebaseapp.com",apiKey:"AIzaSyANWNSUHVz0EqBsl2UjJhxjqNiD881TEYw",projectId:"e-commerce-a87ac",storageBucket:"e-commerce-a87ac.firebasestorage.app",messagingSenderId:"374967070814",appId:"1:374967070814:web:049536ce13649e184184cf",measurementId:"G-NVX0C27FR2"},qR=TA(UU),ec=_N(qR),hh=pU(qR),vg=async(n,t,e)=>{try{const i=yg(hh,n,t),s=await PU(i,e,{merge:!0});return console.log("Document written with ID: ",t),{success:!0,message:"Document written successfully!",data:s}}catch(i){return console.error("Error adding document: ",i),{success:!1,message:i,data:null}}},Y_=async(n,t)=>{try{const e=DR(hh,n),i=await LU(e,t);return console.log("Document Add with ID: ",i.id),{success:!0,message:"Document Add successfully!",data:i}}catch(e){return console.error("Error adding document: ",e),{success:!1,message:e,data:null}}},ei=async(n,t)=>{try{let e=DR(hh,n);return t&&(e=CU(e,t)),{success:!0,message:"Collection fetched successfully!",data:(await kU(e)).docs.map(o=>({id:o.id,...o.data()}))}}catch(e){return console.error("Error getting collection: ",e),{success:!1,message:e,data:null}}},Ld=async(n,t)=>{try{let e=yg(hh,n);const i=await OU(e);return{success:!0,message:"Collection fetched successfully!",data:{id:i.id,...i.data()}}}catch(e){return console.error("Error getting collection: ",e),{success:!1,message:e,data:null}}},zU=async(n,t)=>{try{const e=yg(hh,n,t);return await NU(e),console.log("Document deleted with ID: ",t),{success:!0,message:"Document deleted successfully!"}}catch(e){return console.error("Error deleting document: ",e),{success:!1,message:e}}},jU=async(n,t)=>{try{const e=t.get("firstName"),i=t.get("lastName"),s=t.get("email"),o=!!t.get("showOrders"),l=t.get("password");console.log("email",s);const u=await rP(ec,s,l),f={firstName:e,lastName:i,email:s,showOrders:o,createdAt:new Date},d=await vg("users",u.user.uid,f);return console.log("User created successfully!",u.user),{success:!0,message:"User created successfully!"}}catch(e){return console.error("Error creating user:",e),{success:!1,message:e}}},BU=async(n,t)=>{try{const e=t.get("email"),i=t.get("password"),s=await sP(ec,e,i);return console.log("User logged in successfully!",s.user),localStorage.setItem("token",s.user.uid),{success:!0,message:"User logged in successfully!"}}catch(e){return console.error("Error logging in user:",e),{success:!1,message:e.message}}},Hu=({children:n})=>F.jsx("h2",{className:"font-bold text-3xl text-center",children:n}),GR=({label:n,type:t,id:e,name:i,className:s,defaultValue:o,...l})=>{const[u,f]=$.useState(o||!1);return F.jsxs("div",{className:pa("flex flex-col mb-2",s),children:[n&&F.jsx("label",{htmlFor:e,children:n}),F.jsx("input",{value:u,onChange:d=>f(d.target.checked),checked:u,className:"border border-gray-300 rounded-md p-2 h-full",type:t,id:e,name:i,...l})]})},FU=()=>{const n=Yd(),[t,e]=$.useActionState(jU,{succeess:!1,message:null});return $.useEffect(()=>{t.success&&n("/")},[t]),F.jsxs("div",{className:"paper",children:[F.jsx(Hu,{children:"Sign Up"}),F.jsxs("form",{className:"flex flex-col w-full ",action:e,children:[F.jsx(He,{label:"First Name",type:"text",id:"first_name",name:"firstName"}),F.jsx(He,{label:"Last Name",type:"text",id:"last_name",name:"lastName"}),F.jsx(He,{label:"Email",type:"email",id:"email",name:"email"}),F.jsx(He,{label:"Password",type:"password",id:"password",name:"password"}),F.jsx(GR,{label:"Allow Others to see my orders",type:"checkbox",id:"showOrders",name:"showOrders",className:"flex-row-reverse justify-end gap-3"}),t.message&&F.jsx("p",{className:"text-red-500 text-center",children:t.message.toString()}),F.jsx(_o,{children:"Sign Up"})]}),F.jsxs("p",{children:["Already have an account? ",F.jsx(Zu,{className:"underline ",to:"/",children:"Login"})]})]})},HU=({route:n,...t})=>{const e=Sa().pathname,i=Ou(e,n.path);return F.jsx("li",{className:`${i?"underline":""} text-xl `,...t,children:F.jsx(Zu,{to:n.path,children:n.id})})},$R=({routes:n})=>F.jsx("nav",{className:"sticky w-full ",children:F.jsx("ul",{className:"flex justify-center items-center gap-6 h-16",children:n.map(t=>F.jsx(HU,{route:t},t.id))})}),Q_=()=>{const[n,t]=$.useState(null),e=Yd();$.useEffect(()=>{i()},[ec.currentUser]);const i=async()=>{const s=localStorage.getItem("token");if(s){const o=await Ld("users/"+s);o.data?t(o.data):(localStorage.removeItem("token"),e("/login"))}else e("/login")};return{currentUser:n}},qU=()=>(Q_(),F.jsxs("div",{className:"flex-grow w-full flex flex-col",children:[F.jsxs("div",{className:"p-4 border-b-2 border-gray-400 sticky z-10 top-0 bg-white",children:[F.jsx("h2",{className:"text-3xl font-bold text-center",children:"Hello Admin"}),F.jsx($R,{routes:z1})]}),F.jsx("div",{className:"bg-gray-400  flex-grow ",children:F.jsx(Qy,{})})]})),fh=({action:n,children:t,className:e,onSuccess:i,...s})=>{const o=$.useRef(null),[l,u]=$.useActionState(n,{success:!1,message:""}),f=Yy();return $.useEffect(()=>{l!=null&&l.success&&(f.revalidate(),o.current.reset(),i&&i(l.message))},[l]),F.jsxs("form",{action:u,ref:o,className:"flex flex-col w-full "+e,...s,children:[t,!(l!=null&&l.success)&&(l==null?void 0:l.message)&&F.jsx("p",{children:l==null?void 0:l.message})]})},KR=async(n,t)=>{const e=t.get("name"),i=t.get("id");if(!e)return{success:!1,message:"Category name is required"};try{return i?await vg("categories",i,{name:e}):await Y_("categories",{name:e}),{success:!0,message:"Category added successfully"}}catch(s){return{success:!1,message:s.message}}},GU=async(n,t)=>{const e=t.get("title"),i=t.get("category"),s=t.get("description"),o=t.get("price"),l=t.get("imageUrl"),u=t.get("id"),f={title:e,category:i,price:o,description:s,imageUrl:l};try{return u?await vg("products",u,f):await Y_("products",f),{success:!0,message:"Category added successfully"}}catch(d){return{success:!1,message:d.message}}},$U=async n=>{try{const t=await ei("orders",zR("productsInOrder."+n,"!=",""));return console.log("orders",t),t}catch(t){return console.log("error",t),{success:!1,message:t.message}}},KU=({category:n})=>{const[t,e]=$.useState(!1),[i,s]=$.useState("button"),o=Yy(),l=async()=>{(await zU("categories",n.id)).success&&o.revalidate()},u=()=>{o.revalidate(),e(!1)};return F.jsxs(fh,{className:"paper flex-row justify-between ",action:t?KR:()=>e(!0),onSuccess:u,children:[t?F.jsxs(F.Fragment,{children:[F.jsx(He,{id:"name",defaultValue:n.name,name:"name"}),F.jsx(He,{id:"id",type:"hidden",value:n.id,name:"id"})]}):F.jsx(Hu,{children:n.name}),F.jsxs("div",{className:"flex gap-4",children:[F.jsx(_o,{children:"Update"}),F.jsx(_o,{formAction:l,children:"Remove"})]})]})},WU=()=>F.jsxs(fh,{className:"flex-row gap-4 w-full",action:KR,children:[F.jsx(He,{className:"m-0 flex-grow",id:"name",name:"name",placeholder:"Add new category"}),F.jsx(_o,{children:"Add"})]}),YU=()=>{const n=Co();return console.log("categories",n),F.jsxs("section",{className:"flex flex-col justify-around gap-4 p-4",children:[F.jsx(Hu,{children:"Categories"}),F.jsxs("div",{className:"paper  ",children:[n.length===0?F.jsx(Hu,{children:"No Categories"}):n.map(t=>F.jsx(KU,{category:t},t.id)),F.jsx(WU,{})]})]})},QU=({label:n,type:t,id:e,name:i,className:s,defaultValue:o,...l})=>{const[u,f]=$.useState(o);return F.jsxs("div",{className:pa("flex flex-col mb-2",s),children:[n&&F.jsx("label",{htmlFor:e,children:n}),F.jsx("textarea",{className:"border border-gray-300 rounded-md p-2 h-full",value:u,onChange:d=>f(d.target.value),type:t,id:e,name:i,...l})]})},X_=({options:n,label:t,type:e,id:i,name:s,className:o,defaultValue:l,accessField:u=p=>p,onSelect:f,...d})=>{const[p,_]=$.useState(!1),[b,T]=$.useState([]),[S,D]=$.useState(l||"");$.useEffect(()=>{console.log("number ",typeof n.length),typeof n.length=="number"?T(n):Promise.resolve(n).then(P=>{_(!1),T(P.data)})},[]);const C=P=>{const U=b.every(tt=>u(tt)!==P.target.value),G=b.find(tt=>u(tt)===P.target.value);P.target.setCustomValidity(U?"You must choose option from the list":""),console.log("isNotMatch",U),D(P.target.value),U||f(P,G)};return F.jsxs("div",{className:pa("flex flex-col mb-2",o),children:[t&&F.jsx("label",{htmlFor:i,children:t}),F.jsx("input",{type:"text",list:s,onChange:C,value:S,className:"border border-gray-300 rounded-md p-2 h-full",id:i,name:s,...d}),F.jsx("datalist",{id:s,children:p?F.jsx("option",{children:" loading..."}):b.map((P,U)=>F.jsx("option",{children:u(P)},U))})]})},WR=(n,t)=>{const e=t.split(".");return e.length===1?n[e[0]]:WR(n[e[0]],e.slice(1).join("."))},Vd=({columns:n,data:t})=>(console.log("columns",n),console.log("data",t),!n||!t?F.jsx("p",{children:"No data found"}):F.jsxs("table",{className:" table table-auto relative  w-full border border-gray-300 border-collapse  rounded-2xl ",children:[F.jsx("thead",{className:"sticky top-0",children:F.jsx("tr",{children:n.map(e=>F.jsxs("th",{className:"py-2 px-1 border border-gray-300 bg-gray-200",children:[" ",e.header]},e.header))})}),F.jsx("tbody",{className:"text-center ",children:t.map((e,i)=>F.jsx("tr",{className:pa(i%2&&"bg-gray-200","hover:bg-white"),children:n.map(s=>F.jsx("td",{className:pa("border border-gray-300 py-1 px-2"),children:s.cell?s.cell(e):WR(e,s.accessField)},e.id+s.header))},e.id))})]})),XU=({product:n})=>{const t=[{header:"name",accessField:"user.name",cell:o=>`${o.user.firstName} ${o.user.lastName}`},{header:"qty",accessField:`productsInOrder.${n.id}.quantity`},{header:"date",accessField:"orderDate",cell:o=>o.orderDate.toDate().toLocaleDateString("he-il").replaceAll(".","/")}],e=Yy(),[i,s]=$.useState([]);return $.useEffect(()=>{$U(n.id).then(o=>{console.log("orders.data",o.data),s(o.data)})},[]),F.jsx("div",{className:"paper",children:F.jsxs(fh,{action:GU,onSuccess:e.revalidate,children:[F.jsxs("div",{className:"grid grid-cols-2 gap-4 grid-flow-row",children:[F.jsx(He,{id:"id",name:"id",className:"hidden",defaultValue:n.id,type:"hidden"}),F.jsx(He,{id:"title",name:"title",defaultValue:n.title,label:"Title"}),F.jsx(He,{id:"price",name:"price",label:"Price",defaultValue:n.price}),F.jsx(X_,{options:ei("categories"),id:"categoryId",name:"category",label:"Category",placeholder:"Please select a category",defaultValue:n.category,accessField:o=>o.name}),F.jsx(He,{id:"imageUrl",name:"imageUrl",label:"Link to pic",defaultValue:n.imageUrl,type:"url"}),F.jsx(QU,{id:"description",name:"description",label:"Description",defaultValue:n.description}),F.jsxs("div",{className:"max-h-40 ",children:[F.jsx("label",{htmlFor:"orders",children:"Bought By"}),F.jsx("div",{className:"max-h-40 overflow-y-scroll",children:F.jsx(Vd,{columns:t,data:i})})]})]}),F.jsx(_o,{className:"self-start",children:"Save"})]})})},ZU=()=>{const n=Co(),[t,e]=$.useState(n),i=()=>{e(s=>[...s,{}])};return F.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 p-4",children:[t.map(s=>F.jsx(XU,{product:s},s.id)),F.jsx(Jd,{onClick:i,children:"Add product"})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function dh(n){return n+.5|0}const aa=(n,t,e)=>Math.max(Math.min(n,e),t);function _u(n){return aa(dh(n*2.55),0,255)}function da(n){return aa(dh(n*255),0,255)}function as(n){return aa(dh(n/2.55)/100,0,1)}function ST(n){return aa(dh(n*100),0,100)}const Pi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Oy=[..."0123456789ABCDEF"],JU=n=>Oy[n&15],t4=n=>Oy[(n&240)>>4]+Oy[n&15],Uf=n=>(n&240)>>4===(n&15),e4=n=>Uf(n.r)&&Uf(n.g)&&Uf(n.b)&&Uf(n.a);function n4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Pi[n[1]]*17,g:255&Pi[n[2]]*17,b:255&Pi[n[3]]*17,a:t===5?Pi[n[4]]*17:255}:(t===7||t===9)&&(e={r:Pi[n[1]]<<4|Pi[n[2]],g:Pi[n[3]]<<4|Pi[n[4]],b:Pi[n[5]]<<4|Pi[n[6]],a:t===9?Pi[n[7]]<<4|Pi[n[8]]:255})),e}const i4=(n,t)=>n<255?t(n):"";function r4(n){var t=e4(n)?JU:t4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+i4(n.a,t):void 0}const s4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YR(n,t,e){const i=t*Math.min(e,1-e),s=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function a4(n,t,e){const i=(s,o=(s+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function o4(n,t,e){const i=YR(n,1,.5);let s;for(t+e>1&&(s=1/(t+e),t*=s,e*=s),s=0;s<3;s++)i[s]*=1-t-e,i[s]+=t;return i}function l4(n,t,e,i,s){return n===s?(t-e)/i+(t<e?6:0):t===s?(e-n)/i+2:(n-t)/i+4}function Z_(n){const e=n.r/255,i=n.g/255,s=n.b/255,o=Math.max(e,i,s),l=Math.min(e,i,s),u=(o+l)/2;let f,d,p;return o!==l&&(p=o-l,d=u>.5?p/(2-o-l):p/(o+l),f=l4(e,i,s,p,o),f=f*60+.5),[f|0,d||0,u]}function J_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(da)}function tv(n,t,e){return J_(YR,n,t,e)}function c4(n,t,e){return J_(o4,n,t,e)}function u4(n,t,e){return J_(a4,n,t,e)}function QR(n){return(n%360+360)%360}function h4(n){const t=s4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?_u(+t[5]):da(+t[5]));const s=QR(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=c4(s,o,l):t[1]==="hsv"?i=u4(s,o,l):i=tv(s,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function f4(n,t){var e=Z_(n);e[0]=QR(e[0]+t),e=tv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function d4(n){if(!n)return;const t=Z_(n),e=t[0],i=ST(t[1]),s=ST(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${s}%, ${as(n.a)})`:`hsl(${e}, ${i}%, ${s}%)`}const AT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},xT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function g4(){const n={},t=Object.keys(xT),e=Object.keys(AT);let i,s,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],s=0;s<e.length;s++)o=e[s],u=u.replace(o,AT[o]);o=parseInt(xT[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let zf;function m4(n){zf||(zf=g4(),zf.transparent=[0,0,0,0]);const t=zf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const p4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function y4(n){const t=p4.exec(n);let e=255,i,s,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?_u(l):aa(l*255,0,255)}return i=+t[1],s=+t[3],o=+t[5],i=255&(t[2]?_u(i):aa(i,0,255)),s=255&(t[4]?_u(s):aa(s,0,255)),o=255&(t[6]?_u(o):aa(o,0,255)),{r:i,g:s,b:o,a:e}}}function _4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${as(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Fp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,wl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function v4(n,t,e){const i=wl(as(n.r)),s=wl(as(n.g)),o=wl(as(n.b));return{r:da(Fp(i+e*(wl(as(t.r))-i))),g:da(Fp(s+e*(wl(as(t.g))-s))),b:da(Fp(o+e*(wl(as(t.b))-o))),a:n.a+e*(t.a-n.a)}}function jf(n,t,e){if(n){let i=Z_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=tv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function XR(n,t){return n&&Object.assign(t||{},n)}function RT(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=da(n[3]))):(t=XR(n,{r:0,g:0,b:0,a:1}),t.a=da(t.a)),t}function b4(n){return n.charAt(0)==="r"?y4(n):h4(n)}class qu{constructor(t){if(t instanceof qu)return t;const e=typeof t;let i;e==="object"?i=RT(t):e==="string"&&(i=n4(t)||m4(t)||b4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=XR(this._rgb);return t&&(t.a=as(t.a)),t}set rgb(t){this._rgb=RT(t)}rgbString(){return this._valid?_4(this._rgb):void 0}hexString(){return this._valid?r4(this._rgb):void 0}hslString(){return this._valid?d4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,s=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,f=i.a-s.a,d=((u*f===-1?u:(u+f)/(1+u*f))+1)/2;o=1-d,i.r=255&d*i.r+o*s.r+.5,i.g=255&d*i.g+o*s.g+.5,i.b=255&d*i.b+o*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=v4(this._rgb,t._rgb,e)),this}clone(){return new qu(this.rgb)}alpha(t){return this._rgb.a=da(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=dh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jf(this._rgb,2,t),this}darken(t){return jf(this._rgb,2,-t),this}saturate(t){return jf(this._rgb,1,t),this}desaturate(t){return jf(this._rgb,1,-t),this}rotate(t){return f4(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function is(){}const E4=(()=>{let n=0;return()=>n++})();function Ce(n){return n==null}function cn(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function he(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ji(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function vr(n,t){return ji(n)?n:t}function _e(n,t){return typeof n>"u"?t:n}const w4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,ZR=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ke(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function we(n,t,e,i){let s,o,l;if(cn(n))for(o=n.length,s=0;s<o;s++)t.call(e,n[s],s);else if(he(n))for(l=Object.keys(n),o=l.length,s=0;s<o;s++)t.call(e,n[l[s]],l[s])}function Ud(n,t){let e,i,s,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(s=n[e],o=t[e],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function zd(n){if(cn(n))return n.map(zd);if(he(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let s=0;for(;s<i;++s)t[e[s]]=zd(n[e[s]]);return t}return n}function JR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function T4(n,t,e,i){if(!JR(n))return;const s=t[n],o=e[n];he(s)&&he(o)?Gu(s,o,i):t[n]=zd(o)}function Gu(n,t,e){const i=cn(t)?t:[t],s=i.length;if(!he(n))return n;e=e||{};const o=e.merger||T4;let l;for(let u=0;u<s;++u){if(l=i[u],!he(l))continue;const f=Object.keys(l);for(let d=0,p=f.length;d<p;++d)o(f[d],n,l,e)}return n}function Cu(n,t){return Gu(n,t,{merger:S4})}function S4(n,t,e){if(!JR(n))return;const i=t[n],s=e[n];he(i)&&he(s)?Cu(i,s):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=zd(s))}const CT={"":n=>n,x:n=>n.x,y:n=>n.y};function A4(n){const t=n.split("."),e=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function x4(n){const t=A4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ao(n,t){return(CT[t]||(CT[t]=x4(t)))(n)}function ev(n){return n.charAt(0).toUpperCase()+n.slice(1)}const $u=n=>typeof n<"u",Ta=n=>typeof n=="function",IT=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function R4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const rn=Math.PI,nn=2*rn,jd=Number.POSITIVE_INFINITY,C4=rn/180,un=rn/2,ao=rn/4,DT=rn*2/3,t1=Math.log10,ga=Math.sign;function ud(n,t,e){return Math.abs(n-t)<e}function MT(n){const t=Math.round(n);n=ud(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(t1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function I4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((s,o)=>s-o).pop(),t}function D4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bd(n){return!D4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function M4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function O4(n,t,e){let i,s,o;for(i=0,s=n.length;i<s;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function us(n){return n*(rn/180)}function k4(n){return n*(180/rn)}function OT(n){if(!ji(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function e1(n,t){const e=t.x-n.x,i=t.y-n.y,s=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*rn&&(o+=nn),{angle:o,distance:s}}function P4(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function oo(n){return(n%nn+nn)%nn}function Fd(n,t,e,i){const s=oo(n),o=oo(t),l=oo(e),u=oo(o-s),f=oo(l-s),d=oo(s-o),p=oo(s-l);return s===o||s===l||i&&o===l||u>f&&d<p}function ii(n,t,e){return Math.max(t,Math.min(e,n))}function N4(n){return ii(n,-32768,32767)}function po(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function nv(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,s=0,o;for(;i-s>1;)o=s+i>>1,e(o)?s=o:i=o;return{lo:s,hi:i}}const ky=(n,t,e,i)=>nv(n,e,i?s=>{const o=n[s][t];return o<e||o===e&&n[s+1][t]===e}:s=>n[s][t]<e),L4=(n,t,e)=>nv(n,e,i=>n[i][t]>=e);function V4(n,t,e){let i=0,s=n.length;for(;i<s&&n[i]<t;)i++;for(;s>i&&n[s-1]>e;)s--;return i>0||s<n.length?n.slice(i,s):n}const n1=["push","pop","shift","splice","unshift"];function U4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),n1.forEach(e=>{const i="_onData"+ev(e),s=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=s.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function kT(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(n1.forEach(o=>{delete n[o]}),delete n._chartjs)}function i1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const r1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function s1(n,t){let e=[],i=!1;return function(...s){e=s,i||(i=!0,r1.call(window,()=>{i=!1,n.apply(t,e)}))}}function z4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const iv=n=>n==="start"?"left":n==="end"?"right":"center",Un=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,j4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t,Bf=n=>n===0||n===1,PT=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*nn/e)),NT=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*nn/e)+1,Iu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*un)+1,easeOutSine:n=>Math.sin(n*un),easeInOutSine:n=>-.5*(Math.cos(rn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Bf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Bf(n)?n:PT(n,.075,.3),easeOutElastic:n=>Bf(n)?n:NT(n,.075,.3),easeInOutElastic(n){return Bf(n)?n:n<.5?.5*PT(n*2,.1125,.45):.5+.5*NT(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Iu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Iu.easeInBounce(n*2)*.5:Iu.easeOutBounce(n*2-1)*.5+.5};function a1(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function LT(n){return a1(n)?n:new qu(n)}function Hp(n){return a1(n)?n:new qu(n).saturate(.5).darken(.1).hexString()}const B4=["x","y","borderWidth","radius","tension"],F4=["color","borderColor","backgroundColor"];function H4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:F4},numbers:{type:"number",properties:B4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function q4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const VT=new Map;function G4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=VT.get(e);return i||(i=new Intl.NumberFormat(n,t),VT.set(e,i)),i}function rv(n,t,e){return G4(t,e).format(n)}const $4={values(n){return cn(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let s,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(s="scientific"),o=K4(n,e)}const l=t1(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:s,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(f,this.options.ticks.format),rv(n,i,f)}};function K4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var o1={formatters:$4};function W4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:o1.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const xo=Object.create(null),Py=Object.create(null);function Du(n,t){if(!t)return n;const e=t.split(".");for(let i=0,s=e.length;i<s;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function qp(n,t,e){return typeof t=="string"?Gu(Du(n,t),e):Gu(Du(n,""),t)}class Y4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Hp(s.backgroundColor),this.hoverBorderColor=(i,s)=>Hp(s.borderColor),this.hoverColor=(i,s)=>Hp(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return qp(this,t,e)}get(t){return Du(this,t)}describe(t,e){return qp(Py,t,e)}override(t,e){return qp(xo,t,e)}route(t,e,i,s){const o=Du(this,t),l=Du(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[u],d=l[s];return he(f)?Object.assign({},d,f):_e(f,d)},set(f){this[u]=f}}})}apply(t){t.forEach(e=>e(this))}}var We=new Y4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[H4,q4,W4]);function Q4(n){return!n||Ce(n.size)||Ce(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function UT(n,t,e,i,s){let o=t[s];return o||(o=t[s]=n.measureText(s).width,e.push(s)),o>i&&(i=o),i}function lo(n,t,e){const i=n.currentDevicePixelRatio,s=e!==0?Math.max(e/2,.5):0;return Math.round((t-s)*i)/i+s}function zT(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function jT(n,t,e,i){l1(n,t,e,i,null)}function l1(n,t,e,i,s){let o,l,u,f,d,p,_,b;const T=t.pointStyle,S=t.rotation,D=t.radius;let C=(S||0)*C4;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(D)||D<=0)){switch(n.beginPath(),T){default:s?n.ellipse(e,i,s/2,D,0,0,nn):n.arc(e,i,D,0,nn),n.closePath();break;case"triangle":p=s?s/2:D,n.moveTo(e+Math.sin(C)*p,i-Math.cos(C)*D),C+=DT,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*D),C+=DT,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*D),n.closePath();break;case"rectRounded":d=D*.516,f=D-d,l=Math.cos(C+ao)*f,_=Math.cos(C+ao)*(s?s/2-d:f),u=Math.sin(C+ao)*f,b=Math.sin(C+ao)*(s?s/2-d:f),n.arc(e-_,i-u,d,C-rn,C-un),n.arc(e+b,i-l,d,C-un,C),n.arc(e+_,i+u,d,C,C+un),n.arc(e-b,i+l,d,C+un,C+rn),n.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*D,p=s?s/2:f,n.rect(e-p,i-f,2*p,2*f);break}C+=ao;case"rectRot":_=Math.cos(C)*(s?s/2:D),l=Math.cos(C)*D,u=Math.sin(C)*D,b=Math.sin(C)*(s?s/2:D),n.moveTo(e-_,i-u),n.lineTo(e+b,i-l),n.lineTo(e+_,i+u),n.lineTo(e-b,i+l),n.closePath();break;case"crossRot":C+=ao;case"cross":_=Math.cos(C)*(s?s/2:D),l=Math.cos(C)*D,u=Math.sin(C)*D,b=Math.sin(C)*(s?s/2:D),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"star":_=Math.cos(C)*(s?s/2:D),l=Math.cos(C)*D,u=Math.sin(C)*D,b=Math.sin(C)*(s?s/2:D),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l),C+=ao,_=Math.cos(C)*(s?s/2:D),l=Math.cos(C)*D,u=Math.sin(C)*D,b=Math.sin(C)*(s?s/2:D),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+b,i-l),n.lineTo(e-b,i+l);break;case"line":l=s?s/2:Math.cos(C)*D,u=Math.sin(C)*D,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(s?s/2:D),i+Math.sin(C)*D);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function c1(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function sv(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function av(n){n.restore()}function X4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ce(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function Z4(n,t,e,i,s){if(s.strikethrough||s.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,p=s.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function J4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ku(n,t,e,i,s,o={}){const l=cn(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=s.string,X4(n,o),f=0;f<l.length;++f)d=l[f],o.backdrop&&J4(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ce(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),Z4(n,e,i,d,o),i+=Number(s.lineHeight);n.restore()}function Hd(n,t){const{x:e,y:i,w:s,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*rn,rn,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,rn,un,!0),n.lineTo(e+s-l.bottomRight,i+o),n.arc(e+s-l.bottomRight,i+o-l.bottomRight,l.bottomRight,un,0,!0),n.lineTo(e+s,i+l.topRight),n.arc(e+s-l.topRight,i+l.topRight,l.topRight,0,-un,!0),n.lineTo(e+l.topLeft,i)}const tz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,ez=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function nz(n,t){const e=(""+n).match(tz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const iz=n=>+n||0;function ov(n,t){const e={},i=he(t),s=i?Object.keys(t):t,o=he(n)?i?l=>_e(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of s)e[l]=iz(o(l));return e}function u1(n){return ov(n,{top:"y",right:"x",bottom:"y",left:"x"})}function kl(n){return ov(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Bi(n){const t=u1(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bn(n,t){n=n||{},t=t||We.font;let e=_e(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=_e(n.style,t.style);i&&!(""+i).match(ez)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:_e(n.family,t.family),lineHeight:nz(_e(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:_e(n.weight,t.weight),string:""};return s.string=Q4(s),s}function Ff(n,t,e,i){let s,o,l;for(s=0,o=n.length;s<o;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function rz(n,t,e){const{min:i,max:s}=n,o=ZR(t,(s-i)/2),l=(u,f)=>e&&u===0?0:u+f;return{min:l(i,-Math.abs(o)),max:l(s,o)}}function nc(n,t){return Object.assign(Object.create(n),t)}function lv(n,t=[""],e,i,s=()=>n[0]){const o=e||n;typeof i>"u"&&(i=g1("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:s,override:u=>lv([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,f){return delete u[f],delete u._keys,delete n[0][f],!0},get(u,f){return f1(u,f,()=>fz(f,t,n,u))},getOwnPropertyDescriptor(u,f){return Reflect.getOwnPropertyDescriptor(u._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,f){return FT(u).includes(f)},ownKeys(u){return FT(u)},set(u,f,d){const p=u._storage||(u._storage=s());return u[f]=p[f]=d,delete u._keys,!0}})}function ql(n,t,e,i){const s={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:h1(n,i),setContext:o=>ql(n,o,e,i),override:o=>ql(n.override(o),t,e,i)};return new Proxy(s,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return f1(o,l,()=>az(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function h1(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=n;return{allKeys:s,scriptable:e,indexable:i,isScriptable:Ta(e)?e:()=>e,isIndexable:Ta(i)?i:()=>i}}const sz=(n,t)=>n?n+ev(t):t,cv=(n,t)=>he(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function f1(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function az(n,t,e){const{_proxy:i,_context:s,_subProxy:o,_descriptors:l}=n;let u=i[t];return Ta(u)&&l.isScriptable(t)&&(u=oz(t,u,n,e)),cn(u)&&u.length&&(u=lz(t,u,n,l.isIndexable)),cv(t,u)&&(u=ql(u,s,o&&o[t],l)),u}function oz(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let f=t(o,l||i);return u.delete(n),cv(n,f)&&(f=uv(s._scopes,s,n,f)),f}function lz(n,t,e,i){const{_proxy:s,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(he(t[0])){const f=t,d=s._scopes.filter(p=>p!==f);t=[];for(const p of f){const _=uv(d,s,n,p);t.push(ql(_,o,l&&l[n],u))}}return t}function d1(n,t,e){return Ta(n)?n(t,e):n}const cz=(n,t)=>n===!0?t:typeof n=="string"?Ao(t,n):void 0;function uz(n,t,e,i,s){for(const o of t){const l=cz(e,o);if(l){n.add(l);const u=d1(l._fallback,e,s);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function uv(n,t,e,i){const s=t._rootScopes,o=d1(t._fallback,e,i),l=[...n,...s],u=new Set;u.add(i);let f=BT(u,l,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=BT(u,l,o,f,i),f===null)?!1:lv(Array.from(u),[""],s,o,()=>hz(t,e,i))}function BT(n,t,e,i,s){for(;e;)e=uz(n,t,e,i,s);return e}function hz(n,t,e){const i=n._getTarget();t in i||(i[t]={});const s=i[t];return cn(s)&&he(e)?e:s||{}}function fz(n,t,e,i){let s;for(const o of t)if(s=g1(sz(o,n),e),typeof s<"u")return cv(n,s)?uv(e,i,n,s):s}function g1(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function FT(n){let t=n._keys;return t||(t=n._keys=dz(n._scopes)),t}function dz(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function hv(){return typeof window<"u"&&typeof document<"u"}function fv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function qd(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const bg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function gz(n,t){return bg(n).getPropertyValue(t)}const mz=["top","right","bottom","left"];function yo(n,t,e){const i={};e=e?"-"+e:"";for(let s=0;s<4;s++){const o=mz[s];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const pz=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function yz(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:s,offsetY:o}=i;let l=!1,u,f;if(pz(s,o,n.target))u=s,f=o;else{const d=t.getBoundingClientRect();u=i.clientX-d.left,f=i.clientY-d.top,l=!0}return{x:u,y:f,box:l}}function ho(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,s=bg(e),o=s.boxSizing==="border-box",l=yo(s,"padding"),u=yo(s,"border","width"),{x:f,y:d,box:p}=yz(n,e),_=l.left+(p&&u.left),b=l.top+(p&&u.top);let{width:T,height:S}=t;return o&&(T-=l.width+u.width,S-=l.height+u.height),{x:Math.round((f-_)/T*e.width/i),y:Math.round((d-b)/S*e.height/i)}}function _z(n,t,e){let i,s;if(t===void 0||e===void 0){const o=n&&fv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=bg(o),f=yo(u,"border","width"),d=yo(u,"padding");t=l.width-d.width-f.width,e=l.height-d.height-f.height,i=qd(u.maxWidth,o,"clientWidth"),s=qd(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||jd,maxHeight:s||jd}}const Hf=n=>Math.round(n*10)/10;function vz(n,t,e,i){const s=bg(n),o=yo(s,"margin"),l=qd(s.maxWidth,n,"clientWidth")||jd,u=qd(s.maxHeight,n,"clientHeight")||jd,f=_z(n,t,e);let{width:d,height:p}=f;if(s.boxSizing==="content-box"){const b=yo(s,"border","width"),T=yo(s,"padding");d-=T.width+b.width,p-=T.height+b.height}return d=Math.max(0,d-o.width),p=Math.max(0,i?d/i:p-o.height),d=Hf(Math.min(d,l,f.maxWidth)),p=Hf(Math.min(p,u,f.maxHeight)),d&&!p&&(p=Hf(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&p>f.height&&(p=f.height,d=Hf(Math.floor(p*i))),{width:d,height:p}}function HT(n,t,e){const i=t||1,s=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==o?(n.currentDevicePixelRatio=i,l.height=s,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const bz=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};hv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function qT(n,t){const e=gz(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}const Ez=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},wz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Pl(n,t,e){return n?Ez(t,e):wz()}function m1(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function p1(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Tz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,s){const o=e.listeners[s],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=r1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(s.draw(),this._notify(s,i,t,"progress")),o.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var rs=new Tz;const GT="transparent",Sz={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=LT(n||GT),s=i.valid&&LT(t||GT);return s&&s.valid?s.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Az{constructor(t,e,i,s){const o=e[i];s=Ff([t.to,s,o,t.from]);const l=Ff([t.from,o,s]);this._active=!0,this._fn=t.fn||Sz[t.type||typeof l],this._easing=Iu[t.easing]||Iu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const s=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Ff([t.to,e,s,t.from]),this._from=Ff([t.from,s,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,s=this._prop,o=this._from,l=this._loop,u=this._to;let f;if(this._active=o!==u&&(l||e<i),!this._active){this._target[s]=u,this._notify(!0);return}if(e<0){this._target[s]=o;return}f=e/i%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[s]=this._fn(o,u,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][e]()}}class y1{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!he(t))return;const e=Object.keys(We.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const o=t[s];if(!he(o))return;const l={};for(const u of e)l[u]=o[u];(cn(o.properties)&&o.properties||[s]).forEach(u=>{(u===s||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,s=Rz(t,i);if(!s)return[];const o=this._createAnimations(s,i);return i.$shared&&xz(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,s=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let f;for(f=l.length-1;f>=0;--f){const d=l[f];if(d.charAt(0)==="$")continue;if(d==="options"){s.push(...this._animateOptions(t,e));continue}const p=e[d];let _=o[d];const b=i.get(d);if(_)if(b&&_.active()){_.update(b,p,u);continue}else _.cancel();if(!b||!b.duration){t[d]=p;continue}o[d]=_=new Az(b,t,d,p),s.push(_)}return s}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return rs.add(this._chart,i),!0}}function xz(n,t){const e=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const o=n[i[s]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Rz(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function $T(n,t){const e=n&&n.options||{},i=e.reverse,s=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:s,end:i?s:o}}function Cz(n,t,e){if(e===!1)return!1;const i=$T(n,e),s=$T(t,e);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Iz(n){let t,e,i,s;return he(n)?(t=n.top,e=n.right,i=n.bottom,s=n.left):t=e=i=s=n,{top:t,right:e,bottom:i,left:s,disabled:n===!1}}function _1(n,t){const e=[],i=n._getSortedDatasetMetas(t);let s,o;for(s=0,o=i.length;s<o;++s)e.push(i[s].index);return e}function KT(n,t,e,i={}){const s=n.keys,o=i.mode==="single";let l,u,f,d;if(t===null)return;let p=!1;for(l=0,u=s.length;l<u;++l){if(f=+s[l],f===e){if(p=!0,i.all)continue;break}d=n.values[f],ji(d)&&(o||t===0||ga(t)===ga(d))&&(t+=d)}return!p&&!i.all?0:t}function Dz(n,t){const{iScale:e,vScale:i}=t,s=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let f,d,p;for(f=0,d=l.length;f<d;++f)p=l[f],u[f]={[s]:p,[o]:n[p]};return u}function Gp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Mz(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Oz(n){const{min:t,max:e,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?e:Number.POSITIVE_INFINITY}}function kz(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function WT(n,t,e,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const o=n[s.index];if(e&&o>0||!e&&o<0)return s.index}return null}function YT(n,t){const{chart:e,_cachedMeta:i}=n,s=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,f=o.axis,d=l.axis,p=Mz(o,l,i),_=t.length;let b;for(let T=0;T<_;++T){const S=t[T],{[f]:D,[d]:C}=S,P=S._stacks||(S._stacks={});b=P[d]=kz(s,p,D),b[u]=C,b._top=WT(b,l,!0,i.type),b._bottom=WT(b,l,!1,i.type);const U=b._visualValues||(b._visualValues={});U[u]=C}}function $p(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Pz(n,t){return nc(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Nz(n,t,e){return nc(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function su(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const s of t){const o=s._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Kp=n=>n==="reset"||n==="none",QT=(n,t)=>t?n:Object.assign({},n),Lz=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_1(e,!0),values:null};class Nl{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Gp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&su(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),s=(_,b,T,S)=>_==="x"?b:_==="r"?S:T,o=e.xAxisID=_e(i.xAxisID,$p(t,"x")),l=e.yAxisID=_e(i.yAxisID,$p(t,"y")),u=e.rAxisID=_e(i.rAxisID,$p(t,"r")),f=e.indexAxis,d=e.iAxisID=s(f,o,l,u),p=e.vAxisID=s(f,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&kT(this._data,this),t._stacked&&su(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(he(e)){const s=this._cachedMeta;this._data=Dz(e,s)}else if(i!==e){if(i){kT(i,this);const s=this._cachedMeta;su(s),s._parsed=[]}e&&Object.isExtensible(e)&&U4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const o=e._stacked;e._stacked=Gp(e.vScale,e),e.stack!==i.stack&&(s=!0,su(e),e.stack=i.stack),this._resyncElements(t),(s||o!==e._stacked)&&(YT(this,e._parsed),e._stacked=Gp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:s}=this,{iScale:o,_stacked:l}=i,u=o.axis;let f=t===0&&e===s.length?!0:i._sorted,d=t>0&&i._parsed[t-1],p,_,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{cn(s[t])?b=this.parseArrayData(i,s,t,e):he(s[t])?b=this.parseObjectData(i,s,t,e):b=this.parsePrimitiveData(i,s,t,e);const T=()=>_[u]===null||d&&_[u]<d[u];for(p=0;p<e;++p)i._parsed[p+t]=_=b[p],f&&(T()&&(f=!1),d=_);i._sorted=f}l&&YT(this,b)}parsePrimitiveData(t,e,i,s){const{iScale:o,vScale:l}=t,u=o.axis,f=l.axis,d=o.getLabels(),p=o===l,_=new Array(s);let b,T,S;for(b=0,T=s;b<T;++b)S=b+i,_[b]={[u]:p||o.parse(d[S],S),[f]:l.parse(e[S],S)};return _}parseArrayData(t,e,i,s){const{xScale:o,yScale:l}=t,u=new Array(s);let f,d,p,_;for(f=0,d=s;f<d;++f)p=f+i,_=e[p],u[f]={x:o.parse(_[0],p),y:l.parse(_[1],p)};return u}parseObjectData(t,e,i,s){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=new Array(s);let p,_,b,T;for(p=0,_=s;p<_;++p)b=p+i,T=e[b],d[p]={x:o.parse(Ao(T,u),b),y:l.parse(Ao(T,f),b)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const s=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:_1(s,!0),values:e._stacks[t.axis]._visualValues};return KT(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,s){const o=i[e.axis];let l=o===null?NaN:o;const u=s&&i._stacks[e.axis];s&&u&&(s.values=u,l=KT(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,s=i._parsed,o=i._sorted&&t===i.iScale,l=s.length,u=this._getOtherScale(t),f=Lz(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=Oz(u);let b,T;function S(){T=s[b];const D=T[u.axis];return!ji(T[t.axis])||p>D||_<D}for(b=0;b<l&&!(!S()&&(this.updateRangeFromParsed(d,t,T,f),o));++b);if(o){for(b=l-1;b>=0;--b)if(!S()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let s,o,l;for(s=0,o=e.length;s<o;++s)l=e[s][t.axis],ji(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,s=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Iz(_e(this.options.clip,Cz(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,s=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,f=this._drawCount||s.length-u,d=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,f),p=u;p<u+f;++p){const _=s[p];_.hidden||(_.active&&d?l.push(_):_.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const s=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=Nz(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Pz(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const s=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],f=this.enableOptionSharing&&$u(i);if(u)return QT(u,f);const d=this.chart.config,p=d.datasetElementScopeKeys(this._type,t),_=s?[`${t}Hover`,"hover",t,""]:[t,""],b=d.getOptionScopes(this.getDataset(),p),T=Object.keys(We.elements[t]),S=()=>this.getContext(i,s,e),D=d.resolveNamedOptions(b,T,S,_);return D.$shared&&(D.$shared=f,o[l]=Object.freeze(QT(D,f))),D}_resolveAnimations(t,e,i){const s=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let f;if(s.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),b=p.getOptionScopes(this.getDataset(),_);f=p.createResolver(b,this.getContext(t,i,e))}const d=new y1(s,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Kp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),s=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==s;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,s){Kp(s)?Object.assign(t,i):this._resolveAnimations(e,s).update(t,i)}updateSharedOptions(t,e,i){t&&!Kp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,s){t.active=s;const o=this.getStyle(e,s);this._resolveAnimations(e,i,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,f,d]of this._syncList)this[u](f,d);this._syncList=[];const s=i.length,o=e.length,l=Math.min(o,s);l&&this.parse(0,l),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,e,i=!0){const s=this._cachedMeta,o=s.data,l=t+e;let u;const f=d=>{for(d.length+=e,u=d.length-1;u>=l;u--)d[u]=d[u-e]};for(f(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&f(s._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,s){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,e);i._stacked&&su(i,s)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,s]=t;this[e](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}zt(Nl,"defaults",{}),zt(Nl,"datasetElementType",null),zt(Nl,"dataElementType",null);function Vz(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let s=0,o=e.length;s<o;s++)i=i.concat(e[s].controller.getAllParsedValues(n));n._cache.$bar=i1(i.sort((s,o)=>s-o))}return n._cache.$bar}function Uz(n){const t=n.iScale,e=Vz(t,n.type);let i=t._length,s,o,l,u;const f=()=>{l===32767||l===-32768||($u(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(s=0,o=e.length;s<o;++s)l=t.getPixelForValue(e[s]),f();for(u=void 0,s=0,o=t.ticks.length;s<o;++s)l=t.getPixelForTick(s),f();return i}function zz(n,t,e,i){const s=e.barThickness;let o,l;return Ce(s)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=s*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function jz(n,t,e,i){const s=t.pixels,o=s[n];let l=n>0?s[n-1]:null,u=n<s.length-1?s[n+1]:null;const f=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const d=o-(o-Math.min(l,u))/2*f;return{chunk:Math.abs(u-l)/2*f/i,ratio:e.barPercentage,start:d}}function Bz(n,t,e,i){const s=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(s,o),u=Math.max(s,o);let f=l,d=u;Math.abs(l)>Math.abs(u)&&(f=u,d=l),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:s,end:o,min:l,max:u}}function v1(n,t,e,i){return cn(n)?Bz(n,t,e,i):t[e.axis]=e.parse(n,i),t}function XT(n,t,e,i){const s=n.iScale,o=n.vScale,l=s.getLabels(),u=s===o,f=[];let d,p,_,b;for(d=e,p=e+i;d<p;++d)b=t[d],_={},_[s.axis]=u||s.parse(l[d],d),f.push(v1(b,_,o,d));return f}function Wp(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Fz(n,t,e){return n!==0?ga(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Hz(n){let t,e,i,s,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(s="end",o="start"):(s="start",o="end"),{start:e,end:i,reverse:t,top:s,bottom:o}}function qz(n,t,e,i){let s=t.borderSkipped;const o={};if(!s){n.borderSkipped=o;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:f,top:d,bottom:p}=Hz(n);s==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?s=d:(e._bottom||0)===i?s=p:(o[ZT(p,l,u,f)]=!0,s=d)),o[ZT(s,l,u,f)]=!0,n.borderSkipped=o}function ZT(n,t,e,i){return i?(n=Gz(n,t,e),n=JT(n,e,t)):n=JT(n,t,e),n}function Gz(n,t,e){return n===t?e:n===e?t:n}function JT(n,t,e){return n==="start"?t:n==="end"?e:n}function $z(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class hd extends Nl{parsePrimitiveData(t,e,i,s){return XT(t,e,i,s)}parseArrayData(t,e,i,s){return XT(t,e,i,s)}parseObjectData(t,e,i,s){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?u:f,p=l.axis==="x"?u:f,_=[];let b,T,S,D;for(b=i,T=i+s;b<T;++b)D=e[b],S={},S[o.axis]=o.parse(Ao(D,d),b),_.push(v1(Ao(D,p),S,l,b));return _}updateRangeFromParsed(t,e,i,s){super.updateRangeFromParsed(t,e,i,s);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:s}=e,o=this.getParsed(t),l=o._custom,u=Wp(l)?"["+l.start+", "+l.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,s){const o=s==="reset",{index:l,_cachedMeta:{vScale:u}}=this,f=u.getBasePixel(),d=u.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:b}=this._getSharedOptions(e,s);for(let T=e;T<e+i;T++){const S=this.getParsed(T),D=o||Ce(S[u.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),C=this._calculateBarIndexPixels(T,p),P=(S._stacks||{})[u.axis],U={horizontal:d,base:D.base,enableBorderRadius:!P||Wp(S._custom)||l===P._top||l===P._bottom,x:d?D.head:C.center,y:d?C.center:D.head,height:d?C.size:Math.abs(D.size),width:d?Math.abs(D.size):C.size};b&&(U.options=_||this.resolveDataElementOptions(T,t[T].active?"active":s));const G=U.options||t[T].options;qz(U,G,P,l),$z(U,G,p.ratio),this.updateElement(t[T],T,U,s)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),f=u&&u[i.axis],d=p=>{const _=p._parsed.find(T=>T[i.axis]===f),b=_&&_[p.vScale.axis];if(Ce(b)||isNaN(b))return!0};for(const p of s)if(!(e!==void 0&&d(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const s=this._getStacks(t,i),o=e!==void 0?s.indexOf(e):-1;return o===-1?s.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,s=[];let o,l;for(o=0,l=e.data.length;o<l;++o)s.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||Uz(e),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:s},options:{base:o,minBarLength:l}}=this,u=o||0,f=this.getParsed(t),d=f._custom,p=Wp(d);let _=f[e.axis],b=0,T=i?this.applyStack(e,f,i):_,S,D;T!==_&&(b=T-_,T=_),p&&(_=d.barStart,T=d.barEnd-d.barStart,_!==0&&ga(_)!==ga(d.barEnd)&&(b=0),b+=_);const C=!Ce(o)&&!p?o:b;let P=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(b+T):S=P,D=S-P,Math.abs(D)<l){D=Fz(D,e,u)*l,_===u&&(P-=D/2);const U=e.getPixelForDecimal(0),G=e.getPixelForDecimal(1),tt=Math.min(U,G),O=Math.max(U,G);P=Math.max(Math.min(P,O),tt),S=P+D,i&&!p&&(f._stacks[e.axis]._visualValues[s]=e.getValueForPixel(S)-e.getValueForPixel(P))}if(P===e.getPixelForValue(u)){const U=ga(D)*e.getLineWidthForValue(u)/2;P+=U,D-=U}return{size:D,base:P,head:S,center:S+D/2}}_calculateBarIndexPixels(t,e){const i=e.scale,s=this.options,o=s.skipNull,l=_e(s.maxBarThickness,1/0);let u,f;if(e.grouped){const d=o?this._getStackCount(t):e.stackCount,p=s.barThickness==="flex"?jz(t,e,s,d):zz(t,e,s,d),_=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);u=p.start+p.chunk*_+p.chunk/2,f=Math.min(l,p.chunk*p.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(l,e.min*e.ratio);return{base:u-f/2,head:u+f/2,center:u,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,s=i.length;let o=0;for(;o<s;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}zt(hd,"id","bar"),zt(hd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),zt(hd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Kz(n,t,e){let i=1,s=1,o=0,l=0;if(t<nn){const u=n,f=u+t,d=Math.cos(u),p=Math.sin(u),_=Math.cos(f),b=Math.sin(f),T=(G,tt,O)=>Fd(G,u,f,!0)?1:Math.max(tt,tt*e,O,O*e),S=(G,tt,O)=>Fd(G,u,f,!0)?-1:Math.min(tt,tt*e,O,O*e),D=T(0,d,_),C=T(un,p,b),P=S(rn,d,_),U=S(rn+un,p,b);i=(D-P)/2,s=(C-U)/2,o=-(D+P)/2,l=-(C+U)/2}return{ratioX:i,ratioY:s,offsetX:o,offsetY:l}}class vu extends Nl{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let o=f=>+i[f];if(he(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ao(i[d],f)}let l,u;for(l=t,u=t+e;l<u;++l)s._parsed[l]=o(l)}}_getRotation(){return us(this.options.rotation-90)}_getCircumference(){return us(this.options.circumference)}_getRotationExtents(){let t=nn,e=-nn;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,o=s._getRotation(),l=s._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,s=this._cachedMeta,o=s.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),f=Math.min(w4(this.options.cutout,u),1),d=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:T,offsetX:S,offsetY:D}=Kz(_,p,f),C=(i.width-l)/b,P=(i.height-l)/T,U=Math.max(Math.min(C,P)/2,0),G=ZR(this.options.radius,U),tt=Math.max(G*f,0),O=(G-tt)/this._getVisibleDatasetWeightTotal();this.offsetX=S*G,this.offsetY=D*G,s.total=this.calculateTotal(),this.outerRadius=G-O*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-O*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,s=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/nn)}updateElements(t,e,i,s){const o=s==="reset",l=this.chart,u=l.chartArea,d=l.options.animation,p=(u.left+u.right)/2,_=(u.top+u.bottom)/2,b=o&&d.animateScale,T=b?0:this.innerRadius,S=b?0:this.outerRadius,{sharedOptions:D,includeOptions:C}=this._getSharedOptions(e,s);let P=this._getRotation(),U;for(U=0;U<e;++U)P+=this._circumference(U,o);for(U=e;U<e+i;++U){const G=this._circumference(U,o),tt=t[U],O={x:p+this.offsetX,y:_+this.offsetY,startAngle:P,endAngle:P+G,circumference:G,outerRadius:S,innerRadius:T};C&&(O.options=D||this.resolveDataElementOptions(U,tt.active?"active":s)),P+=G,this.updateElement(tt,U,O,s)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,s;for(s=0;s<e.length;s++){const o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!e[s].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?nn*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,s=i.data.labels||[],o=rv(e._parsed[t],i.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let s,o,l,u,f;if(!t){for(s=0,o=i.data.datasets.length;s<o;++s)if(i.isDatasetVisible(s)){l=i.getDatasetMeta(s),t=l.data,u=l.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)f=u.resolveDataElementOptions(s),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,s=t.length;i<s;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(_e(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}zt(vu,"id","doughnut"),zt(vu,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),zt(vu,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),zt(vu,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return e.labels.map((o,l)=>{const f=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:s,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Ny extends vu{}zt(Ny,"id","pie"),zt(Ny,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function co(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class dv{constructor(t){zt(this,"options");this.options=t||{}}static override(t){Object.assign(dv.prototype,t)}init(){}formats(){return co()}parse(){return co()}format(){return co()}add(){return co()}diff(){return co()}startOf(){return co()}endOf(){return co()}}var Wz={_date:dv};function Yz(n,t,e,i){const{controller:s,data:o,_sorted:l}=n,u=s._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const d=u._reversePixels?L4:ky;if(i){if(s._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const b=d(o,t,e-_),T=d(o,t,e+_);return{lo:b.lo,hi:T.hi}}}}else{const p=d(o,t,e);if(f){const{vScale:_}=s._cachedMeta,{_parsed:b}=n,T=b.slice(0,p.lo+1).reverse().findIndex(D=>!Ce(D[_.axis]));p.lo-=Math.max(0,T);const S=b.slice(p.hi).findIndex(D=>!Ce(D[_.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function Eg(n,t,e,i,s){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,f=o.length;u<f;++u){const{index:d,data:p}=o[u],{lo:_,hi:b}=Yz(o[u],t,l,s);for(let T=_;T<=b;++T){const S=p[T];S.skip||i(S,d,T)}}}function Qz(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,s){const o=t?Math.abs(i.x-s.x):0,l=e?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Yp(n,t,e,i,s){const o=[];return!s&&!n.isPointInArea(t)||Eg(n,e,t,function(u,f,d){!s&&!c1(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:f,index:d})},!0),o}function Xz(n,t,e,i){let s=[];function o(l,u,f){const{startAngle:d,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:_}=e1(l,{x:t.x,y:t.y});Fd(_,d,p)&&s.push({element:l,datasetIndex:u,index:f})}return Eg(n,e,t,o),s}function Zz(n,t,e,i,s,o){let l=[];const u=Qz(e);let f=Number.POSITIVE_INFINITY;function d(p,_,b){const T=p.inRange(t.x,t.y,s);if(i&&!T)return;const S=p.getCenterPoint(s);if(!(!!o||n.isPointInArea(S))&&!T)return;const C=u(t,S);C<f?(l=[{element:p,datasetIndex:_,index:b}],f=C):C===f&&l.push({element:p,datasetIndex:_,index:b})}return Eg(n,e,t,d),l}function Qp(n,t,e,i,s,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?Xz(n,t,e,s):Zz(n,t,e,i,s,o)}function tS(n,t,e,i,s){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Eg(n,e,t,(f,d,p)=>{f[l]&&f[l](t[e],s)&&(o.push({element:f,datasetIndex:d,index:p}),u=u||f.inRange(t.x,t.y,s))}),i&&!u?[]:o}var Jz={modes:{index(n,t,e,i){const s=ho(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Yp(n,s,o,i,l):Qp(n,s,o,!1,i,l),f=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const p=u[0].index,_=d.data[p];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:p})}),f):[]},dataset(n,t,e,i){const s=ho(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Yp(n,s,o,i,l):Qp(n,s,o,!1,i,l);if(u.length>0){const f=u[0].datasetIndex,d=n.getDatasetMeta(f).data;u=[];for(let p=0;p<d.length;++p)u.push({element:d[p],datasetIndex:f,index:p})}return u},point(n,t,e,i){const s=ho(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Yp(n,s,o,i,l)},nearest(n,t,e,i){const s=ho(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Qp(n,s,o,e.intersect,i,l)},x(n,t,e,i){const s=ho(t,n);return tS(n,s,"x",e.intersect,i)},y(n,t,e,i){const s=ho(t,n);return tS(n,s,"y",e.intersect,i)}}};const b1=["left","top","right","bottom"];function au(n,t){return n.filter(e=>e.pos===t)}function eS(n,t){return n.filter(e=>b1.indexOf(e.pos)===-1&&e.box.axis===t)}function ou(n,t){return n.sort((e,i)=>{const s=t?i:e,o=t?e:i;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function t5(n){const t=[];let e,i,s,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)s=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=s,t.push({index:e,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&o+l,stackWeight:u});return t}function e5(n){const t={};for(const e of n){const{stack:i,pos:s,stackWeight:o}=e;if(!i||!b1.includes(s))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function n5(n,t){const e=e5(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:f}=u.box,d=e[u.stack],p=d&&u.stackWeight/d.weight;u.horizontal?(u.width=p?p*i:f&&t.availableWidth,u.height=s):(u.width=i,u.height=p?p*s:f&&t.availableHeight)}return e}function i5(n){const t=t5(n),e=ou(t.filter(d=>d.box.fullSize),!0),i=ou(au(t,"left"),!0),s=ou(au(t,"right")),o=ou(au(t,"top"),!0),l=ou(au(t,"bottom")),u=eS(t,"x"),f=eS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:s.concat(f).concat(l).concat(u),chartArea:au(t,"chartArea"),vertical:i.concat(s).concat(f),horizontal:o.concat(l).concat(u)}}function nS(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function E1(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function r5(n,t,e,i){const{pos:s,box:o}=e,l=n.maxPadding;if(!he(s)){e.size&&(n[s]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[s]+=e.size}o.getPadding&&E1(l,o.getPadding());const u=Math.max(0,t.outerWidth-nS(l,n,"left","right")),f=Math.max(0,t.outerHeight-nS(l,n,"top","bottom")),d=u!==n.w,p=f!==n.h;return n.w=u,n.h=f,e.horizontal?{same:d,other:p}:{same:p,other:d}}function s5(n){const t=n.maxPadding;function e(i){const s=Math.max(t[i]-n[i],0);return n[i]+=s,s}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function a5(n,t){const e=t.maxPadding;function i(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function bu(n,t,e,i){const s=[];let o,l,u,f,d,p;for(o=0,l=n.length,d=0;o<l;++o){u=n[o],f=u.box,f.update(u.width||t.w,u.height||t.h,a5(u.horizontal,t));const{same:_,other:b}=r5(t,e,u,i);d|=_&&s.length,p=p||b,f.fullSize||s.push(u)}return d&&bu(s,t,e,i)||p}function qf(n,t,e,i,s){n.top=e,n.left=t,n.right=t+i,n.bottom=e+s,n.width=i,n.height=s}function iS(n,t,e,i){const s=e.padding;let{x:o,y:l}=t;for(const u of n){const f=u.box,d=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/d.weight||1;if(u.horizontal){const _=t.w*p,b=d.size||f.height;$u(d.start)&&(l=d.start),f.fullSize?qf(f,s.left,l,e.outerWidth-s.right-s.left,b):qf(f,t.left+d.placed,l,_,b),d.start=l,d.placed+=_,l=f.bottom}else{const _=t.h*p,b=d.size||f.width;$u(d.start)&&(o=d.start),f.fullSize?qf(f,o,s.top,b,e.outerHeight-s.bottom-s.top):qf(f,o,t.top+d.placed,b,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=l}var Ui={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const s=Bi(n.options.layout.padding),o=Math.max(t-s.width,0),l=Math.max(e-s.height,0),u=i5(n.boxes),f=u.vertical,d=u.horizontal;we(n.boxes,D=>{typeof D.beforeLayout=="function"&&D.beforeLayout()});const p=f.reduce((D,C)=>C.box.options&&C.box.options.display===!1?D:D+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:s,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);E1(b,Bi(i));const T=Object.assign({maxPadding:b,w:o,h:l,x:s.left,y:s.top},s),S=n5(f.concat(d),_);bu(u.fullSize,T,_,S),bu(f,T,_,S),bu(d,T,_,S)&&bu(f,T,_,S),s5(T),iS(u.leftAndTop,T,_,S),T.x+=T.w,T.y+=T.h,iS(u.rightAndBottom,T,_,S),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},we(u.chartArea,D=>{const C=D.box;Object.assign(C,n.chartArea),C.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class w1{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,s){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,s?Math.floor(e/s):i)}}isAttached(t){return!0}updateConfig(t){}}class o5 extends w1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fd="$chartjs",l5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},rS=n=>n===null||n==="";function c5(n,t){const e=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[fd]={initial:{height:i,width:s,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",rS(s)){const o=qT(n,"width");o!==void 0&&(n.width=o)}if(rS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=qT(n,"height");o!==void 0&&(n.height=o)}return n}const T1=bz?{passive:!0}:!1;function u5(n,t,e){n&&n.addEventListener(t,e,T1)}function h5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,T1)}function f5(n,t){const e=l5[n.type]||n.type,{x:i,y:s}=ho(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Gd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function d5(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Gd(u.addedNodes,i),l=l&&!Gd(u.removedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}function g5(n,t,e){const i=n.canvas,s=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Gd(u.removedNodes,i),l=l&&!Gd(u.addedNodes,i);l&&e()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wu=new Map;let sS=0;function S1(){const n=window.devicePixelRatio;n!==sS&&(sS=n,Wu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function m5(n,t){Wu.size||window.addEventListener("resize",S1),Wu.set(n,t)}function p5(n){Wu.delete(n),Wu.size||window.removeEventListener("resize",S1)}function y5(n,t,e){const i=n.canvas,s=i&&fv(i);if(!s)return;const o=s1((u,f)=>{const d=s.clientWidth;e(u,f),d<s.clientWidth&&e()},window),l=new ResizeObserver(u=>{const f=u[0],d=f.contentRect.width,p=f.contentRect.height;d===0&&p===0||o(d,p)});return l.observe(s),m5(n,o),l}function Xp(n,t,e){e&&e.disconnect(),t==="resize"&&p5(n)}function _5(n,t,e){const i=n.canvas,s=s1(o=>{n.ctx!==null&&e(f5(o,n))},n);return u5(i,t,s),s}class v5 extends w1{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(c5(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fd])return!1;const i=e[fd].initial;["height","width"].forEach(o=>{const l=i[o];Ce(l)?e.removeAttribute(o):e.setAttribute(o,l)});const s=i.style||{};return Object.keys(s).forEach(o=>{e.style[o]=s[o]}),e.width=e.width,delete e[fd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const s=t.$proxies||(t.$proxies={}),l={attach:d5,detach:g5,resize:y5}[e]||_5;s[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),s=i[e];if(!s)return;({attach:Xp,detach:Xp,resize:Xp}[e]||h5)(t,e,s),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,s){return vz(t,e,i,s)}isAttached(t){const e=t&&fv(t);return!!(e&&e.isConnected)}}function b5(n){return!hv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?o5:v5}class _s{constructor(){zt(this,"x");zt(this,"y");zt(this,"active",!1);zt(this,"options");zt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Bd(this.x)&&Bd(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const s={};return t.forEach(o=>{s[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),s}}zt(_s,"defaults",{}),zt(_s,"defaultRoutes");function E5(n,t){const e=n.options.ticks,i=w5(n),s=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?S5(t):[],l=o.length,u=o[0],f=o[l-1],d=[];if(l>s)return A5(t,d,o,l/s),d;const p=T5(o,t,s);if(l>0){let _,b;const T=l>1?Math.round((f-u)/(l-1)):null;for(Gf(t,d,p,Ce(T)?0:u-T,u),_=0,b=l-1;_<b;_++)Gf(t,d,p,o[_],o[_+1]);return Gf(t,d,p,f,Ce(T)?t.length:f+T),d}return Gf(t,d,p),d}function w5(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),s=n._maxLength/e;return Math.floor(Math.min(i,s))}function T5(n,t,e){const i=x5(n),s=t.length/e;if(!i)return Math.max(s,1);const o=I4(i);for(let l=0,u=o.length-1;l<u;l++){const f=o[l];if(f>s)return f}return Math.max(s,1)}function S5(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function A5(n,t,e,i){let s=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),s++,o=e[s*i])}function Gf(n,t,e,i,s){const o=_e(i,0),l=Math.min(_e(s,n.length),n.length);let u=0,f,d,p;for(e=Math.ceil(e),s&&(f=s-i,e=f/Math.floor(f/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(d=Math.max(o,0);d<l;d++)d===p&&(t.push(n[d]),u++,p=Math.round(o+u*e))}function x5(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const R5=n=>n==="left"?"right":n==="right"?"left":n,aS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,oS=(n,t)=>Math.min(t||n,n);function lS(n,t){const e=[],i=n.length/t,s=n.length;let o=0;for(;o<s;o+=i)e.push(n[Math.floor(o)]);return e}function C5(n,t,e){const i=n.ticks.length,s=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let f=n.getPixelForTick(s),d;if(!(e&&(i===1?d=Math.max(f-o,l-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(s-1))/2,f+=s<t?d:-d,f<o-u||f>l+u)))return f}function I5(n,t){we(n,e=>{const i=e.gc,s=i.length/2;let o;if(s>t){for(o=0;o<s;++o)delete e.data[i[o]];i.splice(0,s)}})}function lu(n){return n.drawTicks?n.tickLength:0}function cS(n,t){if(!n.display)return 0;const e=Bn(n.font,t),i=Bi(n.padding);return(cn(n.text)?n.text.length:1)*e.lineHeight+i.height}function D5(n,t){return nc(n,{scale:t,type:"scale"})}function M5(n,t,e){return nc(n,{tick:e,index:t,type:"tick"})}function O5(n,t,e){let i=iv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=R5(i)),i}function k5(n,t,e,i){const{top:s,left:o,bottom:l,right:u,chart:f}=n,{chartArea:d,scales:p}=f;let _=0,b,T,S;const D=l-s,C=u-o;if(n.isHorizontal()){if(T=Un(i,o,u),he(e)){const P=Object.keys(e)[0],U=e[P];S=p[P].getPixelForValue(U)+D-t}else e==="center"?S=(d.bottom+d.top)/2+D-t:S=aS(n,e,t);b=u-o}else{if(he(e)){const P=Object.keys(e)[0],U=e[P];T=p[P].getPixelForValue(U)-C+t}else e==="center"?T=(d.left+d.right)/2-C+t:T=aS(n,e,t);S=Un(i,l,s),_=e==="left"?-un:un}return{titleX:T,titleY:S,maxWidth:b,rotation:_}}class ic extends _s{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:s}=this;return t=vr(t,Number.POSITIVE_INFINITY),e=vr(e,Number.NEGATIVE_INFINITY),i=vr(i,Number.POSITIVE_INFINITY),s=vr(s,Number.NEGATIVE_INFINITY),{min:vr(t,i),max:vr(e,s),minDefined:ji(t),maxDefined:ji(e)}}getMinMax(t){let{min:e,max:i,minDefined:s,maxDefined:o}=this.getUserBounds(),l;if(s&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let f=0,d=u.length;f<d;++f)l=u[f].controller.getMinMax(this,t),s||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=s&&e>i?e:i,{min:vr(e,vr(i,e)),max:vr(i,vr(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ke(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:s,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rz(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=u<this.ticks.length;this._convertTicksToLabels(f?lS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=E5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ke(this.options.afterUpdate,[this])}beforeSetDimensions(){ke(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ke(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ke(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ke(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,s,o;for(i=0,s=t.length;i<s;i++)o=t[i],o.label=ke(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ke(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ke(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=oS(this.ticks.length,t.ticks.maxTicksLimit),s=e.minRotation||0,o=e.maxRotation;let l=s,u,f,d;if(!this._isVisible()||!e.display||s>=o||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),_=p.widest.width,b=p.highest.height,T=ii(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:T/(i-1),_+6>u&&(u=T/(i-(t.offset?.5:1)),f=this.maxHeight-lu(t.grid)-e.padding-cS(t.title,this.chart.options.font),d=Math.sqrt(_*_+b*b),l=k4(Math.min(Math.asin(ii((p.highest.height+6)/u,-1,1)),Math.asin(ii(f/d,-1,1))-Math.asin(ii(b/d,-1,1)))),l=Math.max(s,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ke(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ke(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:s,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const f=cS(s,e.options.font);if(u?(t.width=this.maxWidth,t.height=lu(o)+f):(t.height=this.maxHeight,t.width=lu(o)+f),i.display&&this.ticks.length){const{first:d,last:p,widest:_,highest:b}=this._getLabelSizes(),T=i.padding*2,S=us(this.labelRotation),D=Math.cos(S),C=Math.sin(S);if(u){const P=i.mirror?0:C*_.width+D*b.height;t.height=Math.min(this.maxHeight,t.height+P+T)}else{const P=i.mirror?0:D*_.width+C*b.height;t.width=Math.min(this.maxWidth,t.width+P+T)}this._calculatePadding(d,p,C,D)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,s){const{ticks:{align:o,padding:l},position:u}=this.options,f=this.labelRotation!==0,d=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,T=0;f?d?(b=s*t.width,T=i*e.height):(b=i*t.height,T=s*e.width):o==="start"?T=e.width:o==="end"?b=t.width:o!=="inner"&&(b=t.width/2,T=e.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((T-_+l)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;o==="start"?(p=0,_=t.height):o==="end"&&(p=e.height,_=0),this.paddingTop=p+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ke(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ce(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=lS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:s,_longestTextCache:o}=this,l=[],u=[],f=Math.floor(e/oS(e,i));let d=0,p=0,_,b,T,S,D,C,P,U,G,tt,O;for(_=0;_<e;_+=f){if(S=t[_].label,D=this._resolveTickFontOptions(_),s.font=C=D.string,P=o[C]=o[C]||{data:{},gc:[]},U=D.lineHeight,G=tt=0,!Ce(S)&&!cn(S))G=UT(s,P.data,P.gc,G,S),tt=U;else if(cn(S))for(b=0,T=S.length;b<T;++b)O=S[b],!Ce(O)&&!cn(O)&&(G=UT(s,P.data,P.gc,G,O),tt+=U);l.push(G),u.push(tt),d=Math.max(G,d),p=Math.max(tt,p)}I5(o,e);const K=l.indexOf(d),k=u.indexOf(p),x=A=>({width:l[A]||0,height:u[A]||0});return{first:x(0),last:x(e-1),widest:x(K),highest:x(k),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return N4(this._alignToPixels?lo(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=M5(this.getContext(),t,i))}return this.$context||(this.$context=D5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=us(this.labelRotation),i=Math.abs(Math.cos(e)),s=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*i>u*s?u/i:f/s:f*s<u*i?f/i:u/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,s=this.options,{grid:o,position:l,border:u}=s,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),b=lu(o),T=[],S=u.setContext(this.getContext()),D=S.display?S.width:0,C=D/2,P=function(nt){return lo(i,nt,D)};let U,G,tt,O,K,k,x,A,M,V,j,N;if(l==="top")U=P(this.bottom),k=this.bottom-b,A=U-C,V=P(t.top)+C,N=t.bottom;else if(l==="bottom")U=P(this.top),V=t.top,N=P(t.bottom)-C,k=U+C,A=this.top+b;else if(l==="left")U=P(this.right),K=this.right-b,x=U-C,M=P(t.left)+C,j=t.right;else if(l==="right")U=P(this.left),M=t.left,j=P(t.right)-C,K=U+C,x=this.left+b;else if(e==="x"){if(l==="center")U=P((t.top+t.bottom)/2+.5);else if(he(l)){const nt=Object.keys(l)[0],mt=l[nt];U=P(this.chart.scales[nt].getPixelForValue(mt))}V=t.top,N=t.bottom,k=U+C,A=k+b}else if(e==="y"){if(l==="center")U=P((t.left+t.right)/2);else if(he(l)){const nt=Object.keys(l)[0],mt=l[nt];U=P(this.chart.scales[nt].getPixelForValue(mt))}K=U-C,x=K-b,M=t.left,j=t.right}const Bt=_e(s.ticks.maxTicksLimit,_),_t=Math.max(1,Math.ceil(_/Bt));for(G=0;G<_;G+=_t){const nt=this.getContext(G),mt=o.setContext(nt),ht=u.setContext(nt),bt=mt.lineWidth,z=mt.color,lt=ht.dash||[],pt=ht.dashOffset,dt=mt.tickWidth,ft=mt.tickColor,It=mt.tickBorderDash||[],Nt=mt.tickBorderDashOffset;tt=C5(this,G,f),tt!==void 0&&(O=lo(i,tt,bt),d?K=x=M=j=O:k=A=V=N=O,T.push({tx1:K,ty1:k,tx2:x,ty2:A,x1:M,y1:V,x2:j,y2:N,width:bt,color:z,borderDash:lt,borderDashOffset:pt,tickWidth:dt,tickColor:ft,tickBorderDash:It,tickBorderDashOffset:Nt}))}return this._ticksLength=_,this._borderValue=U,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:s,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:f,crossAlign:d,padding:p,mirror:_}=o,b=lu(i.grid),T=b+p,S=_?-p:T,D=-us(this.labelRotation),C=[];let P,U,G,tt,O,K,k,x,A,M,V,j,N="middle";if(s==="top")K=this.bottom-S,k=this._getXAxisLabelAlignment();else if(s==="bottom")K=this.top+S,k=this._getXAxisLabelAlignment();else if(s==="left"){const _t=this._getYAxisLabelAlignment(b);k=_t.textAlign,O=_t.x}else if(s==="right"){const _t=this._getYAxisLabelAlignment(b);k=_t.textAlign,O=_t.x}else if(e==="x"){if(s==="center")K=(t.top+t.bottom)/2+T;else if(he(s)){const _t=Object.keys(s)[0],nt=s[_t];K=this.chart.scales[_t].getPixelForValue(nt)+T}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(s==="center")O=(t.left+t.right)/2-T;else if(he(s)){const _t=Object.keys(s)[0],nt=s[_t];O=this.chart.scales[_t].getPixelForValue(nt)}k=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const Bt=this._getLabelSizes();for(P=0,U=u.length;P<U;++P){G=u[P],tt=G.label;const _t=o.setContext(this.getContext(P));x=this.getPixelForTick(P)+o.labelOffset,A=this._resolveTickFontOptions(P),M=A.lineHeight,V=cn(tt)?tt.length:1;const nt=V/2,mt=_t.color,ht=_t.textStrokeColor,bt=_t.textStrokeWidth;let z=k;l?(O=x,k==="inner"&&(P===U-1?z=this.options.reverse?"left":"right":P===0?z=this.options.reverse?"right":"left":z="center"),s==="top"?d==="near"||D!==0?j=-V*M+M/2:d==="center"?j=-Bt.highest.height/2-nt*M+M:j=-Bt.highest.height+M/2:d==="near"||D!==0?j=M/2:d==="center"?j=Bt.highest.height/2-nt*M:j=Bt.highest.height-V*M,_&&(j*=-1),D!==0&&!_t.showLabelBackdrop&&(O+=M/2*Math.sin(D))):(K=x,j=(1-V)*M/2);let lt;if(_t.showLabelBackdrop){const pt=Bi(_t.backdropPadding),dt=Bt.heights[P],ft=Bt.widths[P];let It=j-pt.top,Nt=0-pt.left;switch(N){case"middle":It-=dt/2;break;case"bottom":It-=dt;break}switch(k){case"center":Nt-=ft/2;break;case"right":Nt-=ft;break;case"inner":P===U-1?Nt-=ft:P>0&&(Nt-=ft/2);break}lt={left:Nt,top:It,width:ft+pt.width,height:dt+pt.height,color:_t.backdropColor}}C.push({label:tt,font:A,textOffset:j,options:{rotation:D,color:mt,strokeColor:ht,strokeWidth:bt,textAlign:z,textBaseline:N,translation:[O,K],backdrop:lt}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-us(this.labelRotation))return t==="top"?"left":"right";let s="center";return e.align==="start"?s="left":e.align==="end"?s="right":e.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:s,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,f=l.widest.width;let d,p;return e==="left"?s?(p=this.right+o,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p+=f)):(p=this.right-u,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p=this.left)):e==="right"?s?(p=this.left+o,i==="near"?d="right":i==="center"?(d="center",p-=f/2):(d="left",p-=f)):(p=this.left+u,i==="near"?d="left":i==="center"?(d="center",p+=f/2):(d="right",p=this.right)):d="right",{textAlign:d,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:s,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,s,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const s=this.ticks.findIndex(o=>o.value===t);return s>=0?e.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(f,d,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=s.length;o<l;++o){const f=s[o];e.drawOnChartArea&&u({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&u({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:s}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=s.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,p,_,b;this.isHorizontal()?(d=lo(t,this.left,l)-l/2,p=lo(t,this.right,u)+u/2,_=b=f):(_=lo(t,this.top,l)-l/2,b=lo(t,this.bottom,u)+u/2,d=p=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(p,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&sv(i,s);const o=this.getLabelItems(t);for(const l of o){const u=l.options,f=l.font,d=l.label,p=l.textOffset;Ku(i,d,0,p,f,u)}s&&av(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:s}}=this;if(!i.display)return;const o=Bn(i.font),l=Bi(i.padding),u=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||he(e)?(f+=l.bottom,cn(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=l.top;const{titleX:d,titleY:p,maxWidth:_,rotation:b}=k5(this,f,e,u);Ku(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:b,textAlign:O5(u,e,s),textBaseline:"middle",translation:[d,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=_e(t.grid&&t.grid.z,-1),s=_e(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ic.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&s.push(u)}return s}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Bn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $f{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;L5(e)&&(i=this.register(e));const s=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,P5(t,l,i),this.override&&We.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,s=this.scope;i in e&&delete e[i],s&&i in We[s]&&(delete We[s][i],this.override&&delete xo[i])}}function P5(n,t,e){const i=Gu(Object.create(null),[e?We.get(e):{},We.get(t),n.defaults]);We.set(t,i),n.defaultRoutes&&N5(t,n.defaultRoutes),n.descriptors&&We.describe(t,n.descriptors)}function N5(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),s=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),f=l.join(".");We.route(o,s,f,u)})}function L5(n){return"id"in n&&"defaults"in n}class V5{constructor(){this.controllers=new $f(Nl,"datasets",!0),this.elements=new $f(_s,"elements"),this.plugins=new $f(Object,"plugins"),this.scales=new $f(ic,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(s=>{const o=i||this._getRegistryForType(s);i||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):we(s,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const s=ev(t);ke(i["before"+s],[],i),e[t](i),ke(i["after"+s],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const s=e.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Er=new V5;class U5{constructor(){this._init=[]}notify(t,e,i,s){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=s?this._descriptors(t).filter(s):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),l}_notify(t,e,i,s){s=s||{};for(const o of t){const l=o.plugin,u=l[i],f=[e,s,o.options];if(ke(u,f,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ce(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,s=_e(i.options&&i.options.plugins,{}),o=z5(i);return s===!1&&!e?[]:B5(t,o,s,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,s=(o,l)=>o.filter(u=>!l.some(f=>u.plugin.id===f.plugin.id));this._notify(s(e,i),t,"stop"),this._notify(s(i,e),t,"start")}}function z5(n){const t={},e=[],i=Object.keys(Er.plugins.items);for(let o=0;o<i.length;o++)e.push(Er.getPlugin(i[o]));const s=n.plugins||[];for(let o=0;o<s.length;o++){const l=s[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function j5(n,t){return!t&&n===!1?null:n===!0?{}:n}function B5(n,{plugins:t,localIds:e},i,s){const o=[],l=n.getContext();for(const u of t){const f=u.id,d=j5(i[f],s);d!==null&&o.push({plugin:u,options:F5(n.config,{plugin:u,local:e[f]},d,l)})}return o}function F5(n,{plugin:t,local:e},i,s){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ly(n,t){const e=We.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function H5(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function q5(n,t){return n===t?"_index_":"_value_"}function uS(n){if(n==="x"||n==="y"||n==="r")return n}function G5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Vy(n,...t){if(uS(n))return n;for(const e of t){const i=e.axis||G5(e.position)||n.length>1&&uS(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function hS(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function $5(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return hS(n,"x",e[0])||hS(n,"y",e[0])}return{}}function K5(n,t){const e=xo[n.type]||{scales:{}},i=t.scales||{},s=Ly(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!he(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=Vy(l,u,$5(l,n),We.scales[u.type]),d=q5(f,s),p=e.scales||{};o[l]=Cu(Object.create(null),[{axis:f},u,p[f],p[d]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,f=l.indexAxis||Ly(u,t),p=(xo[u]||{}).scales||{};Object.keys(p).forEach(_=>{const b=H5(_,f),T=l[b+"AxisID"]||b;o[T]=o[T]||Object.create(null),Cu(o[T],[{axis:b},i[T],p[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];Cu(u,[We.scales[u.type],We.scale])}),o}function A1(n){const t=n.options||(n.options={});t.plugins=_e(t.plugins,{}),t.scales=K5(n,t)}function x1(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function W5(n){return n=n||{},n.data=x1(n.data),A1(n),n}const fS=new Map,R1=new Set;function Kf(n,t){let e=fS.get(n);return e||(e=t(),fS.set(n,e),R1.add(e)),e}const cu=(n,t,e)=>{const i=Ao(t,e);i!==void 0&&n.add(i)};class Y5{constructor(t){this._config=W5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=x1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),A1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Kf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Kf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Kf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Kf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let s=i.get(t);return(!s||e)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,e,i){const{options:s,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const f=new Set;e.forEach(p=>{t&&(f.add(t),p.forEach(_=>cu(f,t,_))),p.forEach(_=>cu(f,s,_)),p.forEach(_=>cu(f,xo[o]||{},_)),p.forEach(_=>cu(f,We,_)),p.forEach(_=>cu(f,Py,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),R1.has(e)&&l.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,xo[e]||{},We.datasets[e]||{},{type:e},We,Py]}resolveNamedOptions(t,e,i,s=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=dS(this._resolverCache,t,s);let f=l;if(X5(l,e)){o.$shared=!1,i=Ta(i)?i():i;const d=this.createResolver(t,i,u);f=ql(l,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],s){const{resolver:o}=dS(this._resolverCache,t,i);return he(e)?ql(o,e,void 0,s):o}}function dS(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const s=e.join();let o=i.get(s);return o||(o={resolver:lv(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(s,o)),o}const Q5=n=>he(n)&&Object.getOwnPropertyNames(n).some(t=>Ta(n[t]));function X5(n,t){const{isScriptable:e,isIndexable:i}=h1(n);for(const s of t){const o=e(s),l=i(s),u=(l||o)&&n[s];if(o&&(Ta(u)||Q5(u))||l&&cn(u))return!0}return!1}var Z5="4.4.8";const J5=["top","bottom","left","right","chartArea"];function gS(n,t){return n==="top"||n==="bottom"||J5.indexOf(n)===-1&&t==="x"}function mS(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function pS(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ke(e&&e.onComplete,[n],t)}function tj(n){const t=n.chart,e=t.options.animation;ke(e&&e.onProgress,[n],t)}function C1(n){return hv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const dd={},yS=n=>{const t=C1(n);return Object.values(dd).filter(e=>e.canvas===t).pop()};function ej(n,t,e){const i=Object.keys(n);for(const s of i){const o=+s;if(o>=t){const l=n[s];delete n[s],(e>0||o>t)&&(n[o+e]=l)}}}function nj(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}function Wf(n,t,e){return n.options.clip?n[e]:t[e]}function ij(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Wf(e,t,"left"),right:Wf(e,t,"right"),top:Wf(i,t,"top"),bottom:Wf(i,t,"bottom")}:t}var Zs;let gh=(Zs=class{static register(...t){Er.add(...t),_S()}static unregister(...t){Er.remove(...t),_S()}constructor(t,e){const i=this.config=new Y5(e),s=C1(t),o=yS(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||b5(s)),this.platform.updateConfig(i);const u=this.platform.acquireContext(s,l.aspectRatio),f=u&&u.canvas,d=f&&f.height,p=f&&f.width;if(this.id=E4(),this.ctx=u,this.canvas=f,this.width=p,this.height=d,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new U5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=z4(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],dd[this.id]=this,!u||!f){console.error("Failed to create chart: can't acquire context from the given item");return}rs.listen(this,"complete",pS),rs.listen(this,"progress",tj),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:s,_aspectRatio:o}=this;return Ce(t)?e&&o?o:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():HT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return zT(this.canvas,this.ctx),this}stop(){return rs.stop(this),this}resize(t,e){rs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,s=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,HT(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ke(i.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};we(e,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,s=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],f=Vy(l,u),d=f==="r",p=f==="x";return{options:u,dposition:d?"chartArea":p?"bottom":"left",dtype:d?"radialLinear":p?"category":"linear"}}))),we(o,l=>{const u=l.options,f=u.id,d=Vy(f,u),p=_e(u.type,l.dtype);(u.position===void 0||gS(u.position,d)!==gS(l.dposition))&&(u.position=l.dposition),s[f]=!0;let _=null;if(f in i&&i[f].type===p)_=i[f];else{const b=Er.getScale(p);_=new b({id:f,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),we(s,(l,u)=>{l||delete i[u]}),we(i,l=>{Ui.configure(this,l,l.options),Ui.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((s,o)=>s.index-o.index),i>e){for(let s=e;s<i;++s)this._destroyDatasetMeta(s);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(mS("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,s)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=e.length;i<s;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Ly(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const f=Er.getController(u),{datasetElementType:d,dataElementType:p}=We.datasets[u];Object.assign(f,{dataElementType:Er.getElement(p),datasetElementType:d&&Er.getElement(d)}),l.controller=new f(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){we(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let d=0,p=this.data.datasets.length;d<p;d++){const{controller:_}=this.getDatasetMeta(d),b=!s&&o.indexOf(_)===-1;_.buildOrUpdateElements(b),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||we(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(mS("z","_idx"));const{_active:u,_lastEvent:f}=this;f?this._eventHandler(f,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){we(this.scales,t=>{Ui.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!IT(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:o}of e){const l=i==="_removeElements"?-o:o;ej(t,s,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),s=i(0);for(let o=1;o<e;o++)if(!IT(s,i(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ui.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],we(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ta(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(e),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(rs.has(this)?this.attached&&!rs.running(this)&&rs.start(this):(this.draw(),pS({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let s,o;for(s=0,o=e.length;s<o;++s){const l=e[s];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,s=!i.disabled,o=ij(t,this.chartArea),l={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(s&&sv(e,{left:i.left===!1?0:o.left-i.left,right:i.right===!1?this.width:o.right+i.right,top:i.top===!1?0:o.top-i.top,bottom:i.bottom===!1?this.height:o.bottom+i.bottom}),t.controller.draw(),s&&av(e),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(t){return c1(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,s){const o=Jz.modes[e];return typeof o=="function"?o(this,t,i,s):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let s=i.filter(o=>o&&o._dataset===e).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=nc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const s=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,s);$u(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?s:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),rs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),zT(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete dd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},s=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};we(this.options.events,o=>i(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},s=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let l;const u=()=>{s("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){we(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},we(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const s=i?"set":"remove";let o,l,u,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),u=0,f=t.length;u<f;++u){l=t[u];const d=l&&this.getDatasetMeta(l.datasetIndex).controller;d&&d[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Ud(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const s=this.options.hover,o=(f,d)=>f.filter(p=>!d.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,s.mode,!1),u.length&&s.mode&&this.updateHoverStyle(u,s.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},s=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:s=[],options:o}=this,l=e,u=this._getActiveElements(t,s,i,l),f=R4(t),d=nj(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ke(o.onHover,[t,u,this],this),f&&ke(o.onClick,[t,u,this],this));const p=!Ud(u,s);return(p||e)&&(this._active=u,this._updateHoverStyles(u,s,e)),this._lastEvent=d,p}_getActiveElements(t,e,i,s){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}},zt(Zs,"defaults",We),zt(Zs,"instances",dd),zt(Zs,"overrides",xo),zt(Zs,"registry",Er),zt(Zs,"version",Z5),zt(Zs,"getChart",yS),Zs);function _S(){return we(gh.instances,n=>n._plugins.invalidate())}function rj(n,t,e){const{startAngle:i,pixelMargin:s,x:o,y:l,outerRadius:u,innerRadius:f}=t;let d=s/u;n.beginPath(),n.arc(o,l,u,i-d,e+d),f>s?(d=s/f,n.arc(o,l,f,e+d,i-d,!0)):n.arc(o,l,s,e+un,i-un),n.closePath(),n.clip()}function sj(n){return ov(n,["outerStart","outerEnd","innerStart","innerEnd"])}function aj(n,t,e,i){const s=sj(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=f=>{const d=(e-Math.min(o,f))*i/2;return ii(f,0,Math.min(o,d))};return{outerStart:u(s.outerStart),outerEnd:u(s.outerEnd),innerStart:ii(s.innerStart,0,l),innerEnd:ii(s.innerEnd,0,l)}}function Tl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function $d(n,t,e,i,s,o){const{x:l,y:u,startAngle:f,pixelMargin:d,innerRadius:p}=t,_=Math.max(t.outerRadius+i+e-d,0),b=p>0?p+i+e+d:0;let T=0;const S=s-f;if(i){const _t=p>0?p-i:0,nt=_>0?_-i:0,mt=(_t+nt)/2,ht=mt!==0?S*mt/(mt+i):S;T=(S-ht)/2}const D=Math.max(.001,S*_-e/rn)/_,C=(S-D)/2,P=f+C+T,U=s-C-T,{outerStart:G,outerEnd:tt,innerStart:O,innerEnd:K}=aj(t,b,_,U-P),k=_-G,x=_-tt,A=P+G/k,M=U-tt/x,V=b+O,j=b+K,N=P+O/V,Bt=U-K/j;if(n.beginPath(),o){const _t=(A+M)/2;if(n.arc(l,u,_,A,_t),n.arc(l,u,_,_t,M),tt>0){const bt=Tl(x,M,l,u);n.arc(bt.x,bt.y,tt,M,U+un)}const nt=Tl(j,U,l,u);if(n.lineTo(nt.x,nt.y),K>0){const bt=Tl(j,Bt,l,u);n.arc(bt.x,bt.y,K,U+un,Bt+Math.PI)}const mt=(U-K/b+(P+O/b))/2;if(n.arc(l,u,b,U-K/b,mt,!0),n.arc(l,u,b,mt,P+O/b,!0),O>0){const bt=Tl(V,N,l,u);n.arc(bt.x,bt.y,O,N+Math.PI,P-un)}const ht=Tl(k,P,l,u);if(n.lineTo(ht.x,ht.y),G>0){const bt=Tl(k,A,l,u);n.arc(bt.x,bt.y,G,P-un,A)}}else{n.moveTo(l,u);const _t=Math.cos(A)*_+l,nt=Math.sin(A)*_+u;n.lineTo(_t,nt);const mt=Math.cos(M)*_+l,ht=Math.sin(M)*_+u;n.lineTo(mt,ht)}n.closePath()}function oj(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u}=t;let f=t.endAngle;if(o){$d(n,t,e,i,f,s);for(let d=0;d<o;++d)n.fill();isNaN(u)||(f=l+(u%nn||nn))}return $d(n,t,e,i,f,s),n.fill(),f}function lj(n,t,e,i,s){const{fullCircles:o,startAngle:l,circumference:u,options:f}=t,{borderWidth:d,borderJoinStyle:p,borderDash:_,borderDashOffset:b}=f,T=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=b,T?(n.lineWidth=d*2,n.lineJoin=p||"round"):(n.lineWidth=d,n.lineJoin=p||"bevel");let S=t.endAngle;if(o){$d(n,t,e,i,S,s);for(let D=0;D<o;++D)n.stroke();isNaN(u)||(S=l+(u%nn||nn))}T&&rj(n,t,S),o||($d(n,t,e,i,S,s),n.stroke())}class Eu extends _s{constructor(e){super();zt(this,"circumference");zt(this,"endAngle");zt(this,"fullCircles");zt(this,"innerRadius");zt(this,"outerRadius");zt(this,"pixelMargin");zt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,s){const o=this.getProps(["x","y"],s),{angle:l,distance:u}=e1(o,{x:e,y:i}),{startAngle:f,endAngle:d,innerRadius:p,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),T=(this.options.spacing+this.options.borderWidth)/2,S=_e(b,d-f),D=Fd(l,f,d)&&f!==d,C=S>=nn||D,P=po(u,p+T,_+T);return C&&P}getCenterPoint(e){const{x:i,y:s,startAngle:o,endAngle:l,innerRadius:u,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:p}=this.options,_=(o+l)/2,b=(u+f+p+d)/2;return{x:i+Math.cos(_)*b,y:s+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:s}=this,o=(i.offset||0)/4,l=(i.spacing||0)/2,u=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>nn?Math.floor(s/nn):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const d=1-Math.sin(Math.min(rn,s||0)),p=o*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,oj(e,this,p,l,u),lj(e,this,p,l,u),e.restore()}}zt(Eu,"id","arc"),zt(Eu,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),zt(Eu,"defaultRoutes",{backgroundColor:"backgroundColor"}),zt(Eu,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function I1(n,t){const{x:e,y:i,base:s,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,f,d,p,_;return n.horizontal?(_=l/2,u=Math.min(e,s),f=Math.max(e,s),d=i-_,p=i+_):(_=o/2,u=e-_,f=e+_,d=Math.min(i,s),p=Math.max(i,s)),{left:u,top:d,right:f,bottom:p}}function oa(n,t,e,i){return n?0:ii(t,e,i)}function cj(n,t,e){const i=n.options.borderWidth,s=n.borderSkipped,o=u1(i);return{t:oa(s.top,o.top,0,e),r:oa(s.right,o.right,0,t),b:oa(s.bottom,o.bottom,0,e),l:oa(s.left,o.left,0,t)}}function uj(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,o=kl(s),l=Math.min(t,e),u=n.borderSkipped,f=i||he(s);return{topLeft:oa(!f||u.top||u.left,o.topLeft,0,l),topRight:oa(!f||u.top||u.right,o.topRight,0,l),bottomLeft:oa(!f||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:oa(!f||u.bottom||u.right,o.bottomRight,0,l)}}function hj(n){const t=I1(n),e=t.right-t.left,i=t.bottom-t.top,s=cj(n,e/2,i/2),o=uj(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:e-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Zp(n,t,e,i){const s=t===null,o=e===null,u=n&&!(s&&o)&&I1(n,i);return u&&(s||po(t,u.left,u.right))&&(o||po(e,u.top,u.bottom))}function fj(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function dj(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jp(n,t,e={}){const i=n.x!==e.x?-t:0,s=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-s;return{x:n.x+i,y:n.y+s,w:n.w+o,h:n.h+l,radius:n.radius}}class gd extends _s{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:s}}=this,{inner:o,outer:l}=hj(this),u=fj(l.radius)?Hd:dj;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Jp(l,e,o)),t.clip(),u(t,Jp(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Jp(o,e)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,e,i){return Zp(this,t,e,i)}inXRange(t,e){return Zp(this,t,null,e)}inYRange(t,e){return Zp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+s)/2:e,y:o?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}zt(gd,"id","bar"),zt(gd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),zt(gd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const vS=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},gj=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class bS extends _s{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ke(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=Bn(i.font),o=s.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:f}=vS(i,o);let d,p;e.font=s.string,this.isHorizontal()?(d=this.maxWidth,p=this._fitRows(l,o,u,f)+10):(p=this.maxHeight,d=this._fitCols(l,s,u,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,s){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],p=s+u;let _=t;o.textAlign="left",o.textBaseline="middle";let b=-1,T=-p;return this.legendItems.forEach((S,D)=>{const C=i+e/2+o.measureText(S.text).width;(D===0||d[d.length-1]+C+2*u>l)&&(_+=p,d[d.length-(D>0?0:1)]=0,T+=p,b++),f[D]={left:0,top:T,row:b,width:C,height:s},d[d.length-1]+=C+u}),_}_fitCols(t,e,i,s){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],p=l-t;let _=u,b=0,T=0,S=0,D=0;return this.legendItems.forEach((C,P)=>{const{itemWidth:U,itemHeight:G}=mj(i,e,o,C,s);P>0&&T+G+2*u>p&&(_+=b+u,d.push({width:b,height:T}),S+=b+u,D++,b=T=0),f[P]={left:S,top:T,col:D,width:U,height:G},b=Math.max(b,U),T+=G+u}),_+=b,d.push({width:b,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:s},rtl:o}}=this,l=Pl(o,this.left,this.width);if(this.isHorizontal()){let u=0,f=Un(i,this.left+s,this.right-this.lineWidths[u]);for(const d of e)u!==d.row&&(u=d.row,f=Un(i,this.left+s,this.right-this.lineWidths[u])),d.top+=this.top+t+s,d.left=l.leftForLtr(l.x(f),d.width),f+=d.width+s}else{let u=0,f=Un(i,this.top+t+s,this.bottom-this.columnSizes[u].height);for(const d of e)d.col!==u&&(u=d.col,f=Un(i,this.top+t+s,this.bottom-this.columnSizes[u].height)),d.top=f,d.left+=this.left+s,d.left=l.leftForLtr(l.x(d.left),d.width),f+=d.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;sv(t,this),this._draw(),av(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:s}=this,{align:o,labels:l}=t,u=We.color,f=Pl(t.rtl,this.left,this.width),d=Bn(l.font),{padding:p}=l,_=d.size,b=_/2;let T;this.drawTitle(),s.textAlign=f.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=d.string;const{boxWidth:S,boxHeight:D,itemHeight:C}=vS(l,_),P=function(K,k,x){if(isNaN(S)||S<=0||isNaN(D)||D<0)return;s.save();const A=_e(x.lineWidth,1);if(s.fillStyle=_e(x.fillStyle,u),s.lineCap=_e(x.lineCap,"butt"),s.lineDashOffset=_e(x.lineDashOffset,0),s.lineJoin=_e(x.lineJoin,"miter"),s.lineWidth=A,s.strokeStyle=_e(x.strokeStyle,u),s.setLineDash(_e(x.lineDash,[])),l.usePointStyle){const M={radius:D*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:A},V=f.xPlus(K,S/2),j=k+b;l1(s,M,V,j,l.pointStyleWidth&&S)}else{const M=k+Math.max((_-D)/2,0),V=f.leftForLtr(K,S),j=kl(x.borderRadius);s.beginPath(),Object.values(j).some(N=>N!==0)?Hd(s,{x:V,y:M,w:S,h:D,radius:j}):s.rect(V,M,S,D),s.fill(),A!==0&&s.stroke()}s.restore()},U=function(K,k,x){Ku(s,x.text,K,k+C/2,d,{strikethrough:x.hidden,textAlign:f.textAlign(x.textAlign)})},G=this.isHorizontal(),tt=this._computeTitleHeight();G?T={x:Un(o,this.left+p,this.right-i[0]),y:this.top+p+tt,line:0}:T={x:this.left+p,y:Un(o,this.top+tt+p,this.bottom-e[0].height),line:0},m1(this.ctx,t.textDirection);const O=C+p;this.legendItems.forEach((K,k)=>{s.strokeStyle=K.fontColor,s.fillStyle=K.fontColor;const x=s.measureText(K.text).width,A=f.textAlign(K.textAlign||(K.textAlign=l.textAlign)),M=S+b+x;let V=T.x,j=T.y;f.setWidth(this.width),G?k>0&&V+M+p>this.right&&(j=T.y+=O,T.line++,V=T.x=Un(o,this.left+p,this.right-i[T.line])):k>0&&j+O>this.bottom&&(V=T.x=V+e[T.line].width+p,T.line++,j=T.y=Un(o,this.top+tt+p,this.bottom-e[T.line].height));const N=f.x(V);if(P(N,j,K),V=j4(A,V+S+b,G?V+M:this.right,t.rtl),U(f.x(V),j,K),G)T.x+=M+p;else if(typeof K.text!="string"){const Bt=d.lineHeight;T.y+=D1(K,Bt)+p}else T.y+=O}),p1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Bn(e.font),s=Bi(e.padding);if(!e.display)return;const o=Pl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,f=i.size/2,d=s.top+f;let p,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),p=this.top+d,_=Un(t.align,_,this.right-b);else{const S=this.columnSizes.reduce((D,C)=>Math.max(D,C.height),0);p=d+Un(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const T=Un(u,_,_+b);l.textAlign=o.textAlign(iv(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Ku(l,e.text,T,p,i)}_computeTitleHeight(){const t=this.options.title,e=Bn(t.font),i=Bi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,s,o;if(po(t,this.left,this.right)&&po(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(s=o[i],po(t,s.left,s.left+s.width)&&po(e,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!_j(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,o=gj(s,i);s&&!o&&ke(e.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!o&&ke(e.onHover,[t,i,this],this)}else i&&ke(e.onClick,[t,i,this],this)}}function mj(n,t,e,i,s){const o=pj(i,n,t,e),l=yj(s,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function pj(n,t,e,i){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(s).width}function yj(n,t,e){let i=n;return typeof t.text!="string"&&(i=D1(t,e)),i}function D1(n,t){const e=n.text?n.text.length:0;return t*e}function _j(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var M1={id:"legend",_element:bS,start(n,t,e){const i=n.legend=new bS({ctx:n.ctx,options:e,chart:n});Ui.configure(n,i,e),Ui.addBox(n,i)},stop(n){Ui.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ui.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,s=e.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:s,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),p=Bi(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:s||d.textAlign,borderRadius:l&&(u||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class O1 extends _s{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const s=cn(i.text)?i.text.length:1;this._padding=Bi(i.padding);const o=s*Bn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:s,right:o,options:l}=this,u=l.align;let f=0,d,p,_;return this.isHorizontal()?(p=Un(u,i,o),_=e+t,d=o-i):(l.position==="left"?(p=i+t,_=Un(u,s,e),f=rn*-.5):(p=o-t,_=Un(u,e,s),f=rn*.5),d=s-e),{titleX:p,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Bn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:f,rotation:d}=this._drawArgs(o);Ku(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:iv(e.align),textBaseline:"middle",translation:[l,u]})}}function vj(n,t){const e=new O1({ctx:n.ctx,options:t,chart:n});Ui.configure(n,e,t),Ui.addBox(n,e),n.titleBlock=e}var bj={id:"title",_element:O1,start(n,t,e){vj(n,e)},stop(n){const t=n.titleBlock;Ui.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ui.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(n){if(!n.length)return!1;let t,e,i=new Set,s=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const f=u.tooltipPosition();i.add(f.x),s+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,f)=>u+f)/i.size,y:s/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,s=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),p=P4(t,d);p<s&&(s=p,u=f)}}if(u){const f=u.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function br(n,t){return t&&(cn(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ss(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function Ej(n,t){const{element:e,datasetIndex:i,index:s}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(s);return{chart:n,label:l,parsed:o.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:u,dataset:o.getDataset(),dataIndex:s,datasetIndex:i,element:e}}function ES(n,t){const e=n.chart.ctx,{body:i,footer:s,title:o}=n,{boxWidth:l,boxHeight:u}=t,f=Bn(t.bodyFont),d=Bn(t.titleFont),p=Bn(t.footerFont),_=o.length,b=s.length,T=i.length,S=Bi(t.padding);let D=S.height,C=0,P=i.reduce((tt,O)=>tt+O.before.length+O.lines.length+O.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,_&&(D+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),P){const tt=t.displayColors?Math.max(u,f.lineHeight):f.lineHeight;D+=T*tt+(P-T)*f.lineHeight+(P-1)*t.bodySpacing}b&&(D+=t.footerMarginTop+b*p.lineHeight+(b-1)*t.footerSpacing);let U=0;const G=function(tt){C=Math.max(C,e.measureText(tt).width+U)};return e.save(),e.font=d.string,we(n.title,G),e.font=f.string,we(n.beforeBody.concat(n.afterBody),G),U=t.displayColors?l+2+t.boxPadding:0,we(i,tt=>{we(tt.before,G),we(tt.lines,G),we(tt.after,G)}),U=0,e.font=p.string,we(n.footer,G),e.restore(),C+=S.width,{width:C,height:D}}function wj(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function Tj(n,t,e,i){const{x:s,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&s+o+l>t.width||n==="right"&&s-o-l<0)return!0}function Sj(n,t,e,i){const{x:s,width:o}=e,{width:l,chartArea:{left:u,right:f}}=n;let d="center";return i==="center"?d=s<=(u+f)/2?"left":"right":s<=o/2?d="left":s>=l-o/2&&(d="right"),Tj(d,n,t,e)&&(d="center"),d}function wS(n,t,e){const i=e.yAlign||t.yAlign||wj(n,e);return{xAlign:e.xAlign||t.xAlign||Sj(n,t,e,i),yAlign:i}}function Aj(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function xj(n,t,e){let{y:i,height:s}=n;return t==="top"?i+=e:t==="bottom"?i-=s+e:i-=s/2,i}function TS(n,t,e,i){const{caretSize:s,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:f}=e,d=s+o,{topLeft:p,topRight:_,bottomLeft:b,bottomRight:T}=kl(l);let S=Aj(t,u);const D=xj(t,f,d);return f==="center"?u==="left"?S+=d:u==="right"&&(S-=d):u==="left"?S-=Math.max(p,b)+s:u==="right"&&(S+=Math.max(_,T)+s),{x:ii(S,0,i.width-t.width),y:ii(D,0,i.height-t.height)}}function Yf(n,t,e){const i=Bi(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function SS(n){return br([],ss(n))}function Rj(n,t,e){return nc(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function AS(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const k1={beforeTitle:is,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:is,beforeBody:is,beforeLabel:is,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ce(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:is,afterBody:is,beforeFooter:is,footer:is,afterFooter:is};function Jn(n,t,e,i){const s=n[t].call(e,i);return typeof s>"u"?k1[t].call(e,i):s}class Uy extends _s{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&e.options.animation&&i.animations,o=new y1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Rj(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,s=Jn(i,"beforeTitle",this,t),o=Jn(i,"title",this,t),l=Jn(i,"afterTitle",this,t);let u=[];return u=br(u,ss(s)),u=br(u,ss(o)),u=br(u,ss(l)),u}getBeforeBody(t,e){return SS(Jn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,s=[];return we(t,o=>{const l={before:[],lines:[],after:[]},u=AS(i,o);br(l.before,ss(Jn(u,"beforeLabel",this,o))),br(l.lines,Jn(u,"label",this,o)),br(l.after,ss(Jn(u,"afterLabel",this,o))),s.push(l)}),s}getAfterBody(t,e){return SS(Jn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,s=Jn(i,"beforeFooter",this,t),o=Jn(i,"footer",this,t),l=Jn(i,"afterFooter",this,t);let u=[];return u=br(u,ss(s)),u=br(u,ss(o)),u=br(u,ss(l)),u}_createItems(t){const e=this._active,i=this.chart.data,s=[],o=[],l=[];let u=[],f,d;for(f=0,d=e.length;f<d;++f)u.push(Ej(this.chart,e[f]));return t.filter&&(u=u.filter((p,_,b)=>t.filter(p,_,b,i))),t.itemSort&&(u=u.sort((p,_)=>t.itemSort(p,_,i))),we(u,p=>{const _=AS(t.callbacks,p);s.push(Jn(_,"labelColor",this,p)),o.push(Jn(_,"labelPointStyle",this,p)),l.push(Jn(_,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),s=this._active;let o,l=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const u=wu[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const f=this._size=ES(this,i),d=Object.assign({},u,f),p=wS(this.chart,i,d),_=TS(i,d,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,s){const o=this.getCaretPosition(t,i,s);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:s,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:f,topRight:d,bottomLeft:p,bottomRight:_}=kl(u),{x:b,y:T}=t,{width:S,height:D}=e;let C,P,U,G,tt,O;return o==="center"?(tt=T+D/2,s==="left"?(C=b,P=C-l,G=tt+l,O=tt-l):(C=b+S,P=C+l,G=tt-l,O=tt+l),U=C):(s==="left"?P=b+Math.max(f,p)+l:s==="right"?P=b+S-Math.max(d,_)-l:P=this.caretX,o==="top"?(G=T,tt=G-l,C=P-l,U=P+l):(G=T+D,tt=G+l,C=P+l,U=P-l),O=G),{x1:C,x2:P,x3:U,y1:G,y2:tt,y3:O}}drawTitle(t,e,i){const s=this.title,o=s.length;let l,u,f;if(o){const d=Pl(i.rtl,this.x,this.width);for(t.x=Yf(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",l=Bn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,f=0;f<o;++f)e.fillText(s[f],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,f+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,s,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,p=Bn(o.bodyFont),_=Yf(this,"left",o),b=s.x(_),T=f<p.lineHeight?(p.lineHeight-f)/2:0,S=e.y+T;if(o.usePointStyle){const D={radius:Math.min(d,f)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=s.leftForLtr(b,d)+d/2,P=S+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,jT(t,D,C,P),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,jT(t,D,C,P)}else{t.lineWidth=he(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const D=s.leftForLtr(b,d),C=s.leftForLtr(s.xPlus(b,1),d-2),P=kl(l.borderRadius);Object.values(P).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Hd(t,{x:D,y:S,w:d,h:f,radius:P}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Hd(t,{x:C,y:S+1,w:d-2,h:f-2,radius:P}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(D,S,d,f),t.strokeRect(D,S,d,f),t.fillStyle=l.backgroundColor,t.fillRect(C,S+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:s}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:f,boxWidth:d,boxPadding:p}=i,_=Bn(i.bodyFont);let b=_.lineHeight,T=0;const S=Pl(i.rtl,this.x,this.width),D=function(x){e.fillText(x,S.x(t.x+T),t.y+b/2),t.y+=b+o},C=S.textAlign(l);let P,U,G,tt,O,K,k;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=Yf(this,C,i),e.fillStyle=i.bodyColor,we(this.beforeBody,D),T=u&&C!=="right"?l==="center"?d/2+p:d+2+p:0,tt=0,K=s.length;tt<K;++tt){for(P=s[tt],U=this.labelTextColors[tt],e.fillStyle=U,we(P.before,D),G=P.lines,u&&G.length&&(this._drawColorBox(e,t,tt,S,i),b=Math.max(_.lineHeight,f)),O=0,k=G.length;O<k;++O)D(G[O]),b=_.lineHeight;we(P.after,D)}T=0,b=_.lineHeight,we(this.afterBody,D),t.y-=o}drawFooter(t,e,i){const s=this.footer,o=s.length;let l,u;if(o){const f=Pl(i.rtl,this.x,this.width);for(t.x=Yf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",l=Bn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(s[u],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,s){const{xAlign:o,yAlign:l}=this,{x:u,y:f}=t,{width:d,height:p}=i,{topLeft:_,topRight:b,bottomLeft:T,bottomRight:S}=kl(s.cornerRadius);e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,e.lineWidth=s.borderWidth,e.beginPath(),e.moveTo(u+_,f),l==="top"&&this.drawCaret(t,e,i,s),e.lineTo(u+d-b,f),e.quadraticCurveTo(u+d,f,u+d,f+b),l==="center"&&o==="right"&&this.drawCaret(t,e,i,s),e.lineTo(u+d,f+p-S),e.quadraticCurveTo(u+d,f+p,u+d-S,f+p),l==="bottom"&&this.drawCaret(t,e,i,s),e.lineTo(u+T,f+p),e.quadraticCurveTo(u,f+p,u,f+p-T),l==="center"&&o==="left"&&this.drawCaret(t,e,i,s),e.lineTo(u,f+_),e.quadraticCurveTo(u,f,u+_,f),e.closePath(),e.fill(),s.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,s=i&&i.x,o=i&&i.y;if(s||o){const l=wu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=ES(this,t),f=Object.assign({},l,this._size),d=wS(e,t,f),p=TS(t,f,d,e);(s._to!==p.x||o._to!==p.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Bi(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,s,e),m1(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),p1(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,s=t.map(({datasetIndex:u,index:f})=>{const d=this.chart.getDatasetMeta(u);if(!d)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:d.data[f],index:f}}),o=!Ud(i,s),l=this._positionChanged(s,e);(o||l)&&(this._active=s,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),f=e||!Ud(l,o)||u;return f&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,s){const o=this.options;if(t.type==="mouseout")return[];if(!s)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:s,options:o}=this,l=wu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||s!==l.y)}}zt(Uy,"positioners",wu);var P1={id:"tooltip",_element:Uy,positioners:wu,afterInit(n,t,e){e&&(n.tooltip=new Uy({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:k1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Cj=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function Ij(n,t,e,i){const s=n.indexOf(t);if(s===-1)return Cj(n,t,e,i);const o=n.lastIndexOf(t);return s!==o?e:s}const Dj=(n,t)=>n===null?null:ii(Math.round(n),0,t);function xS(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class zy extends ic{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:s,label:o}of e)i[s]===o&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ce(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:Ij(i,t,_e(e,t),this._addedLabels),Dj(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,s=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)s.push({value:l});return s}getLabelForValue(t){return xS.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}zt(zy,"id","category"),zt(zy,"defaults",{ticks:{callback:xS}});function Mj(n,t){const e=[],{bounds:s,step:o,min:l,max:u,precision:f,count:d,maxTicks:p,maxDigits:_,includeBounds:b}=n,T=o||1,S=p-1,{min:D,max:C}=t,P=!Ce(l),U=!Ce(u),G=!Ce(d),tt=(C-D)/(_+1);let O=MT((C-D)/S/T)*T,K,k,x,A;if(O<1e-14&&!P&&!U)return[{value:D},{value:C}];A=Math.ceil(C/O)-Math.floor(D/O),A>S&&(O=MT(A*O/S/T)*T),Ce(f)||(K=Math.pow(10,f),O=Math.ceil(O*K)/K),s==="ticks"?(k=Math.floor(D/O)*O,x=Math.ceil(C/O)*O):(k=D,x=C),P&&U&&o&&M4((u-l)/o,O/1e3)?(A=Math.round(Math.min((u-l)/O,p)),O=(u-l)/A,k=l,x=u):G?(k=P?l:k,x=U?u:x,A=d-1,O=(x-k)/A):(A=(x-k)/O,ud(A,Math.round(A),O/1e3)?A=Math.round(A):A=Math.ceil(A));const M=Math.max(OT(O),OT(k));K=Math.pow(10,Ce(f)?M:f),k=Math.round(k*K)/K,x=Math.round(x*K)/K;let V=0;for(P&&(b&&k!==l?(e.push({value:l}),k<l&&V++,ud(Math.round((k+V*O)*K)/K,l,RS(l,tt,n))&&V++):k<l&&V++);V<A;++V){const j=Math.round((k+V*O)*K)/K;if(U&&j>u)break;e.push({value:j})}return U&&b&&x!==u?e.length&&ud(e[e.length-1].value,u,RS(u,tt,n))?e[e.length-1].value=u:e.push({value:u}):(!U||x===u)&&e.push({value:x}),e}function RS(n,t,{horizontal:e,minRotation:i}){const s=us(i),o=(e?Math.sin(s):Math.cos(s))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Oj extends ic{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ce(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:s,max:o}=this;const l=f=>s=e?s:f,u=f=>o=i?o:f;if(t){const f=ga(s),d=ga(o);f<0&&d<0?u(0):f>0&&d>0&&l(0)}if(s===o){let f=o===0?1:Math.abs(o*.05);u(o+f),t||l(s-f)}this.min=s,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),e=e||11),e&&(s=Math.min(e,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=Mj(s,o);return t.bounds==="ticks"&&O4(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-e)/Math.max(t.length-1,1)/2;e-=s,i+=s}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return rv(t,this.chart.options.locale,this.options.ticks.format)}}class jy extends Oj{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ji(t)?t:0,this.max=ji(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=us(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}zt(jy,"id","linear"),zt(jy,"defaults",{ticks:{callback:o1.formatters.numeric}});const wg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ni=Object.keys(wg);function CS(n,t){return n-t}function IS(n,t){if(Ce(t))return null;const e=n._adapter,{parser:i,round:s,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ji(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(s&&(l=s==="week"&&(Bd(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,s)),+l)}function DS(n,t,e,i){const s=ni.length;for(let o=ni.indexOf(n);o<s-1;++o){const l=wg[ni[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return ni[o]}return ni[s-1]}function kj(n,t,e,i,s){for(let o=ni.length-1;o>=ni.indexOf(e);o--){const l=ni[o];if(wg[l].common&&n._adapter.diff(s,i,l)>=t-1)return l}return ni[e?ni.indexOf(e):0]}function Pj(n){for(let t=ni.indexOf(n)+1,e=ni.length;t<e;++t)if(wg[ni[t]].common)return ni[t]}function MS(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:s}=nv(e,t),o=e[i]>=t?e[i]:e[s];n[o]=!0}}function Nj(n,t,e,i){const s=n._adapter,o=+s.startOf(t[0].value,i),l=t[t.length-1].value;let u,f;for(u=o;u<=l;u=+s.add(u,1,i))f=e[u],f>=0&&(t[f].major=!0);return t}function OS(n,t,e){const i=[],s={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],s[u]=l,i.push({value:u,major:!1});return o===0||!e?i:Nj(n,i,s,e)}class Kd extends ic{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),s=this._adapter=new Wz._date(t.adapters.date);s.init(e),Cu(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:IS(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:s,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function f(d){!l&&!isNaN(d.min)&&(s=Math.min(s,d.min)),!u&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!l||!u)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),s=ji(s)&&!isNaN(s)?s:+e.startOf(Date.now(),i),o=ji(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=this.max,u=V4(s,o,l);return this._unit=e.unit||(i.autoSkip?DS(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):kj(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Pj(this._unit),this.initOffsets(s),t.reverse&&u.reverse(),OS(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?e=1-s:e=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=ii(e,0,l),i=ii(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,s=this.options,o=s.time,l=o.unit||DS(o.minUnit,e,i,this._getLabelCapacity(e)),u=_e(s.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,d=Bd(f)||f===!0,p={};let _=e,b,T;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=s.ticks.source==="data"&&this.getDataTimestamps();for(b=_,T=0;b<i;b=+t.add(b,u,l),T++)MS(p,b,S);return(b===i||s.bounds==="ticks"||T===1)&&MS(p,b,S),Object.keys(p).sort(CS).map(D=>+D)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const s=this.options.time.displayFormats,o=this._unit,l=e||s[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,s){const o=this.options,l=o.ticks.callback;if(l)return ke(l,[t,e,i],this);const u=o.time.displayFormats,f=this._unit,d=this._majorUnit,p=f&&u[f],_=d&&u[d],b=i[e],T=d&&_&&b&&b.major;return this._adapter.format(t,s||(T?_:p))}generateTickLabels(t){let e,i,s;for(e=0,i=t.length;e<i;++e)s=t[e],s.label=this._tickFormatFunction(s.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,s=us(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(s),l=Math.sin(s),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,s=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,OS(this,[t],this._majorUnit),s),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,i=s.length;e<i;++e)t=t.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const s=this.getLabels();for(e=0,i=s.length;e<i;++e)t.push(IS(this,s[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return i1(t.sort(CS))}}zt(Kd,"id","time"),zt(Kd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Qf(n,t,e){let i=0,s=n.length-1,o,l,u,f;e?(t>=n[i].pos&&t<=n[s].pos&&({lo:i,hi:s}=ky(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:f}=n[s]):(t>=n[i].time&&t<=n[s].time&&({lo:i,hi:s}=ky(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:f}=n[s]);const d=l-o;return d?u+(f-u)*(t-o)/d:u}class kS extends Kd{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Qf(e,this.min),this._tableRange=Qf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,s=[],o=[];let l,u,f,d,p;for(l=0,u=t.length;l<u;++l)d=t[l],d>=e&&d<=i&&s.push(d);if(s.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=s.length;l<u;++l)p=s[l+1],f=s[l-1],d=s[l],Math.round((p+f)/2)!==d&&o.push({time:d,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((s,o)=>s-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Qf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Qf(this._table,i*this._tableRange+this._minPos,!0)}}zt(kS,"id","timeseries"),zt(kS,"defaults",Kd.defaults);const N1="label";function PS(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function Lj(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function L1(n,t){n.labels=t}function V1(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:N1;const i=[];n.datasets=t.map(s=>{const o=n.datasets.find(l=>l[e]===s[e]);return!o||!s.data||i.includes(o)?{...s}:(i.push(o),Object.assign(o,s),o)})}function Vj(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N1;const e={labels:[],datasets:[]};return L1(e,n.labels),V1(e,n.datasets,t),e}function Uj(n,t){const{height:e=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:l,data:u,options:f,plugins:d=[],fallbackContent:p,updateMode:_,...b}=n,T=$.useRef(null),S=$.useRef(null),D=()=>{T.current&&(S.current=new gh(T.current,{type:l,data:Vj(u,o),options:f&&{...f},plugins:d}),PS(t,S.current))},C=()=>{PS(t,null),S.current&&(S.current.destroy(),S.current=null)};return $.useEffect(()=>{!s&&S.current&&f&&Lj(S.current,f)},[s,f]),$.useEffect(()=>{!s&&S.current&&L1(S.current.config.data,u.labels)},[s,u.labels]),$.useEffect(()=>{!s&&S.current&&u.datasets&&V1(S.current.config.data,u.datasets,o)},[s,u.datasets]),$.useEffect(()=>{S.current&&(s?(C(),setTimeout(D)):S.current.update(_))},[s,f,u.labels,u.datasets,_]),$.useEffect(()=>{S.current&&(C(),setTimeout(D))},[l]),$.useEffect(()=>(D(),()=>C()),[]),NS.createElement("canvas",{ref:T,role:"img",height:e,width:i,...b},p)}const zj=$.forwardRef(Uj);function U1(n,t){return gh.register(t),$.forwardRef((e,i)=>NS.createElement(zj,{...e,ref:i,type:n}))}const jj=U1("bar",hd),Bj=U1("pie",Ny);gh.register(Eu,P1,M1);const Fj=({info:n})=>{const t={labels:n.map(e=>e.label),datasets:[{label:"Items Sold",data:n.map(e=>e.sum),backgroundColor:["rgba(153, 102, 255, 0.5)","rgba(255, 206, 86, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(75, 192, 192, 0.5)","rgba(255, 159, 64, 0.)"],borderColor:["rgba(153, 102, 255, 1)","rgba(255, 206, 86, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return F.jsx(Bj,{data:t})};gh.register(zy,jy,gd,bj,P1,M1);const Hj=({info:n})=>{const t={labels:n.map(e=>e.label),datasets:[{label:"Items Sold",data:n.map(e=>e.sum),backgroundColor:["rgba(75, 192, 192, 0.5)","rgba(153, 102, 255, 0.5)","rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(255, 159, 64, 0.)"],borderColor:["rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]};return F.jsx(jj,{data:t,options:{plugins:{legend:{display:!1}}}})},qj=()=>{const n=Co(),[t,e]=$.useState(""),i=$.useMemo(()=>{const{orders:s,products:o}=n,l=t?s.data.filter(f=>f.user.email===t):s.data;return o.data.map(f=>{const d=l.reduce((p,_)=>{var b;return((b=_.productsInOrder[f.id])==null?void 0:b.quantity)||0+p},0);return{label:f.title,sum:d}})},[n,t]);return F.jsxs("div",{children:[F.jsx(X_,{options:ei("users"),label:"Filter by customer",accessField:s=>s.firstName,name:"costumers",placeholder:"All",onSelect:(s,o)=>e(o.email)}),F.jsx(Hj,{info:i})]})},Gj=()=>{const n=Co(),t=$.useMemo(()=>{const{orders:e,products:i}=n;return i.data.map(o=>{const l=e.data.reduce((u,f)=>{var d;return((d=f.productsInOrder[o.id])==null?void 0:d.quantity)||0+u},0);return{label:o.title,sum:l}})},[n]);return F.jsxs("div",{className:"p-4 flex flex-wrap justify-center gap-4",children:[F.jsxs("div",{className:"max-w-96 border w-full p-2",children:[F.jsx("h1",{className:"text-3xl font-bold mb-4",children:" Total Sold Products"}),F.jsx(Fj,{info:t})]}),F.jsxs("div",{className:"max-w-96 border w-full p-2",children:[F.jsx("h1",{className:"text-3xl font-bold mb-4",children:" Products Quantity Per Costumer"}),F.jsx(qj,{})]})]})},$j=()=>(Q_(),F.jsxs("div",{className:"flex-grow w-full flex flex-col",children:[F.jsx("div",{className:"p-4 border-b-2 border-gray-400 sticky top-0 bg-white",children:F.jsx($R,{routes:j1})}),F.jsx("div",{className:"bg-gray-400  flex-grow ",children:F.jsx(Qy,{})})]})),Kj=()=>{const{users:n,orders:t}=Co(),e=[{header:"Full Name",accessField:"firstName",cell:i=>`${i.firstName} ${i.lastName}`},{header:"Joined At",accessField:"createdAt",cell:i=>{var s;return(s=i.createdAt)==null?void 0:s.toDate().toLocaleDateString("he-il").replaceAll(".","/")}},{header:"Prouducts Bought",accessField:"orders",cell:i=>{const s=[{header:"Product",accessField:"name"},{header:"Qty",accessField:"quantity"},{header:"Date",accessField:"createdAt"}],o=t.filter(l=>l.user.email===i.email).map(l=>Object.values(l.productsInOrder).map(f=>{var d;return{name:f.product.title,quantity:f.quantity,createdAt:(d=l.orderDate)==null?void 0:d.toDate().toLocaleDateString("he-il").replaceAll(".","/")}})).flat();return console.log("usersOrders",o),F.jsx(Vd,{columns:s,data:o})}}];return F.jsxs("div",{className:"flex flex-col gap-4 justify-center text-center px-6 paper mt-6",children:[F.jsx("h2",{className:"text-3xl font-bold",children:"Customers"}),F.jsx(Vd,{className:"paper",columns:e,data:n})]})},Wj=async(n,t)=>{const e=t.get("firstName"),i=t.get("lastName"),s=t.get("userName"),o=t.get("password"),l=!!t.get("showOrders"),u=t.get("id"),f={firstName:e,lastName:i,userName:s,showOrders:l};console.log("[Put] User:",f);try{return u&&(await vg("users",u,f),f.password=o,ec.updateCurrentUser(f)),{success:!0,message:"User was updated successfully"}}catch(d){return{success:!1,message:d.message}}},Yj=()=>{const{currentUser:n}=Q_();return F.jsx(fh,{className:"paper mt-6",action:Wj,children:n?F.jsxs(F.Fragment,{children:[F.jsx(He,{label:"First Name",defaultValue:n.firstName,name:"firstName"}),F.jsx(He,{label:"Last Name",defaultValue:n.lastName,name:"lastName"}),F.jsx(He,{label:"User Name",defaultValue:n.userName,name:"userName"}),F.jsx(He,{label:"Password",defaultValue:n.password,name:"password"}),F.jsx(He,{defaultValue:n.id,name:"id",className:"hidden"}),F.jsx(He,{defaultValue:n.email,name:"email",className:"hidden"}),F.jsx(GR,{label:"Allow others see myorders",type:"checkbox",id:"showOrders",name:"showOrders",defaultValue:n.showOrders}),F.jsx(_o,{children:"Save"})]}):F.jsx(gA,{})})},Qj=[{orderDate:new Date("2025-03-20T02:17:40.000Z"),productsInOrder:{"4GZK6Ra9QSDIzyH0kKN7":{product:{price:20,title:"jakcet"},quantity:4,totalPrice:80},quruySh4ppdHbOn9VchQ:{product:{price:30,title:"jakcet"},quantity:5,totalPrice:150}},user:{email:"benshuan@gmail.com",id:"tth0hZbdnLSoY9acwBZ4GjktWyq1",name:"ben"}},{orderDate:new Date("2025-04-15T10:30:00.000Z"),productsInOrder:{product1Id:{product:{price:15,title:"T-shirt"},quantity:2,totalPrice:30},product2Id:{product:{price:50,title:"Jeans"},quantity:1,totalPrice:50}},user:{email:"benshuan@gmail.com",id:"tth0hZbdnLSoY9acwBZ4GjktWyq1",name:"ben"}},{orderDate:new Date("2025-05-01T15:45:00.000Z"),productsInOrder:{product3Id:{product:{price:10,title:"Socks"},quantity:10,totalPrice:100},product4Id:{product:{price:40,title:"Hoodie"},quantity:3,totalPrice:120},product5Id:{product:{price:25,title:"Shorts"},quantity:2,totalPrice:50}},user:{email:"benshuan@gmail.com",id:"tth0hZbdnLSoY9acwBZ4GjktWyq1",name:"ben"}}];console.log(Qj);const Xj=()=>{const n=Co();console.log("[Fetch] User Orders:",n);const t=n.map(i=>Object.values(i.productsInOrder).map((o,l)=>{var u;return{id:o.product.id+Math.random(),title:o.product.title,qty:o.quantity,totle:o.totalPrice,date:(u=i.orderDate)==null?void 0:u.toDate().toLocaleDateString("he-il").replaceAll(".","/")}})).flat(),e=[{header:"Title",accessField:"title"},{header:"Qty",accessField:"qty"},{header:"Total",accessField:"orders",cell:i=>`$${i.totle}`},{header:"Date",accessField:"date"}];return console.log("Products",t),F.jsx("div",{className:"p-4",children:F.jsx(Vd,{columns:e,data:t})})},Tg=$.createContext(null);function Zj({children:n}){const[t,e]=$.useState({}),i=$.useMemo(()=>Object.values(t),[t]),s=$.useMemo(()=>i.reduce((d,p)=>d+p.totalPrice,0),[i]),o=d=>{var p;return(p=i.find(_=>_.product.id===d))==null?void 0:p.quantity},l=d=>{const p={...t};delete p[d],e(p)},u=(d,p)=>{if(console.log("[data]",p),p===0)return l(d.id);e(_=>({..._,[d.id]:{quantity:p,product:d,totalPrice:d.price*p}}))},f=async()=>{const d=(await Ld("users/"+localStorage.getItem("token"))).data;console.log("[Fetch] User:",d);const _=await Y_("orders",{orderDate:new Date,productsInOrder:t,user:d});_.success?(alert(_.message),e({})):alert(_.message)};return F.jsx(Tg,{value:{deleteItemFromCart:l,updateItemInCart:u,order:f,countItemInCart:o,cart:t,cartList:i,totalPrice:s},children:n})}const Jj=async n=>{const t=(await ei("users")).data,i=(await ei("orders")).data.reduce((s,o)=>{var u;return t.find(f=>f.id===o.user.id).showOrders?s+(((u=o.productsInOrder[n])==null?void 0:u.quantity)||0):s},0);return console.log(`[Fetch] ${n} bought:`,i),i},t9=({productId:n})=>{const[t,e]=$.useState(null);return $.useEffect(()=>{(async()=>{const s=await Jj(n);e(s)})()},[]),F.jsx("div",{children:F.jsxs("p",{children:["Bought ",t]})})},e9=({product:n})=>{const{updateItemInCart:t,countItemInCart:e,cartList:i}=$.useContext(Tg),s=$.useMemo(()=>e(n.id)||0,[i]);return F.jsxs("div",{className:"flex gap-2",children:[F.jsx("button",{className:"rounded-full text-3xl content-center px-4 bg-gray-200 size-12",onClick:()=>t(n,s-1),children:" - "}),F.jsx(He,{className:"*:rounded-full *:text-center *:size-12  ",min:0,type:"number",onChange:o=>t(n,+o.target.value),value:s}),F.jsx("button",{className:"rounded-full text-3xl content-center px-4 bg-gray-200 size-12 ",onClick:()=>t(n,s+1),children:"+"})]})},n9=({product:n})=>F.jsxs("div",{className:"paper flex-row rounded-4xl ",children:[F.jsxs("div",{className:"w-2/5 p-4",children:[F.jsx("h3",{className:"text-3xl font-bold mb-4",children:n.title}),F.jsx("p",{className:"mb-2 text-lg",children:n.description}),F.jsxs("p",{className:"mb-2 text-lg",children:["Price: $",n.price]}),F.jsxs("p",{className:"mb-2 text-lg",children:["In Stock: ",n.inStock]}),F.jsx(e9,{product:n})]}),F.jsx("div",{className:"w-2/5",children:F.jsx("img",{className:" w-3/4  aspect-square m-auto ",src:n.imageUrl||"https://salonlfc.com/wp-content/uploads/2018/01/image-not-found-scaled-1150x647.png",alt:n.title})}),F.jsx("div",{className:"w-1/5 text-center",children:F.jsx(t9,{productId:n.id})})]}),i9=({filter:n,setFilter:t,clearCart:e})=>F.jsxs("div",{className:"flex flex-col md:flex-row flex-wrap w-full  content-baseline justify-center items-baseline gap-4 ",children:[F.jsx("span",{children:"Filter by: "}),F.jsx(X_,{name:"category",options:ei("categories"),label:"Category: ",type:"text",className:"flex-row gap-2",value:n.category||"",onChange:t,accessField:i=>i.name}),F.jsx(He,{name:"price",label:"Price: ",type:"range",className:"flex-row gap-2",value:n.price||0,onChange:t,min:0,max:1e4}),F.jsxs("span",{children:[n.price||0,"$"]}),F.jsx(He,{name:"title",label:"Title: ",type:"text",className:"flex-row gap-2",value:n.title||"",onChange:t}),F.jsx(Jd,{onClick:e,children:"Clear"})]}),r9=()=>{const n=Co(),[t,e]=$.useState({}),i=$.useMemo(()=>{console.log("filter",t);let l=n;return Object.keys(t).length===0?n:(t.title&&(l=l.filter(u=>u.title.toLowerCase().includes(t.title.toLowerCase())),console.log("filterdProducts",l)),t.price&&(l=l.filter(u=>+u.price<=t.price),console.log("filterdProducts",l)),t.category&&(l=l.filter(u=>u.category.toLowerCase().includes(t.category.toLowerCase())),console.log("filterdProducts",l)),l)},[t,n]),s=l=>{const u=l.target.name,f=l.target.value;if(!f)return e(d=>({...d,[u]:null}));e(d=>({...d,[u]:f}))},o=()=>{e({})};return F.jsxs("div",{className:"p-4 pl-12  overflow-scroll ",children:[F.jsx(i9,{filter:t,setFilter:s,clearCart:o}),F.jsx("div",{children:F.jsx("ul",{className:"flex flex-col gap-4 justify-center p-4",children:i.map(l=>F.jsx(n9,{product:l},l.id))})})]})},s9=({product:n})=>{const{updateItemInCart:t,deleteItemFromCart:e}=$.useContext(Tg);return F.jsxs("div",{className:"grid grid-cols-7 text-center items-center content-center bg-gray-400/50 h-12 pl-4  pr-8 py-2 rounded-4xl transition-all duration-300 ",children:[F.jsx("p",{className:"col-span-2",children:n.product.title}),F.jsxs("div",{className:"flex items-center justify-center gap-2 col-span-2",children:[" ",F.jsx("span",{onClick:()=>t(n.product,n.quantity-1),children:F.jsx(TO,{})})," ",n.quantity," ",F.jsx("span",{onClick:()=>t(n.product,n.quantity+1),children:F.jsx(AO,{})})," "]}),F.jsxs("p",{className:"col-span-2",children:["Total: $",n.totalPrice]}),F.jsx("button",{onClick:()=>e(n.product.id),className:"col-span-1 bg-red-500 text-white rounded-full size-8 hover:bg-red-300 ml-auto",children:"X"})]})},a9=()=>{const{cartList:n,totalPrice:t,order:e}=$.useContext(Tg);return F.jsxs("div",{className:"min-w-md w-fit flex flex-col h-full bg-amber-100 p-4",children:[F.jsx("h1",{className:"text-2xl font-bold",children:"Cart"}),F.jsx("ul",{className:"flex-grow flex flex-col gap-4",children:n.map(i=>F.jsx("li",{children:F.jsx(s9,{product:i})},i.product.id))}),F.jsxs("p",{children:["Total: $",t," "]}),F.jsx(Jd,{onClick:e,children:"Order"})]})},o9=()=>{LD();const[n,t]=$.useState(!0);return F.jsx(Zj,{children:F.jsxs("div",{className:"flex justify-between h-[calc(100vh-6rem)]",children:[F.jsxs("div",{className:pa("relative h-full mr-12"),children:[n&&F.jsx(a9,{}),F.jsx("button",{className:"absolute top-1/2 -right-10 -translate-y-1/2 bg-amber-100 h-20 p-2 rounded-r-lg ",onClick:()=>t(e=>!e),children:n?F.jsx(_O,{}):F.jsx(bO,{})})]}),F.jsx(r9,{})]})})},l9=()=>{const n=Yd(),t=e=>{n("/")};return F.jsxs("div",{className:"paper",children:[F.jsx(Hu,{children:"Next Generation E-Commerce"}),F.jsxs(fh,{action:BU,onSuccess:t,children:[F.jsx(He,{label:"Email",type:"email",id:"email",name:"email"}),F.jsx(He,{label:"Password",type:"password",id:"password",name:"password"}),F.jsx(_o,{children:"Login"})]}),F.jsxs("p",{children:["New User? ",F.jsx(Zu,{className:"underline ",to:"/signup",children:"Register"})]})]})},z1=[{index:!0,path:"/admin",id:"Categories",element:F.jsx(YU,{}),loader:async({request:n,params:t})=>(await ei("categories")).data},{path:"/admin/products",id:"Products ",element:F.jsx(ZU,{}),loader:async({request:n,params:t})=>(await ei("products")).data},{path:"/admin/costumers",id:"Costumers",element:F.jsx(Kj,{}),loader:async({request:n,params:t})=>{const e=(await ei("users")).data,i=(await ei("orders")).data;return{users:e,orders:i}}},{path:"/admin/statistics",id:"Statistics",element:F.jsx(Gj,{}),loader:async({request:n,params:t})=>{try{const e=await ei("products");return{orders:await ei("orders"),products:e}}catch(e){return console.log("error",e),{success:!1,message:e.message}}}},{path:"/admin/logout",id:"Log out ",loader:async({request:n,params:t})=>(localStorage.removeItem("token"),ec.signOut())}],j1=[{path:"/",id:"Products",element:F.jsx(o9,{}),loader:async({request:n,params:t})=>{const e=localStorage.getItem("token"),i=await Ld("users/"+e);return console.log("[Fetch] user",i),i.data.isAdmin?YI("/admin"):(await ei("products")).data}},{path:"/orders",id:"My Orders",element:F.jsx(Xj,{}),loader:async({request:n,params:t})=>{const e=await Ld("users/"+localStorage.getItem("token"));return(await ei("orders",zR("user.id","==",e.data.id))).data}},{path:"/profile",id:"My Account",element:F.jsx(Yj,{})},{path:"/logout",id:"Log out",loader:async({request:n,params:t})=>(localStorage.removeItem("token"),ec.signOut())}],c9=dM([{path:"/",element:F.jsx($j,{}),children:j1},{path:"/login",element:F.jsx(l9,{})},{path:"/signup",element:F.jsx(FU,{})},{path:"/admin",element:F.jsx(qU,{}),children:z1}]);wI.createRoot(document.getElementById("root")).render(F.jsx($.StrictMode,{children:F.jsx(BD,{router:c9,children:F.jsx(AM,{})})}));
